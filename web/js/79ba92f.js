(function(){var v=typeof self==="object"&&self.self===self&&self||typeof global==="object"&&global.global===global&&global;var l=v._;var J=Array.prototype,i=Object.prototype;var M=J.push,n=J.slice,d=i.toString,k=i.hasOwnProperty;var r=Array.isArray,g=Object.keys,C=Object.create;var F=function(){};var Q=function(R){if(R instanceof Q){return R}if(!(this instanceof Q)){return new Q(R)}this._wrapped=R};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=Q}exports._=Q}else{v._=Q}Q.VERSION="1.8.3";var c=function(S,R,T){if(R===void 0){return S}switch(T==null?3:T){case 1:return function(U){return S.call(R,U)};case 2:return function(V,U){return S.call(R,V,U)};case 3:return function(V,U,W){return S.call(R,V,U,W)};case 4:return function(U,W,V,X){return S.call(R,U,W,V,X)}}return function(){return S.apply(R,arguments)}};var G=function(S,R,T){if(S==null){return Q.identity}if(Q.isFunction(S)){return c(S,R,T)}if(Q.isObject(S)){return Q.matcher(S)}return Q.property(S)};Q.iteratee=function(S,R){return G(S,R,Infinity)};var s=function(R,S){S=S==null?R.length-1:+S;return function(){var W=Math.max(arguments.length-S,0);var V=Array(W);var U;for(U=0;U<W;U++){V[U]=arguments[U+S]}switch(S){case 0:return R.call(this,V);case 1:return R.call(this,arguments[0],V);case 2:return R.call(this,arguments[0],arguments[1],V)}var T=Array(S+1);for(U=0;U<S;U++){T[U]=arguments[U]}T[S]=V;return R.apply(this,T)}};var D=function(S){if(!Q.isObject(S)){return{}}if(C){return C(S)}F.prototype=S;var R=new F;F.prototype=null;return R};var N=function(R){return function(S){return S==null?void 0:S[R]}};var L=Math.pow(2,53)-1;var P=N("length");var E=function(S){var R=P(S);return typeof R=="number"&&R>=0&&R<=L};Q.each=Q.forEach=function(V,W,S){W=c(W,S);var R,U;if(E(V)){for(R=0,U=V.length;R<U;R++){W(V[R],R,V)}}else{var T=Q.keys(V);for(R=0,U=T.length;R<U;R++){W(V[T[R]],T[R],V)}}return V};Q.map=Q.collect=function(W,Y,T){Y=G(Y,T);var V=!E(W)&&Q.keys(W),U=(V||W).length,S=Array(U);for(var R=0;R<U;R++){var X=V?V[R]:R;S[R]=Y(W[X],X,W)}return S};var A=function(R){var S=function(Y,aa,T,V){var X=!E(Y)&&Q.keys(Y),W=(X||Y).length,U=R>0?0:W-1;if(!V){T=Y[X?X[U]:U];U+=R}for(;U>=0&&U<W;U+=R){var Z=X?X[U]:U;T=aa(T,Y[Z],Z,Y)}return T};return function(W,X,T,V){var U=arguments.length>=3;return S(W,c(X,V,4),T,U)}};Q.reduce=Q.foldl=Q.inject=A(1);Q.reduceRight=Q.foldr=A(-1);Q.find=Q.detect=function(U,R,T){var S;if(E(U)){S=Q.findIndex(U,R,T)}else{S=Q.findKey(U,R,T)}if(S!==void 0&&S!==-1){return U[S]}};Q.filter=Q.select=function(U,R,T){var S=[];R=G(R,T);Q.each(U,function(X,V,W){if(R(X,V,W)){S.push(X)}});return S};Q.reject=function(T,R,S){return Q.filter(T,Q.negate(G(R)),S)};Q.every=Q.all=function(W,R,T){R=G(R,T);var V=!E(W)&&Q.keys(W),U=(V||W).length;for(var S=0;S<U;S++){var X=V?V[S]:S;if(!R(W[X],X,W)){return false}}return true};Q.some=Q.any=function(W,R,T){R=G(R,T);var V=!E(W)&&Q.keys(W),U=(V||W).length;for(var S=0;S<U;S++){var X=V?V[S]:S;if(R(W[X],X,W)){return true}}return false};Q.contains=Q.includes=Q.include=function(U,T,R,S){if(!E(U)){U=Q.values(U)}if(typeof R!="number"||S){R=0}return Q.indexOf(U,T,R)>=0};Q.invoke=s(function(T,U,R){var S=Q.isFunction(U);return Q.map(T,function(W){var V=S?U:W[U];return V==null?V:V.apply(W,R)})});Q.pluck=function(S,R){return Q.map(S,Q.property(R))};Q.where=function(S,R){return Q.filter(S,Q.matcher(R))};Q.findWhere=function(S,R){return Q.find(S,Q.matcher(R))};Q.max=function(U,W,R){var Z=-Infinity,X=-Infinity,Y,T;if(W==null&&U!=null){U=E(U)?U:Q.values(U);for(var V=0,S=U.length;V<S;V++){Y=U[V];if(Y>Z){Z=Y}}}else{W=G(W,R);Q.each(U,function(aa,ab,ac){T=W(aa,ab,ac);if(T>X||T===-Infinity&&Z===-Infinity){Z=aa;X=T}})}return Z};Q.min=function(U,W,R){var Z=Infinity,X=Infinity,Y,T;if(W==null&&U!=null){U=E(U)?U:Q.values(U);for(var V=0,S=U.length;V<S;V++){Y=U[V];if(Y<Z){Z=Y}}}else{W=G(W,R);Q.each(U,function(aa,ab,ac){T=W(aa,ab,ac);if(T<X||T===Infinity&&Z===Infinity){Z=aa;X=T}})}return Z};Q.shuffle=function(R){return Q.sample(R,Infinity)};Q.sample=function(T,S,V){if(S==null||V){if(!E(T)){T=Q.values(T)}return T[Q.random(T.length-1)]}var X=E(T)?Q.clone(T):Q.values(T);var R=P(X);S=Math.max(Math.min(S,R),0);var Y=R-1;for(var U=0;U<S;U++){var W=Q.random(U,Y);var Z=X[U];X[U]=X[W];X[W]=Z}return X.slice(0,S)};Q.sortBy=function(S,T,R){T=G(T,R);return Q.pluck(Q.map(S,function(W,U,V){return{value:W,index:U,criteria:T(W,U,V)}}).sort(function(X,W){var V=X.criteria;var U=W.criteria;if(V!==U){if(V>U||V===void 0){return 1}if(V<U||U===void 0){return -1}}return X.index-W.index}),"value")};var p=function(S,R){return function(V,W,U){var T=R?[[],[]]:{};W=G(W,U);Q.each(V,function(Z,X){var Y=W(Z,X,V);S(T,Z,Y)});return T}};Q.groupBy=p(function(R,T,S){if(Q.has(R,S)){R[S].push(T)}else{R[S]=[T]}});Q.indexBy=p(function(R,T,S){R[S]=T});Q.countBy=p(function(R,T,S){if(Q.has(R,S)){R[S]++}else{R[S]=1}});Q.toArray=function(R){if(!R){return[]}if(Q.isArray(R)){return n.call(R)}if(E(R)){return Q.map(R,Q.identity)}return Q.values(R)};Q.size=function(R){if(R==null){return 0}return E(R)?R.length:Q.keys(R).length};Q.partition=p(function(R,T,S){R[S?0:1].push(T)},true);Q.first=Q.head=Q.take=function(T,S,R){if(T==null){return void 0}if(S==null||R){return T[0]}return Q.initial(T,T.length-S)};Q.initial=function(T,S,R){return n.call(T,0,Math.max(0,T.length-(S==null||R?1:S)))};Q.last=function(T,S,R){if(T==null){return void 0}if(S==null||R){return T[T.length-1]}return Q.rest(T,Math.max(0,T.length-S))};Q.rest=Q.tail=Q.drop=function(T,S,R){return n.call(T,S==null||R?1:S)};Q.compact=function(R){return Q.filter(R,Q.identity)};var y=function(X,T,Y,S){S=S||[];var aa=S.length;for(var V=0,R=P(X);V<R;V++){var Z=X[V];if(E(Z)&&(Q.isArray(Z)||Q.isArguments(Z))){if(T){var U=0,W=Z.length;while(U<W){S[aa++]=Z[U++]}}else{y(Z,T,Y,S);aa=S.length}}else{if(!Y){S[aa++]=Z}}}return S};Q.flatten=function(S,R){return y(S,R,false)};Q.without=s(function(S,R){return Q.difference(S,R)});Q.uniq=Q.unique=function(Y,U,X,S){if(!Q.isBoolean(U)){S=X;X=U;U=false}if(X!=null){X=G(X,S)}var aa=[];var R=[];for(var W=0,T=P(Y);W<T;W++){var Z=Y[W],V=X?X(Z,W,Y):Z;if(U){if(!W||R!==V){aa.push(Z)}R=V}else{if(X){if(!Q.contains(R,V)){R.push(V);aa.push(Z)}}else{if(!Q.contains(aa,Z)){aa.push(Z)}}}}return aa};Q.union=s(function(R){return Q.uniq(y(R,true,true))});Q.intersection=function(X){var R=[];var W=arguments.length;for(var T=0,V=P(X);T<V;T++){var U=X[T];if(Q.contains(R,U)){continue}var S;for(S=1;S<W;S++){if(!Q.contains(arguments[S],U)){break}}if(S===W){R.push(U)}}return R};Q.difference=s(function(S,R){R=y(R,true,true);return Q.filter(S,function(T){return !Q.contains(R,T)})});Q.unzip=function(U){var T=U&&Q.max(U,P).length||0;var R=Array(T);for(var S=0;S<T;S++){R[S]=Q.pluck(U,S)}return R};Q.zip=s(Q.unzip);Q.object=function(V,S){var R={};for(var T=0,U=P(V);T<U;T++){if(S){R[V[T]]=S[T]}else{R[V[T][0]]=V[T][1]}}return R};var u=function(R){return function(W,S,U){S=G(S,U);var V=P(W);var T=R>0?0:V-1;for(;T>=0&&T<V;T+=R){if(S(W[T],T,W)){return T}}return -1}};Q.findIndex=u(1);Q.findLastIndex=u(-1);Q.sortedIndex=function(Y,W,X,T){X=G(X,T,1);var V=X(W);var R=0,U=P(Y);while(R<U){var S=Math.floor((R+U)/2);if(X(Y[S])<V){R=S+1}else{U=S}}return R};var h=function(R,S,T){return function(Y,X,U){var V=0,W=P(Y);if(typeof U=="number"){if(R>0){V=U>=0?U:Math.max(U+W,V)}else{W=U>=0?Math.min(U+1,W):U+W+1}}else{if(T&&U&&W){U=T(Y,X);return Y[U]===X?U:-1}}if(X!==X){U=S(n.call(Y,V,W),Q.isNaN);return U>=0?U+V:-1}for(U=R>0?V:W-1;U>=0&&U<W;U+=R){if(Y[U]===X){return U}}return -1}};Q.indexOf=h(1,Q.findIndex,Q.sortedIndex);Q.lastIndexOf=h(-1,Q.findLastIndex);Q.range=function(W,T,V){if(T==null){T=W||0;W=0}V=V||1;var U=Math.max(Math.ceil((T-W)/V),0);var S=Array(U);for(var R=0;R<U;R++,W+=V){S[R]=W}return S};var z=function(W,T,V,X,U){if(!(X instanceof T)){return W.apply(V,U)}var S=D(W.prototype);var R=W.apply(S,U);if(Q.isObject(R)){return R}return S};Q.bind=s(function(U,S,R){if(!Q.isFunction(U)){throw new TypeError("Bind must be called on a function")}var T=s(function(V){return z(U,T,S,this,R.concat(V))});return T});Q.partial=s(function(S,U){var T=Q.partial.placeholder;var R=function(){var V=0,Y=U.length;var W=Array(Y);for(var X=0;X<Y;X++){W[X]=U[X]===T?arguments[V++]:U[X]}while(V<arguments.length){W.push(arguments[V++])}return z(S,R,this,this,W)};return R});Q.partial.placeholder=Q;Q.bindAll=s(function(U,T){T=y(T,false,false);var R=T.length;if(R<1){throw new Error("bindAll must be passed function names")}while(R--){var S=T[R];U[S]=Q.bind(U[S],U)}});Q.memoize=function(S,R){var T=function(W){var V=T.cache;var U=""+(R?R.apply(this,arguments):W);if(!Q.has(V,U)){V[U]=S.apply(this,arguments)}return V[U]};T.cache={};return T};Q.delay=s(function(S,T,R){return setTimeout(function(){return S.apply(null,R)},T)});Q.defer=Q.partial(Q.delay,Q,1);Q.throttle=function(S,U,Y){var R,W,Z;var X=null;var V=0;if(!Y){Y={}}var T=function(){V=Y.leading===false?0:Q.now();X=null;Z=S.apply(R,W);if(!X){R=W=null}};return function(){var aa=Q.now();if(!V&&Y.leading===false){V=aa}var ab=U-(aa-V);R=this;W=arguments;if(ab<=0||ab>U){if(X){clearTimeout(X);X=null}V=aa;Z=S.apply(R,W);if(!X){R=W=null}}else{if(!X&&Y.trailing!==false){X=setTimeout(T,ab)}}return Z}};Q.debounce=function(T,V,S){var Y,X,R,W,Z;var U=function(){var aa=Q.now()-W;if(aa<V&&aa>=0){Y=setTimeout(U,V-aa)}else{Y=null;if(!S){Z=T.apply(R,X);if(!Y){R=X=null}}}};return function(){R=this;X=arguments;W=Q.now();var aa=S&&!Y;if(!Y){Y=setTimeout(U,V)}if(aa){Z=T.apply(R,X);R=X=null}return Z}};Q.wrap=function(R,S){return Q.partial(S,R)};Q.negate=function(R){return function(){return !R.apply(this,arguments)}};Q.compose=function(){var R=arguments;var S=R.length-1;return function(){var U=S;var T=R[S].apply(this,arguments);while(U--){T=R[U].call(this,T)}return T}};Q.after=function(S,R){return function(){if(--S<1){return R.apply(this,arguments)}}};Q.before=function(T,S){var R;return function(){if(--T>0){R=S.apply(this,arguments)}if(T<=1){S=null}return R}};Q.once=Q.partial(Q.before,2);Q.restArgs=s;var H=!{toString:null}.propertyIsEnumerable("toString");var a=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var e=function(V,U){var R=a.length;var S=V.constructor;var T=Q.isFunction(S)&&S.prototype||i;var W="constructor";if(Q.has(V,W)&&!Q.contains(U,W)){U.push(W)}while(R--){W=a[R];if(W in V&&V[W]!==T[W]&&!Q.contains(U,W)){U.push(W)}}};Q.keys=function(T){if(!Q.isObject(T)){return[]}if(g){return g(T)}var S=[];for(var R in T){if(Q.has(T,R)){S.push(R)}}if(H){e(T,S)}return S};Q.allKeys=function(T){if(!Q.isObject(T)){return[]}var S=[];for(var R in T){S.push(R)}if(H){e(T,S)}return S};Q.values=function(V){var U=Q.keys(V);var T=U.length;var R=Array(T);for(var S=0;S<T;S++){R[S]=V[U[S]]}return R};Q.mapObject=function(W,Y,T){Y=G(Y,T);var V=Q.keys(W),U=V.length,S={};for(var R=0;R<U;R++){var X=V[R];S[X]=Y(W[X],X,W)}return S};Q.pairs=function(V){var T=Q.keys(V);var S=T.length;var U=Array(S);for(var R=0;R<S;R++){U[R]=[T[R],V[T[R]]]}return U};Q.invert=function(V){var R={};var U=Q.keys(V);for(var S=0,T=U.length;S<T;S++){R[V[U[S]]]=U[S]}return R};Q.functions=Q.methods=function(T){var S=[];for(var R in T){if(Q.isFunction(T[R])){S.push(R)}}return S.sort()};var o=function(S,R){return function(aa){var Y=arguments.length;if(Y<2||aa==null){return aa}for(var U=1;U<Y;U++){var Z=arguments[U],X=S(Z),T=X.length;for(var W=0;W<T;W++){var V=X[W];if(!R||aa[V]===void 0){aa[V]=Z[V]}}}return aa}};Q.extend=o(Q.allKeys);Q.extendOwn=Q.assign=o(Q.keys);Q.findKey=function(X,R,U){R=G(R,U);var W=Q.keys(X),T;for(var S=0,V=W.length;S<V;S++){T=W[S];if(R(X[T],T,X)){return T}}};var b=function(S,R,T){return R in T};Q.pick=s(function(X,V){var R={},Y=V[0];if(X==null){return R}if(Q.isFunction(Y)){if(V.length>1){Y=c(Y,V[1])}V=Q.allKeys(X)}else{Y=b;V=y(V,false,false);X=Object(X)}for(var T=0,U=V.length;T<U;T++){var S=V[T];var W=X[S];if(Y(W,S,X)){R[S]=W}}return R});Q.omit=s(function(T,S){var U=S[0],R;if(Q.isFunction(U)){U=Q.negate(U);if(S.length>1){R=S[1]}}else{S=Q.map(y(S,false,false),String);U=function(W,V){return !Q.contains(S,V)}}return Q.pick(T,U,R)});Q.defaults=o(Q.allKeys,true);Q.create=function(S,T){var R=D(S);if(T){Q.extendOwn(R,T)}return R};Q.clone=function(R){if(!Q.isObject(R)){return R}return Q.isArray(R)?R.slice():Q.extend({},R)};Q.tap=function(S,R){R(S);return S};Q.isMatch=function(S,R){var W=Q.keys(R),V=W.length;if(S==null){return !V}var X=Object(S);for(var U=0;U<V;U++){var T=W[U];if(R[T]!==X[T]||!(T in X)){return false}}return true};var O,K;O=function(S,R,V,U){if(S===R){return S!==0||1/S===1/R}if(S==null||R==null){return S===R}if(S!==S){return R!==R}var T=typeof S;if(T!=="function"&&T!=="object"&&typeof R!=="object"){return false}return K(S,R,V,U)};K=function(Z,Y,S,U){if(Z instanceof Q){Z=Z._wrapped}if(Y instanceof Q){Y=Y._wrapped}var W=d.call(Z);if(W!==d.call(Y)){return false}switch(W){case"[object RegExp]":case"[object String]":return""+Z===""+Y;case"[object Number]":if(+Z!==+Z){return +Y!==+Y}return +Z===0?1/+Z===1/Y:+Z===+Y;case"[object Date]":case"[object Boolean]":return +Z===+Y}var T=W==="[object Array]";if(!T){if(typeof Z!="object"||typeof Y!="object"){return false}var X=Z.constructor,V=Y.constructor;if(X!==V&&!(Q.isFunction(X)&&X instanceof X&&Q.isFunction(V)&&V instanceof V)&&("constructor" in Z&&"constructor" in Y)){return false}}S=S||[];U=U||[];var R=S.length;while(R--){if(S[R]===Z){return U[R]===Y}}S.push(Z);U.push(Y);if(T){R=Z.length;if(R!==Y.length){return false}while(R--){if(!O(Z[R],Y[R],S,U)){return false}}}else{var ab=Q.keys(Z),aa;R=ab.length;if(Q.keys(Y).length!==R){return false}while(R--){aa=ab[R];if(!(Q.has(Y,aa)&&O(Z[aa],Y[aa],S,U))){return false}}}S.pop();U.pop();return true};Q.isEqual=function(S,R){return O(S,R)};Q.isEmpty=function(R){if(R==null){return true}if(E(R)&&(Q.isArray(R)||Q.isString(R)||Q.isArguments(R))){return R.length===0}return Q.keys(R).length===0};Q.isElement=function(R){return !!(R&&R.nodeType===1)};Q.isArray=r||function(R){return d.call(R)==="[object Array]"};Q.isObject=function(S){var R=typeof S;return R==="function"||R==="object"&&!!S};Q.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(R){Q["is"+R]=function(S){return d.call(S)==="[object "+R+"]"}});if(!Q.isArguments(arguments)){Q.isArguments=function(R){return Q.has(R,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){Q.isFunction=function(R){return typeof R=="function"||false}}Q.isFinite=function(R){return isFinite(R)&&!isNaN(parseFloat(R))};Q.isNaN=function(R){return Q.isNumber(R)&&R!==+R};Q.isBoolean=function(R){return R===true||R===false||d.call(R)==="[object Boolean]"};Q.isNull=function(R){return R===null};Q.isUndefined=function(R){return R===void 0};Q.has=function(S,R){return S!=null&&k.call(S,R)};Q.noConflict=function(){v._=l;return this};Q.identity=function(R){return R};Q.constant=function(R){return function(){return R}};Q.noop=function(){};Q.property=N;Q.propertyOf=function(R){return R==null?function(){}:function(S){return R[S]}};Q.matcher=Q.matches=function(R){R=Q.extendOwn({},R);return function(S){return Q.isMatch(S,R)}};Q.times=function(V,U,T){var R=Array(Math.max(0,V));U=c(U,T,1);for(var S=0;S<V;S++){R[S]=U(S)}return R};Q.random=function(S,R){if(R==null){R=S;S=0}return S+Math.floor(Math.random()*(R-S+1))};Q.now=Date.now||function(){return new Date().getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var m=Q.invert(q);var x=function(V){var S=function(W){return V[W]};var U="(?:"+Q.keys(V).join("|")+")";var T=RegExp(U);var R=RegExp(U,"g");return function(W){W=W==null?"":""+W;return T.test(W)?W.replace(R,S):W}};Q.escape=x(q);Q.unescape=x(m);Q.result=function(R,U,T){var S=R==null?void 0:R[U];if(S===void 0){S=T}return Q.isFunction(S)?S.call(R):S};var B=0;Q.uniqueId=function(R){var S=++B+"";return R?R+S:S};Q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/;var j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var f=/\\|'|\r|\n|\u2028|\u2029/g;var I=function(R){return"\\"+j[R]};Q.template=function(aa,U,X){if(!U&&X){U=X}U=Q.defaults({},U,Q.templateSettings);var V=RegExp([(U.escape||t).source,(U.interpolate||t).source,(U.evaluate||t).source].join("|")+"|$","g");var W=0;var R="__p+='";aa.replace(V,function(ac,ad,ab,af,ae){R+=aa.slice(W,ae).replace(f,I);W=ae+ac.length;if(ad){R+="'+\n((__t=("+ad+"))==null?'':_.escape(__t))+\n'"}else{if(ab){R+="'+\n((__t=("+ab+"))==null?'':__t)+\n'"}else{if(af){R+="';\n"+af+"\n__p+='"}}}return ac});R+="';\n";if(!U.variable){R="with(obj||{}){\n"+R+"}\n"}R="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+R+"return __p;\n";var T;try{T=new Function(U.variable||"obj","_",R)}catch(Y){Y.source=R;throw Y}var Z=function(ab){return T.call(this,ab,Q)};var S=U.variable||"obj";Z.source="function("+S+"){\n"+R+"}";return Z};Q.chain=function(S){var R=Q(S);R._chain=true;return R};var w=function(R,S){return R._chain?Q(S).chain():S};Q.mixin=function(R){Q.each(Q.functions(R),function(S){var T=Q[S]=R[S];Q.prototype[S]=function(){var U=[this._wrapped];M.apply(U,arguments);return w(this,T.apply(Q,U))}})};Q.mixin(Q);Q.each(["pop","push","reverse","shift","sort","splice","unshift"],function(R){var S=J[R];Q.prototype[R]=function(){var T=this._wrapped;S.apply(T,arguments);if((R==="shift"||R==="splice")&&T.length===0){delete T[0]}return w(this,T)}});Q.each(["concat","join","slice"],function(R){var S=J[R];Q.prototype[R]=function(){return w(this,S.apply(this._wrapped,arguments))}});Q.prototype.value=function(){return this._wrapped};Q.prototype.valueOf=Q.prototype.toJSON=Q.prototype.value;Q.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return Q})}}());
(function(a,b){if(typeof define==="function"&&define.amd){define("eventable",function(){return(a.Eventable=b())})}else{if(typeof exports!=="undefined"){module.exports=b()}else{a.Eventable=b()}}}(this,function(){var h=[];var f=h.slice;function d(j){var i,k=2;return function(){if(--k>0){i=j.apply(this,arguments)}else{j=null}return i}}var c={on:function(i,l,k){if(!g(this,"on",i,[l,k])||!l){return this}this._events||(this._events={});var j=this._events[i]||(this._events[i]=[]);j.push({callback:l,context:k,ctx:k||this});return this},once:function(j,m,k){if(!g(this,"once",j,[m,k])||!m){return this}var i=this;var l=d(function(){i.off(j,l);m.apply(this,arguments)});l._callback=m;return this.on(j,l,k)},off:function(m,v,n){var t,u,w,s,r,o,q,p;if(!this._events||!g(this,"off",m,[v,n])){return this}if(!m&&!v&&!n){this._events={};return this}s=m?[m]:Object.keys(this._events);for(r=0,o=s.length;r<o;r++){m=s[r];if(w=this._events[m]){this._events[m]=t=[];if(v||n){for(q=0,p=w.length;q<p;q++){u=w[q];if((v&&v!==u.callback&&v!==u.callback._callback)||(n&&n!==u.context)){t.push(u)}}}if(!t.length){delete this._events[m]}}}return this},trigger:function(k){if(!this._events){return this}var j=f.call(arguments,1);if(!g(this,"trigger",k,j)){return this}var l=this._events[k];var i=this._events.all;if(l){e(l,j)}if(i){e(i,arguments)}return this},stopListening:function(l,i,n){var j=this._listeners;if(!j){return this}var k=!i&&!n;if(typeof i==="object"){n=this}if(l){(j={})[l._listenerId]=l}for(var m in j){j[m].off(i,n,this);if(k){delete this._listeners[m]}}return this}};var b=/\s+/;var g=function(r,p,k,o){if(!k){return true}if(typeof k==="object"){for(var n in k){r[p].apply(r,[n,k[n]].concat(o))}return false}if(b.test(k)){var q=k.split(b);for(var m=0,j=q.length;m<j;m++){r[p].apply(r,[q[m]].concat(o))}return false}return true};var e=function(p,n){var q,o=-1,m=p.length,k=n[0],j=n[1],r=n[2];switch(n.length){case 0:while(++o<m){(q=p[o]).callback.call(q.ctx)}return;case 1:while(++o<m){(q=p[o]).callback.call(q.ctx,k)}return;case 2:while(++o<m){(q=p[o]).callback.call(q.ctx,k,j)}return;case 3:while(++o<m){(q=p[o]).callback.call(q.ctx,k,j,r)}return;default:while(++o<m){(q=p[o]).callback.apply(q.ctx,n)}}};function a(j,i){c[j]=function(m,k,o){var l=this._listeners||(this._listeners={});var n=m._listenerId||(m._listenerId=(new Date()).getTime());l[n]=m;if(typeof k==="object"){o=this}m[i](k,o,this);return this}}a("listenTo","on");a("listenToOnce","once");c.bind=c.on;c.unbind=c.off;return c}));
/*!
 * Sir Trevor JS v0.5.0-beta3
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2015-04-12
 */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?exports.SirTrevor=b(require("jquery")):a.SirTrevor=b(a.jQuery)}(this,function(a){return function(b){function d(f){if(c[f]){return c[f].exports}var e=c[f]={exports:{},id:f,loaded:!1};return b[f].call(e.exports,e,e.exports,d),e.loaded=!0,e.exports}var c={};return d.m=b,d.c=c,d.p="",d(0)}([function(c,b,d){c.exports=d(1)},function(e,c,g){var d=g(2);g(31).shim(),g(32),g(3),g(4);var b=g(5),f={config:g(6),log:b.log,Locales:g(7),Events:g(8),EventBus:g(9),EditorStore:g(10),Submittable:g(11),FileUploader:g(12),BlockMixins:g(29),BlockPositioner:g(13),BlockReorder:g(14),BlockDeletion:g(15),BlockValidations:g(16),BlockStore:g(17),BlockManager:g(18),SimpleBlock:g(19),Block:g(20),Blocks:g(30),BlockControl:g(21),BlockControls:g(22),FloatingBlockControls:g(23),FormatBar:g(24),Editor:g(25),toMarkdown:g(26),toHTML:g(27),setDefaults:function(h){Object.assign(f.config.defaults,h||{})},getInstance:b.getInstance,setBlockOptions:function(i,h){var j=f.Blocks[i];d.isUndefined(j)||Object.assign(j.prototype,h||{})},runOnAllInstances:function(i){if(f.Editor.prototype.hasOwnProperty(i)){var h=Array.prototype.slice.call(arguments,1);Array.prototype.forEach.call(f.config.instances,function(j){j[i].apply(null,h)})}else{f.log("method doesn't exist")}}};Object.assign(f,g(28)),e.exports=f},function(c,b,d){b.isEmpty=d(52),b.isFunction=d(53),b.isObject=d(54),b.isString=d(55),b.isUndefined=d(56),b.result=d(57),b.template=d(58),b.uniqueId=d(59)},function(c,b,d){[].includes||(Array.prototype.includes=function(h){if(void 0===this||null===this){throw new TypeError("Cannot convert this value to object")}var i=Object(this),e=parseInt(i.length)||0;if(0===e){return !1}var f,j=parseInt(arguments[1])||0;for(j>=0?f=j:(f=e+j,0>f&&(f=0));e>f;){var g=i[f];if(h===g||h!==h&&g!==g){return !0}f++}return !1})},function(d,b,f){function h(i){i.preventDefault()}function g(i){i.originalEvent.dataTransfer.dropEffect="copy",e(i.currentTarget).addClass("st-drag-over"),i.preventDefault()}function c(i){e(i.currentTarget).removeClass("st-drag-over"),i.preventDefault()}var e=f(33);e.fn.dropArea=function(){return this.bind("dragenter",h).bind("dragover",g).bind("dragleave",c),this},e.fn.noDropArea=function(){return this.unbind("dragenter").unbind("dragover").unbind("dragleave"),this},e.fn.caretToEnd=function(){var i,j;return i=document.createRange(),i.selectNodeContents(this[0]),i.collapse(!1),j=window.getSelection(),j.removeAllRanges(),j.addRange(i),this}},function(f,c,i){var g=i(33),e=i(2),d=i(6),h=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,b={getInstance:function(j){return e.isUndefined(j)?d.instances[0]:e.isString(j)?d.instances.find(function(k){return k.ID===j}):d.instances[j]},getInstanceBySelection:function(){return b.getInstance(g(window.getSelection().anchorNode).parents(".st-block").data("instance"))},getBlockBySelection:function(){return b.getInstanceBySelection().findBlockById(g(window.getSelection().anchorNode).parents(".st-block").get(0).id)},log:function(){!e.isUndefined(console)&&d.debug&&console.log.apply(console,arguments)},isURI:function(j){return h.test(j)},titleize:function(j){return null===j?"":(j=String(j).toLowerCase(),j.replace(/(?:^|\s|-)\S/g,function(k){return k.toUpperCase()}))},classify:function(j){return b.titleize(String(j).replace(/[\W_]/g," ")).replace(/\s/g,"")},capitalize:function(j){return j.charAt(0).toUpperCase()+j.substring(1).toLowerCase()},flatten:function(k){var j={};return(Array.isArray(k)?k:Object.keys(k)).forEach(function(l){j[l]=!0}),j},underscored:function(j){return j.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},reverse:function(j){return j.split("").reverse().join("")},toSlug:function(j){return j.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}};f.exports=b},function(e,d,g){var c={html:['<div class="st-block__dropzone">','<span class="st-icon"><%= _.result(block, "icon_name") %></span>','<p><%= i18n.t("general:drop", { block: "<span>" + _.result(block, "title") + "</span>" }) %>',"</p></div>"].join("\n"),re_render_on_reorder:!1},b={html:['<input type="text" placeholder="<%= i18n.t("general:paste") %>"',' class="st-block__paste-input st-paste-block">'].join("")},f={html:['<div class="st-block__upload-container">','<input type="file" type="st-file-upload">','<button class="st-upload-btn"><%= i18n.t("general:upload") %></button>',"</div>"].join("\n")};e.exports={debug:!1,scribeDebug:!1,skipValidation:!1,version:"0.4.0",language:"en",instances:[],defaults:{defaultType:!1,spinner:{className:"st-spinner",lines:9,length:8,width:3,radius:6,color:"#000",speed:1.4,trail:57,shadow:!1,left:"50%",top:"50%"},Block:{drop_options:c,paste_options:b,upload_options:f},blockLimit:0,blockTypeLimits:{},required:[],uploadUrl:"/attachments",baseImageUrl:"/sir-trevor-uploads/",errorsContainer:void 0,convertFromMarkdown:!0,formatBar:{commands:[{name:"Bold",title:"bold",cmd:"bold",keyCode:66,text:"B"},{name:"Italic",title:"italic",cmd:"italic",keyCode:73,text:"i"},{name:"Link",title:"link",iconName:"link",cmd:"linkPrompt",text:"link"},{name:"Unlink",title:"unlink",iconName:"link",cmd:"unlink",text:"link"}]}}}},function(f,c,h){var e=h(2),d=h(6),b=h(5),g={en:{general:{"delete":"Delete?",drop:"Drag __block__ here",paste:"Or paste URL here",upload:"...or choose a file",close:"close",position:"Position",wait:"Please wait...",link:"Enter a link"},errors:{title:"You have the following errors:",validation_fail:"__type__ block is invalid",block_empty:"__name__ must not be empty",type_missing:"You must have a block of type __type__",required_type_empty:"A required block type __type__ is empty",load_fail:"There was a problem loading the contents of the document"},blocks:{text:{title:"Text"},list:{title:"List"},quote:{title:"Quote",credit_field:"Credit"},image:{title:"Image",upload_error:"There was a problem with your upload"},video:{title:"Video"},tweet:{title:"Tweet",fetch_error:"There was a problem fetching your tweet"},embedly:{title:"Embedly",fetch_error:"There was a problem fetching your embed",key_missing:"An Embedly API key must be present"},heading:{title:"Heading"}}}};void 0===window.i18n?(b.log("Using i18n stub"),window.i18n={t:function(m,k){var p,o,j,l,n=m.split(":");for(o=g[d.language],l=0;l<n.length;l++){j=n[l],e.isUndefined(o[j])||(o=o[j])}return p=o,e.isString(p)?(p.indexOf("__")>=0&&Object.keys(k).forEach(function(i){p=p.replace("__"+i+"__",k[i])}),p):""}}):(b.log("Using i18next"),i18n.init({resStore:g,fallbackLng:d.language,ns:{namespaces:["general","blocks"],defaultNs:"general"}})),f.exports=g},function(c,b,d){c.exports=d(60)},function(c,b,d){c.exports=Object.assign({},d(8))},function(e,c,f){var d=f(2),b=f(5),g=function(i,h){this.mediator=h,this.initialize(i?i.trim():"")};Object.assign(g.prototype,{initialize:function(h){this.store=this._parseData(h)||{data:[]}},retrieve:function(){return this.store},toString:function(h){return JSON.stringify(this.store,void 0,h)},reset:function(){b.log("Resetting the EditorStore"),this.store={data:[]}},addData:function(h){return this.store.data.push(h),this.store},_parseData:function(j){var i;if(0===j.length){return i}try{var h=JSON.parse(j);d.isUndefined(h.data)||(i=h)}catch(k){this.mediator.trigger("errors:add",{text:i18n.t("errors:load_fail")}),this.mediator.trigger("errors:render"),console.log("Sorry there has been a problem with parsing the JSON"),console.log(k)}return i}}),e.exports=g},function(f,e,h){var g=h(33),d=h(5),c=h(9),b=function(i){this.$form=i,this.initialize()};Object.assign(b.prototype,{initialize:function(){this.submitBtn=this.$form.find("input[type='submit']");var i=[];this.submitBtn.each(function(k,j){i.push(g(j).attr("value"))}),this.submitBtnTitles=i,this.canSubmit=!0,this.globalUploadCount=0,this._bindEvents()},setSubmitButton:function(j,i){this.submitBtn.attr("value",i)},resetSubmitButton:function(){var i=this.submitBtnTitles;this.submitBtn.each(function(j,k){g(k).attr("value",i[j])})},onUploadStart:function(i){this.globalUploadCount++,d.log("onUploadStart called "+this.globalUploadCount),1===this.globalUploadCount&&this._disableSubmitButton()},onUploadStop:function(i){this.globalUploadCount=this.globalUploadCount<=0?0:this.globalUploadCount-1,d.log("onUploadStop called "+this.globalUploadCount),0===this.globalUploadCount&&this._enableSubmitButton()},onError:function(i){d.log("onError called"),this.canSubmit=!1},_disableSubmitButton:function(i){this.setSubmitButton(null,i||i18n.t("general:wait")),this.submitBtn.attr("disabled","disabled").addClass("disabled")},_enableSubmitButton:function(){this.resetSubmitButton(),this.submitBtn.removeAttr("disabled").removeClass("disabled")},_events:{disableSubmitButton:"_disableSubmitButton",enableSubmitButton:"_enableSubmitButton",setSubmitButton:"setSubmitButton",resetSubmitButton:"resetSubmitButton",onError:"onError",onUploadStart:"onUploadStart",onUploadStop:"onUploadStop"},_bindEvents:function(){Object.keys(this._events).forEach(function(i){c.on(i,this[this._events[i]],this)},this)}}),f.exports=b},function(g,d,i){var f=i(2),h=i(33),e=i(6),c=i(5),b=i(9);g.exports=function(l,k,r,o){b.trigger("onUploadStart");var n=[l.blockID,(new Date).getTime(),"raw"].join("-"),m=new FormData;m.append("attachment[name]",k.name),m.append("attachment[file]",k),m.append("attachment[uid]",n),l.resetMessages();var q=function(t){c.log("Upload callback called"),b.trigger("onUploadStop"),!f.isUndefined(r)&&f.isFunction(r)&&r.apply(l,arguments)},p=function(u,t,v){c.log("Upload callback error called"),b.trigger("onUploadStop"),!f.isUndefined(o)&&f.isFunction(o)&&o.call(l,t)},j=l.uploadUrl||e.defaults.uploadUrl,s=h.ajax({url:j,data:m,cache:!1,contentType:!1,processData:!1,dataType:"json",type:"POST"});return l.addQueuedItem(n,s),s.done(q).fail(p).always(l.removeQueuedItem.bind(l,n)),s}},function(c,b,f){var d=["<div class='st-block-positioner__inner'>","<span class='st-block-positioner__selected-value'></span>","<select class='st-block-positioner__select'></select>","</div>"].join("\n"),e=function(h,g){this.mediator=g,this.$block=h,this._ensureElement(),this._bindFunctions(),this.initialize()};Object.assign(e.prototype,f(34),f(35),{total_blocks:0,bound:["onBlockCountChange","onSelectChange","toggle","show","hide"],className:"st-block-positioner",visibleClass:"st-block-positioner--is-visible",initialize:function(){this.$el.append(d),this.$select=this.$(".st-block-positioner__select"),this.$select.on("change",this.onSelectChange),this.mediator.on("block:countUpdate",this.onBlockCountChange)},onBlockCountChange:function(g){g!==this.total_blocks&&(this.total_blocks=g,this.renderPositionList())},onSelectChange:function(){var g=this.$select.val();0!==g&&(this.mediator.trigger("block:changePosition",this.$block,g,1===g?"before":"after"),this.toggle())},renderPositionList:function(){for(var g="<option value='0'>"+i18n.t("general:position")+"</option>",h=1;h<=this.total_blocks;h++){g+="<option value="+h+">"+h+"</option>"}this.$select.html(g)},toggle:function(){this.$select.val(0),this.$el.toggleClass(this.visibleClass)},show:function(){this.$el.addClass(this.visibleClass)},hide:function(){this.$el.removeClass(this.visibleClass)}}),c.exports=e},function(e,c,g){var d=g(2),f=g(33),b=g(9),h=function(j,i){this.$block=j,this.blockID=this.$block.attr("id"),this.mediator=i,this._ensureElement(),this._bindFunctions(),this.initialize()};Object.assign(h.prototype,g(34),g(35),{bound:["onMouseDown","onDragStart","onDragEnd","onDrop"],className:"st-block-ui-btn st-block-ui-btn--reorder st-icon",tagName:"a",attributes:function(){return{html:"reorder",draggable:"true","data-icon":"move"}},initialize:function(){this.$el.bind("mousedown touchstart",this.onMouseDown).bind("dragstart",this.onDragStart).bind("dragend touchend",this.onDragEnd),this.$block.dropArea().bind("drop",this.onDrop)},blockId:function(){return this.$block.attr("id")},onMouseDown:function(){this.mediator.trigger("block-controls:hide"),b.trigger("block:reorder:down")},onDrop:function(j){j.preventDefault();var k=this.$block,i=j.originalEvent.dataTransfer.getData("text/plain"),l=f("#"+i);d.isUndefined(i)||d.isEmpty(l)||k.attr("id")===i||k.attr("data-instance")!==l.attr("data-instance")||k.after(l),this.mediator.trigger("block:rerender",i),b.trigger("block:reorder:dropped",i)},onDragStart:function(j){var i=f(j.currentTarget).parent();j.originalEvent.dataTransfer.setDragImage(this.$block[0],i.position().left,i.position().top),j.originalEvent.dataTransfer.setData("Text",this.blockId()),b.trigger("block:reorder:dragstart"),this.$block.addClass("st-block--dragging")},onDragEnd:function(i){b.trigger("block:reorder:dragend"),this.$block.removeClass("st-block--dragging")},render:function(){return this}}),e.exports=h},function(d,b,e){var c=function(){this._ensureElement(),this._bindFunctions()};Object.assign(c.prototype,e(34),e(35),{tagName:"a",className:"st-block-ui-btn st-block-ui-btn--delete st-icon",attributes:{html:"delete","data-icon":"bin"}}),d.exports=c},function(e,c,h){var d=h(2),g=h(33),b=h(5),f=function(i){var j=i.attr("data-st-name")||i.attr("name");return j||(j="Field"),b.capitalize(j)};e.exports={errors:[],valid:function(){return this.performValidations(),0===this.errors.length},performValidations:function(){this.resetErrors();var i=this.$(".st-required");i.each(function(j,k){this.validateField(k)}.bind(this)),this.validations.forEach(this.runValidator,this),this.$el.toggleClass("st-block--with-errors",this.errors.length>0)},validations:[],validateField:function(j){j=g(j);var i=j.attr("contenteditable")?j.text():j.val();0===i.length&&this.setError(j,i18n.t("errors:block_empty",{name:f(j)}))},runValidator:function(i){d.isUndefined(this[i])||this[i].call(this)},setError:function(k,j){var i=this.addMessage(j,"st-msg--error");k.addClass("st-error"),this.errors.push({field:k,reason:j,msg:i})},resetErrors:function(){this.errors.forEach(function(i){i.field.removeClass("st-error"),i.msg.remove()}),this.$messages.removeClass("st-block__messages--is-visible"),this.errors=[]}}},function(f,d,g){var e=g(2),c=g(5),b=g(9);f.exports={blockStorage:{},createStore:function(h){this.blockStorage={type:c.underscored(this.type),data:h||{}}},save:function(){var h=this._serializeData();e.isEmpty(h)||this.setData(h)},getData:function(){return this.save(),this.blockStorage},getBlockData:function(){return this.save(),this.blockStorage.data},_getData:function(){return this.blockStorage.data},setData:function(h){c.log("Setting data for block "+this.blockID),Object.assign(this.blockStorage.data,h||{})},setAndLoadData:function(h){this.setData(h),this.beforeLoadingData()},_serializeData:function(){},loadData:function(){},beforeLoadingData:function(){c.log("loadData for "+this.blockID),b.trigger("editor/block/loadData"),this.loadData(this._getData())},_loadData:function(){c.log("_loadData is deprecated and will be removed in the future. Please use beforeLoadingData instead."),this.beforeLoadingData()},checkAndLoadData:function(){e.isEmpty(this._getData())||this.beforeLoadingData()}}},function(d,f,c){var k=c(2),j=c(5),e=c(6),h=c(9),b=c(30),i=["convertToMarkdown","convertFromMarkdown","formatBar"],g=function(l,m,n){this.options=l,this.blockOptions=i.reduce(function(p,o){return p[o]=l[o],p},{}),this.instance_scope=m,this.mediator=n,this.blocks=[],this.blockCounts={},this.blockTypes={},this._setBlocksTypes(),this._setRequired(),this._bindMediatedEvents(),this.initialize()};Object.assign(g.prototype,c(34),c(36),c(8),{eventNamespace:"block",mediatedEvents:{create:"createBlock",remove:"removeBlock",rerender:"rerenderBlock"},initialize:function(){},createBlock:function(l,m){if(l=j.classify(l),this.canCreateBlock(l)){var n=new b[l](m,this.instance_scope,this.mediator,this.blockOptions);this.blocks.push(n),this._incrementBlockTypeCount(l),this.mediator.trigger("block:render",n),this.triggerBlockCountUpdate(),this.mediator.trigger("block:limitReached",this.blockLimitReached()),h.trigger(m?"block:create:existing":"block:create:new",n),j.log("Block created of type "+l)}},removeBlock:function(l){var n=this.findBlockById(l),m=j.classify(n.type);this.mediator.trigger("block-controls:reset"),this.blocks=this.blocks.filter(function(o){return o.blockID!==n.blockID}),this._decrementBlockTypeCount(m),this.triggerBlockCountUpdate(),this.mediator.trigger("block:limitReached",this.blockLimitReached()),h.trigger("block:remove")},rerenderBlock:function(l){var m=this.findBlockById(l);k.isUndefined(m)||m.isEmpty()||!m.drop_options.re_render_on_reorder||m.beforeLoadingData()},triggerBlockCountUpdate:function(){this.mediator.trigger("block:countUpdate",this.blocks.length)},canCreateBlock:function(l){return this.blockLimitReached()?(j.log("Cannot add any more blocks. Limit reached."),!1):this.isBlockTypeAvailable(l)?this.canAddBlockType(l)?!0:(j.log("Block Limit reached for type "+l),!1):(j.log("Block type not available "+l),!1)},validateBlockTypesExist:function(l){return e.skipValidation||!l?!1:void (this.required||[]).forEach(function(n,m){if(this.isBlockTypeAvailable(n)){if(0===this._getBlockTypeCount(n)){j.log("Failed validation on required block type "+n),this.mediator.trigger("errors:add",{text:i18n.t("errors:type_missing",{type:n})})}else{var o=this.getBlocksByType(n).filter(function(p){return !p.isEmpty()});if(o.length>0){return !1}this.mediator.trigger("errors:add",{text:i18n.t("errors:required_type_empty",{type:n})}),j.log("A required block type "+n+" is empty")}}},this)},findBlockById:function(l){return this.blocks.find(function(m){return m.blockID===l})},getBlocksByType:function(l){return this.blocks.filter(function(m){return j.classify(m.type)===l})},getBlocksByIDs:function(l){return this.blocks.filter(function(m){return l.includes(m.blockID)})},blockLimitReached:function(){return 0!==this.options.blockLimit&&this.blocks.length>=this.options.blockLimit},isBlockTypeAvailable:function(l){return !k.isUndefined(this.blockTypes[l])},canAddBlockType:function(m){var l=this._getBlockTypeLimit(m);return !(0!==l&&this._getBlockTypeCount(m)>=l)},_setBlocksTypes:function(){this.blockTypes=j.flatten(k.isUndefined(this.options.blockTypes)?b:this.options.blockTypes)},_setRequired:function(){this.required=!1,Array.isArray(this.options.required)&&!k.isEmpty(this.options.required)&&(this.required=this.options.required)},_incrementBlockTypeCount:function(l){this.blockCounts[l]=k.isUndefined(this.blockCounts[l])?1:this.blockCounts[l]+1},_decrementBlockTypeCount:function(l){this.blockCounts[l]=k.isUndefined(this.blockCounts[l])?1:this.blockCounts[l]-1},_getBlockTypeCount:function(l){return k.isUndefined(this.blockCounts[l])?0:this.blockCounts[l]},_blockLimitReached:function(){return 0!==this.options.blockLimit&&this.blocks.length>=this.options.blockLimit},_getBlockTypeLimit:function(l){return this.isBlockTypeAvailable(l)?parseInt(k.isUndefined(this.options.blockTypeLimits[l])?0:this.options.blockTypeLimits[l],10):0}}),d.exports=g},function(e,c,h){var d=h(2),b=h(5),g=h(33),i=h(14),f=function(l,m,k,j){this.createStore(l),this.blockID=d.uniqueId("st-block-"),this.instanceID=m,this.mediator=k,this.options=j||{},this._ensureElement(),this._bindFunctions(),this.initialize.apply(this,arguments)};Object.assign(f.prototype,h(34),h(8),h(35),h(17),{focus:function(){},valid:function(){return !0},className:"st-block",block_template:d.template("<div class='st-block__inner'><%= editor_html %></div>"),attributes:function(){return{id:this.blockID,"data-type":this.type,"data-instance":this.instanceID}},title:function(){return b.titleize(this.type.replace(/[\W_]/g," "))},blockCSSClass:function(){return this.blockCSSClass=b.toSlug(this.type),this.blockCSSClass},type:"","class":function(){return b.classify(this.type)},editorHTML:"",initialize:function(){},onBlockRender:function(){},beforeBlockRender:function(){},_setBlockInner:function(){var j=d.result(this,"editorHTML");this.$el.append(this.block_template({editor_html:j})),this.$inner=this.$el.find(".st-block__inner"),this.$inner.bind("click mouseover",function(k){k.stopPropagation()})},render:function(){return this.beforeBlockRender(),this._setBlockInner(),this._blockPrepare(),this},_blockPrepare:function(){this._initUI(),this._initMessages(),this.checkAndLoadData(),this.$el.addClass("st-item-ready"),this.on("onRender",this.onBlockRender),this.save()},_withUIComponent:function(j,k,l){this.$ui.append(j.render().$el),k&&l&&this.$ui.on("click",k,l)},_initUI:function(){var j=g("<div>",{"class":"st-block__ui"});this.$inner.append(j),this.$ui=j,this._initUIComponents()},_initMessages:function(){var j=g("<div>",{"class":"st-block__messages"});this.$inner.prepend(j),this.$messages=j},addMessage:function(l,k){var j=g("<span>",{html:l,"class":"st-msg "+k});return this.$messages.append(j).addClass("st-block__messages--is-visible"),j},resetMessages:function(){this.$messages.html("").removeClass("st-block__messages--is-visible")},_initUIComponents:function(){this._withUIComponent(new i(this.$el))}}),f.fn=f.prototype,f.extend=h(37),e.exports=f},function(b,s,c){var r=c(2),f=c(33),i=c(61),m=c(62),g=c(63),q=c(6),p=c(5),d=c(29),t=c(19),k=c(14),o=c(15),j=c(13),e=c(9),h=c(64),l=function(w,x,v,u){t.apply(this,arguments)};l.prototype=Object.create(t.prototype),l.prototype.constructor=l;var n=["<div class='st-block__ui-delete-controls'>","<label class='st-block__delete-label'>","<%= i18n.t('general:delete') %>","</label>","<a class='st-block-ui-btn st-block-ui-btn--confirm-delete st-icon' data-icon='tick'></a>","<a class='st-block-ui-btn st-block-ui-btn--deny-delete st-icon' data-icon='close'></a>","</div>"].join("\n");Object.assign(l.prototype,t.fn,c(16),{bound:["_handleContentPaste","_onFocus","_onBlur","onDrop","onDeleteClick","clearInsertedStyles","getSelectionForFormatter","onBlockRender"],className:"st-block st-icon--add",attributes:function(){return Object.assign(t.fn.attributes.call(this),{"data-icon-after":"add"})},icon_name:"default",validationFailMsg:function(){return i18n.t("errors:validation_fail",{type:this.title()})},editorHTML:'<div class="st-block__editor"></div>',toolbarEnabled:!0,availableMixins:["droppable","pastable","uploadable","fetchable","ajaxable","controllable"],droppable:!1,pastable:!1,uploadable:!1,fetchable:!1,ajaxable:!1,drop_options:{},paste_options:{},upload_options:{},formattable:!0,_previousSelection:"",initialize:function(){},toMarkdown:function(u){return u},toHTML:function(u){return u},withMixin:function(v){if(r.isObject(v)){var u="initialize"+v.mixinName;r.isUndefined(this[u])&&(Object.assign(this,v),this[u]())}},render:function(){if(this.beforeBlockRender(),this._setBlockInner(),this.$editor=this.$inner.children().first(),this.mixinsRequireInputs=!1,this.availableMixins.forEach(function(v){if(this[v]){var w=d[p.classify(v)];!r.isUndefined(w.requireInputs)&&w.requireInputs&&(this.mixinsRequireInputs=!0)}},this),this.mixinsRequireInputs){var u=f("<div>",{"class":"st-block__inputs"});this.$inner.append(u),this.$inputs=u}return this.hasTextBlock()&&this._initTextBlocks(),this.availableMixins.forEach(function(v){this[v]&&this.withMixin(d[p.classify(v)])},this),this.formattable&&this._initFormatting(),this._blockPrepare(),this},remove:function(){this.ajaxable&&this.resolveAllInQueue(),this.$el.remove()},loading:function(){r.isUndefined(this.spinner)||this.ready(),this.spinner=new h(q.defaults.spinner),this.spinner.spin(this.$el[0]),this.$el.addClass("st--is-loading")},ready:function(){this.$el.removeClass("st--is-loading"),r.isUndefined(this.spinner)||(this.spinner.stop(),delete this.spinner)},_serializeData:function(){p.log("toData for "+this.blockID);var u={};return this.hasTextBlock()&&(u.text=this.getTextBlockHTML(),u.isHtml=!0),this.$(":input").not(".st-paste-block").length>0&&this.$(":input").each(function(w,v){v.getAttribute("name")&&(u[v.getAttribute("name")]=v.value)}),u},focus:function(){this.getTextBlock().focus()},blur:function(){this.getTextBlock().blur()},onFocus:function(){this.getTextBlock().bind("focus",this._onFocus)},onBlur:function(){this.getTextBlock().bind("blur",this._onBlur)},_onFocus:function(){this.trigger("blockFocus",this.$el)},_onBlur:function(){},onBlockRender:function(){this.focus()},onDrop:function(u){},onDeleteClick:function(w){w.preventDefault();var x=function(y){y.preventDefault(),this.mediator.trigger("block:remove",this.blockID),this.remove()},u=function(y){y.preventDefault(),this.$el.removeClass("st-block--delete-active"),v.remove()};if(this.isEmpty()){return void x.call(this,new Event("click"))}this.$inner.append(r.template(n)),this.$el.addClass("st-block--delete-active");var v=this.$inner.find(".st-block__ui-delete-controls");this.$inner.on("click",".st-block-ui-btn--confirm-delete",x.bind(this)).on("click",".st-block-ui-btn--deny-delete",u.bind(this))},beforeLoadingData:function(){this.loading(),this.mixinsRequireInputs&&(this.$editor.show(),this.$inputs.hide()),t.fn.beforeLoadingData.call(this),this.ready()},execTextBlockCommand:function(u){if(r.isUndefined(this._scribe)){throw"No Scribe instance found to send a command to"}var v=this._scribe.getCommand(u);this._scribe.el.focus(),v.execute()},queryTextBlockCommandState:function(u){if(r.isUndefined(this._scribe)){throw"No Scribe instance found to query command"}var w=this._scribe.getCommand(u),v=new this._scribe.api.Selection;return v.range&&w.queryState()},_handleContentPaste:function(u){setTimeout(this.onContentPasted.bind(this,u,f(u.currentTarget)),0)},_getBlockClass:function(){return"st-block--"+this.className},_initUIComponents:function(){var u=new j(this.$el,this.mediator);this._withUIComponent(u,".st-block-ui-btn--reorder",u.toggle),this._withUIComponent(new k(this.$el,this.mediator)),this._withUIComponent(new o,".st-block-ui-btn--delete",this.onDeleteClick),this.onFocus(),this.onBlur()},_initFormatting:function(){var u=this;this.options.formatBar&&this.options.formatBar.commands.forEach(function(v){if(!r.isUndefined(v.keyCode)){var w=!1;u.$el.on("keyup",".st-text-block",function(x){(17===x.which||224===x.which||91===x.which)&&(w=!1)}).on("keydown",".st-text-block",{formatter:v},function(x){(17===x.which||224===x.which||91===x.which)&&(w=!0),x.which===x.data.formatter.keyCode&&w&&(x.preventDefault(),u.execTextBlockCommand(x.data.formatter.cmd))})}})},_initTextBlocks:function(){this.getTextBlock().bind("keyup",this.getSelectionForFormatter).bind("mouseup",this.getSelectionForFormatter).bind("DOMNodeInserted",this.clearInsertedStyles);var u=this.getTextBlock().get(0);if(!r.isUndefined(u)&&r.isUndefined(this._scribe)){var v={debug:q.scribeDebug};r.isObject(this.scribeOptions)&&(v=Object.assign(v,this.scribeOptions)),this._scribe=new i(u,v),this._scribe.use(m()),this._scribe.use(g()),r.isFunction(this.configureScribe)&&this.configureScribe.call(this,this._scribe)}},getSelectionForFormatter:function(){var u=this;setTimeout(function(){var x=window.getSelection(),w=x.toString().trim(),v="formatter:"+(""===w?"hide":"position");u.mediator.trigger(v,u),e.trigger(v,u)},1)},clearInsertedStyles:function(v){var u=v.target;u.removeAttribute("style")},hasTextBlock:function(){return this.getTextBlock().length>0},getTextBlock:function(){return r.isUndefined(this.text_block)&&(this.text_block=this.$(".st-text-block")),this.text_block},getTextBlockHTML:function(){return this._scribe.getContent()},setTextBlockHTML:function(u){return this._scribe.setContent(u)},isEmpty:function(){return r.isEmpty(this.getBlockData())}}),l.extend=c(37),b.exports=l},function(e,b,g){var c=g(2),f=g(30),d=function(h){this.type=h,this.block_type=f[this.type].prototype,this.can_be_rendered=this.block_type.toolbarEnabled,this._ensureElement()};Object.assign(d.prototype,g(34),g(35),g(8),{tagName:"a",className:"st-block-control",attributes:function(){return{"data-type":this.block_type.type}},render:function(){return this.$el.html('<span class="st-icon">'+c.result(this.block_type,"icon_name")+"</span>"+c.result(this.block_type,"title")),this}}),e.exports=d},function(d,e,c){var j=c(2),f=c(33),b=c(30),h=c(21),i=c(9),g=function(l,k){this.available_types=l||[],this.mediator=k,this._ensureElement(),this._bindFunctions(),this._bindMediatedEvents(),this.initialize()};Object.assign(g.prototype,c(34),c(36),c(35),c(8),{bound:["handleControlButtonClick"],block_controls:null,className:"st-block-controls",eventNamespace:"block-controls",mediatedEvents:{render:"renderInContainer",show:"show",hide:"hide"},initialize:function(){for(var l in this.available_types){if(b.hasOwnProperty(l)){var k=new h(l);k.can_be_rendered&&this.$el.append(k.render().$el)}}this.$el.delegate(".st-block-control","click",this.handleControlButtonClick),this.mediator.on("block-controls:show",this.renderInContainer)},show:function(){this.$el.addClass("st-block-controls--active"),i.trigger("block:controls:shown")},hide:function(){this.removeCurrentContainer(),this.$el.removeClass("st-block-controls--active"),i.trigger("block:controls:hidden")},handleControlButtonClick:function(k){k.stopPropagation(),this.mediator.trigger("block:create",f(k.currentTarget).attr("data-type"))},renderInContainer:function(k){this.removeCurrentContainer(),k.append(this.$el.detach()),k.addClass("with-st-controls"),this.currentContainer=k,this.show()},removeCurrentContainer:function(){j.isUndefined(this.currentContainer)||(this.currentContainer.removeClass("with-st-controls"),this.currentContainer=void 0)}}),d.exports=g},function(e,c,g){var d=g(2),f=g(33),b=g(9),h=function(k,j,i){this.$wrapper=k,this.instance_id=j,this.mediator=i,this._ensureElement(),this._bindFunctions(),this.initialize()};Object.assign(h.prototype,g(34),g(35),g(8),{className:"st-block-controls__top",attributes:function(){return{"data-icon":"add"}},bound:["handleBlockMouseOut","handleBlockMouseOver","handleBlockClick","onDrop"],initialize:function(){this.$el.on("click",this.handleBlockClick).dropArea().bind("drop",this.onDrop),this.$wrapper.on("mouseover",".st-block",this.handleBlockMouseOver).on("mouseout",".st-block",this.handleBlockMouseOut).on("click",".st-block--with-plus",this.handleBlockClick)},onDrop:function(j){j.preventDefault();var k=this.$el,i=j.originalEvent.dataTransfer.getData("text/plain"),l=f("#"+i);d.isUndefined(i)||d.isEmpty(l)||k.attr("id")===i||this.instance_id!==l.attr("data-instance")||k.after(l),b.trigger("block:reorder:dropped",i)},handleBlockMouseOver:function(i){var j=f(i.currentTarget);j.hasClass("st-block--with-plus")||j.addClass("st-block--with-plus")},handleBlockMouseOut:function(i){var j=f(i.currentTarget);j.hasClass("st-block--with-plus")&&j.removeClass("st-block--with-plus")},handleBlockClick:function(i){i.stopPropagation(),this.mediator.trigger("block-controls:render",f(i.currentTarget))}}),e.exports=h},function(f,c,h){var e=h(2),g=h(33),d=h(6),b=h(5),i=function(j,l,k){this.editor=k,this.options=Object.assign({},d.defaults.formatBar,j||{}),this.commands=this.options.commands,this.mediator=l,this._ensureElement(),this._bindFunctions(),this._bindMediatedEvents(),this.initialize.apply(this,arguments)};Object.assign(i.prototype,h(34),h(36),h(8),h(35),{className:"st-format-bar",bound:["onFormatButtonClick","renderBySelection","hide"],eventNamespace:"formatter",mediatedEvents:{position:"renderBySelection",show:"show",hide:"hide"},initialize:function(){this.$btns=[],this.commands.forEach(function(k){var j=g("<button>",{"class":"st-format-btn st-format-btn--"+k.name+" "+(k.iconName?"st-icon":""),text:k.text,"data-cmd":k.cmd});this.$btns.push(j),j.appendTo(this.$el)},this),this.$b=g(document)},hide:function(){this.$el.removeClass("st-format-bar--is-ready"),this.$el.remove()},show:function(){this.editor.$outer.append(this.$el),this.$el.addClass("st-format-bar--is-ready"),this.$el.bind("click",".st-format-btn",this.onFormatButtonClick)},remove:function(){this.$el.remove()},renderBySelection:function(){this.highlightSelectedButtons(),this.show(),this.calculatePosition()},calculatePosition:function(){var m=window.getSelection(),k=m.getRangeAt(0),o=k.getBoundingClientRect(),n={},l=this.editor.$outer.get(0),j=l.getBoundingClientRect();n.top=o.top-j.top+"px",n.left=(o.left+o.right)/2-this.el.offsetWidth/2-j.left+"px",this.$el.css(n)},highlightSelectedButtons:function(){var j=b.getBlockBySelection();this.$btns.forEach(function(k){var l=g(k).data("cmd");k.toggleClass("st-format-btn--is-active",j.queryTextBlockCommandState(l))},this)},onFormatButtonClick:function(k){k.stopPropagation();var m=b.getBlockBySelection();if(e.isUndefined(m)){throw"Associated block not found"}var j=g(k.target),l=j.data("cmd");return e.isUndefined(l)?!1:(m.execTextBlockCommand(l),this.highlightSelectedButtons(),!1)}}),f.exports=i},function(d,g,c){var q=c(2),i=c(33),f=c(6),p=c(5),r=c(8),n=c(9),l=c(28),k=c(22),h=c(18),e=c(23),m=c(24),j=c(10),b=c(38),o=function(s){this.initialize(s)};Object.assign(o.prototype,c(34),c(8),{bound:["onFormSubmit","hideAllTheThings","changeBlockPosition","removeBlockDragOver","renderBlock","resetBlockControls","blockLimitReached"],events:{"block:reorder:dragend":"removeBlockDragOver","block:reorder:dropped":"removeBlockDragOver","block:content:dropped":"removeBlockDragOver"},initialize:function(s){return p.log("Init SirTrevor.Editor"),this.options=Object.assign({},f.defaults,s||{}),this.ID=q.uniqueId("st-editor-"),this._ensureAndSetElements()?(!q.isUndefined(this.options.onEditorRender)&&q.isFunction(this.options.onEditorRender)&&(this.onEditorRender=this.options.onEditorRender),this.mediator=Object.assign({},r),this._bindFunctions(),f.instances.push(this),this.build(),void l.bindFormSubmit(this.$form)):!1},build:function(){this.$el.hide(),this.errorHandler=new b(this.$outer,this.mediator,this.options.errorsContainer),this.store=new j(this.$el.val(),this.mediator),this.block_manager=new h(this.options,this.ID,this.mediator),this.block_controls=new k(this.block_manager.blockTypes,this.mediator),this.fl_block_controls=new e(this.$wrapper,this.ID,this.mediator),this.formatBar=new m(this.options.formatBar,this.mediator,this),this.mediator.on("block:changePosition",this.changeBlockPosition),this.mediator.on("block-controls:reset",this.resetBlockControls),this.mediator.on("block:limitReached",this.blockLimitReached),this.mediator.on("block:render",this.renderBlock),this.dataStore="Please use store.retrieve();",this._setEvents(),this.$wrapper.prepend(this.fl_block_controls.render().$el),this.$outer.append(this.block_controls.render().$el),i(window).bind("click",this.hideAllTheThings),this.createBlocks(),this.$wrapper.addClass("st-ready"),q.isUndefined(this.onEditorRender)||this.onEditorRender()},createBlocks:function(){var s=this.store.retrieve();s.data.length>0?s.data.forEach(function(t){this.mediator.trigger("block:create",t.type,t.data)},this):this.options.defaultType!==!1&&this.mediator.trigger("block:create",this.options.defaultType,{})},destroy:function(){this.formatBar.destroy(),this.fl_block_controls.destroy(),this.block_controls.destroy(),this.block_manager.blocks.forEach(function(s){this.mediator.trigger("block:remove",s.blockID)},this),this.mediator.stopListening(),this.stopListening(),f.instances=f.instances.filter(function(s){return s.ID!==this.ID},this),this.store.reset(),this.$outer.replaceWith(this.$el.detach())},reinitialize:function(s){this.destroy(),this.initialize(s||this.options)},resetBlockControls:function(){this.block_controls.renderInContainer(this.$wrapper),this.block_controls.hide()},blockLimitReached:function(s){this.$wrapper.toggleClass("st--block-limit-reached",s)},_setEvents:function(){Object.keys(this.events).forEach(function(s){n.on(s,this[this.events[s]],this)},this)},hideAllTheThings:function(s){this.block_controls.hide(),this.formatBar.hide()},store:function(t,s){return p.log("The store method has been removed, please call store[methodName]"),this.store[t].call(this,s||{})},renderBlock:function(s){this._renderInPosition(s.render().$el),this.hideAllTheThings(),s.trigger("onRender")},removeBlockDragOver:function(){this.$outer.find(".st-drag-over").removeClass("st-drag-over")},changeBlockPosition:function(u,t){t-=1;var v=this.getBlockPosition(u),w=this.$wrapper.find(".st-block").eq(t),s=v>t?"Before":"After";w&&w.attr("id")!==u.attr("id")&&(this.hideAllTheThings(),u["insert"+s](w))},_renderInPosition:function(s){this.block_controls.currentContainer?this.block_controls.currentContainer.after(s):this.$wrapper.append(s)},validateAndSaveBlock:function(u,s){if((!f.skipValidation||s)&&!u.valid()){return this.mediator.trigger("errors:add",{text:q.result(u,"validationFailMsg")}),void p.log("Block "+u.blockID+" failed validation")}var t=u.getData();p.log("Adding data for block "+u.blockID+" to block store:",t),this.store.addData(t)},onFormSubmit:function(s){return s=s===!1?!1:!0,p.log("Handling form submission for Editor "+this.ID),this.mediator.trigger("errors:reset"),this.store.reset(),this.validateBlocks(s),this.block_manager.validateBlockTypesExist(s),this.mediator.trigger("errors:render"),this.$el.val(this.store.toString()),this.errorHandler.errors.length},validateBlocks:function(t){var s=this;this.$wrapper.find(".st-block").each(function(u,w){var v=s.block_manager.findBlockById(i(w).attr("id"));q.isUndefined(v)||s.validateAndSaveBlock(v,t)})},findBlockById:function(s){return this.block_manager.findBlockById(s)},getBlocksByType:function(s){return this.block_manager.getBlocksByType(s)},getBlocksByIDs:function(s){return this.block_manager.getBlocksByIDs(s)},getBlockPosition:function(s){return this.$wrapper.find(".st-block").index(s)},_ensureAndSetElements:function(){if(q.isUndefined(this.options.el)||q.isEmpty(this.options.el)){return p.log("You must provide an el"),!1}this.$el=this.options.el,this.el=this.options.el[0],this.$form=this.$el.parents("form");var s=i("<div>").attr({id:this.ID,"class":"st-outer",dropzone:"copy link move"}),t=i("<div>").attr({"class":"st-blocks"});return this.$el.wrap(s).wrap(t),this.$outer=this.$form.find("#"+this.ID),this.$wrapper=this.$outer.find(".st-blocks"),!0}}),d.exports=o},function(e,c,f){var d=f(2),b=f(5);e.exports=function(o,q){function n(i,t,s){return d.isUndefined(s)&&(s=""),"**"+t.replace(/<(.)?br(.)?>/g,"")+"**"+s}function k(i,t,s){return d.isUndefined(s)&&(s=""),"_"+t.replace(/<(.)?br(.)?>/g,"")+"_"+s}var h=f(30);q=b.classify(q);var r=o;r=r.replace(/&nbsp;/g," "),r=r.replace(/( class=(")?Mso[a-zA-Z]+(")?)/g,"").replace(/<!--(.*?)-->/g,"").replace(/\/\*(.*?)\*\//g,"").replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");var g,l,m=["style","script","applet","embed","noframes","noscript"];for(l=0;l<m.length;l++){g=new RegExp("<"+m[l]+".*?"+m[l]+"(.*?)>","gi"),r=r.replace(g,"")}r=r.replace(/\*/g,"\\*").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\_/g,"\\_").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\-/g,"\\-");var p=["em","i","strong","b"];for(l=0;l<p.length;l++){g=new RegExp("<"+p[l]+"><br></"+p[l]+">","gi"),r=r.replace(g,"<br>")}r=r.replace(/<(\w+)(?:\s+\w+="[^"]+(?:"\$[^"]+"[^"]+)?")*>\s*<\/\1>/gim,"").replace(/\n/gm,"").replace(/<a.*?href=[""'](.*?)[""'].*?>(.*?)<\/a>/gim,function(i,t,s){return"["+s.trim().replace(/<(.)?br(.)?>/g,"")+"]("+t+")"}).replace(/<strong>(?:\s*)(.*?)(\s)*?<\/strong>/gim,n).replace(/<b>(?:\s*)(.*?)(\s*)?<\/b>/gim,n).replace(/<em>(?:\s*)(.*?)(\s*)?<\/em>/gim,k).replace(/<i>(?:\s*)(.*?)(\s*)?<\/i>/gim,k),r=r.replace(/([^<>]+)(<div>)/g,"$1\n$2").replace(/<div><div>/g,"\n<div>").replace(/(?:<div>)([^<>]+)(?:<div>)/g,"$1\n").replace(/(?:<div>)(?:<br>)?([^<>]+)(?:<br>)?(?:<\/div>)/g,"$1\n").replace(/<\/p>/g,"\n\n").replace(/<(.)?br(.)?>/g,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">");var j;return h.hasOwnProperty(q)&&(j=h[q],!d.isUndefined(j.prototype.toMarkdown)&&d.isFunction(j.prototype.toMarkdown)&&(r=j.prototype.toMarkdown(r))),r=r.replace(/<\/?[^>]+(>|$)/g,"")}},function(e,c,f){var d=f(2),b=f(5);e.exports=function(i,j){var k=f(30);j=b.classify(j);var h=i,g="Text"===j;d.isUndefined(g)&&(g=!1),g&&(h="<p>"+h),h=h.replace(/\[([^\]]+)\]\(([^\)]+)\)/gm,function(m,o,n){return"<a href='"+n+"'>"+o.replace(/\n/g,"")+"</a>"}),h=b.reverse(b.reverse(h).replace(/_(?!\\)((_\\|[^_])*)_(?=$|[^\\])/gm,function(m,n){return">i/<"+n.replace(/\n/g,"").replace(/[\s]+$/,"")+">i<"}).replace(/\*\*(?!\\)((\*\*\\|[^\*\*])*)\*\*(?=$|[^\\])/gm,function(m,n){return">b/<"+n.replace(/\n/g,"").replace(/[\s]+$/,"")+">b<"})),h=h.replace(/^\> (.+)$/gm,"$1");var l;return k.hasOwnProperty(j)&&(l=k[j],!d.isUndefined(l.prototype.toHTML)&&d.isFunction(l.prototype.toHTML)&&(h=l.prototype.toHTML(h))),g&&(h=h.replace(/\n\s*\n/gm,"</p><p>"),h=h.replace(/\n/gm,"<br>")),h=h.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\n/g,"<br>").replace(/\*\*/,"").replace(/__/,""),h=h.replace(/\\\*/g,"*").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\_/g,"_").replace(/\\\(/g,"(").replace(/\\\)/g,")").replace(/\\\-/g,"-"),g&&(h+="</p>"),h}},function(c,e,b){var d=b(6),j=b(5),h=b(9),i=b(11),g=!1,f={bindFormSubmit:function(k){g||(new i(k),k.bind("submit",this.onFormSubmit),g=!0)},onBeforeSubmit:function(k){var l=0;return d.instances.forEach(function(n,m){l+=n.onFormSubmit(k)}),j.log("Total errors: "+l),l},onFormSubmit:function(k){var l=f.onBeforeSubmit();l>0&&(h.trigger("onError"),k.preventDefault())}};c.exports=f},function(c,b,d){c.exports={Ajaxable:d(39),Controllable:d(40),Droppable:d(41),Fetchable:d(42),Pastable:d(43),Uploadable:d(44)}},function(c,b,d){c.exports={Text:d(45),Quote:d(46),Image:d(47),Heading:d(48),List:d(49),Tweet:d(50),Video:d(51)}},function(d,c,g){var f=g(65),b=function(h){return"undefined"!=typeof h&&null!==h},e=function(o,h){if(!b(o)){throw new TypeError("target must be an object")}var l,n,j,k,m=Object(o);for(l=1;l<arguments.length;++l){for(n=Object(arguments[l]),k=f(n),j=0;j<k.length;++j){m[k[j]]=n[k[j]]}}return m};e.shim=function(){return Object.assign||(Object.assign=e),Object.assign||e},d.exports=e},function(c,b,d){!function(f){if(!Array.prototype.find){var h=function(e){var n=Object(this),l=n.length<0?0:n.length>>>0;if(0===l){return void 0}if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e)){throw new TypeError("Array#find: predicate must be a function")}for(var m,j=arguments[1],k=0;l>k;k++){if(m=n[k],e.call(j,m,k,n)){return m}}return void 0};if(Object.defineProperty){try{Object.defineProperty(Array.prototype,"find",{value:h,configurable:!0,enumerable:!1,writable:!0})}catch(g){}}Array.prototype.find||(Array.prototype.find=h)}}(this)},function(c,b,d){c.exports=a},function(c,b,d){c.exports={bound:[],_bindFunctions:function(){this.bound.forEach(function(e){this[e]=this[e].bind(this)},this)}}},function(d,b,f){var c=f(2),e=f(33);d.exports={tagName:"div",className:"sir-trevor__view",attributes:{},$:function(g){return this.$el.find(g)},render:function(){return this},destroy:function(){c.isUndefined(this.stopListening)||this.stopListening(),this.$el.remove()},_ensureElement:function(){if(this.el){this._setElement(this.el)}else{var i,g=Object.assign({},c.result(this,"attributes"));this.id&&(g.id=this.id),this.className&&(g["class"]=this.className),g.html&&(i=g.html,delete g.html);var h=e("<"+this.tagName+">").attr(g);i&&h.html(i),this._setElement(h)}},_setElement:function(g){return this.$el=e(g),this.el=this.$el[0],this}}},function(c,b,d){c.exports={mediatedEvents:{},eventNamespace:null,_bindMediatedEvents:function(){Object.keys(this.mediatedEvents).forEach(function(f){var e=this.mediatedEvents[f];f=this.eventNamespace?this.eventNamespace+":"+f:f,this.mediator.on(f,this[e].bind(this))},this)}}},function(c,b,d){c.exports=function(e,g){var i,f=this;i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return f.apply(this,arguments)},Object.assign(i,f,g);var h=function(){this.constructor=i};return h.prototype=f.prototype,i.prototype=new h,e&&Object.assign(i.prototype,e),i.__super__=f.prototype,i}},function(e,c,g){var d=g(2),f=g(33),b=function(j,i,h){this.$wrapper=j,this.mediator=i,this.$el=h,d.isUndefined(this.$el)&&(this._ensureElement(),this.$wrapper.prepend(this.$el)),this.$el.hide(),this._bindFunctions(),this._bindMediatedEvents(),this.initialize()};Object.assign(b.prototype,g(34),g(36),g(35),{errors:[],className:"st-errors",eventNamespace:"errors",mediatedEvents:{reset:"reset",add:"addMessage",render:"render"},initialize:function(){var h=f("<ul>");this.$el.append("<p>"+i18n.t("errors:title")+"</p>").append(h),this.$list=h},render:function(){return 0===this.errors.length?!1:(this.errors.forEach(this.createErrorItem,this),void this.$el.show())},createErrorItem:function(i){var h=f("<li>",{"class":"st-errors__msg",html:i.text});this.$list.append(h)},addMessage:function(h){this.errors.push(h)},reset:function(){return 0===this.errors.length?!1:(this.errors=[],this.$list.html(""),void this.$el.hide())}}),e.exports=b},function(d,c,e){var b=e(5);d.exports={mixinName:"Ajaxable",ajaxable:!0,initializeAjaxable:function(){this._queued=[]},addQueuedItem:function(g,f){b.log("Adding queued item for "+this.blockID+" called "+g),this._queued.push({name:g,deferred:f})},removeQueuedItem:function(f){b.log("Removing queued item for "+this.blockID+" called "+f),this._queued=this._queued.filter(function(g){return g.name!==f})},hasItemsInQueue:function(){return this._queued.length>0},resolveAllInQueue:function(){this._queued.forEach(function(f){b.log("Aborting queued request: "+f.name),f.deferred.abort()},this)}}},function(d,c,f){var e=f(33),b=f(5);d.exports={mixinName:"Controllable",initializeControllable:function(){b.log("Adding controllable to block "+this.blockID),this.$control_ui=e("<div>",{"class":"st-block__control-ui"}),Object.keys(this.controls).forEach(function(g){this.addUiControl(g,this.controls[g].bind(this))},this),this.$inner.append(this.$control_ui)},getControlTemplate:function(g){return e("<a>",{"data-icon":g,"class":"st-icon st-block-control-ui-btn st-block-control-ui-btn--"+g})},addUiControl:function(h,g){this.$control_ui.append(this.getControlTemplate(h)),this.$control_ui.on("click",".st-block-control-ui-btn--"+h,g)}}},function(g,d,i){var f=i(2),h=i(33),e=i(6),c=i(5),b=i(9);g.exports={mixinName:"Droppable",valid_drop_file_types:["File","Files","text/plain","text/uri-list"],requireInputs:!0,initializeDroppable:function(){c.log("Adding droppable to block "+this.blockID),this.drop_options=Object.assign({},e.defaults.Block.drop_options,this.drop_options);var j=h(f.template(this.drop_options.html,{block:this,_:f}));this.$editor.hide(),this.$inputs.append(j),this.$dropzone=j,this.$dropzone.dropArea().bind("drop",this._handleDrop.bind(this)),this.$inner.addClass("st-block__inner--droppable")},_handleDrop:function(l){l.preventDefault(),l=l.originalEvent;var k=h(l.target),j=l.dataTransfer.types;k.removeClass("st-dropzone--dragover"),j&&j.some(function(m){return this.valid_drop_file_types.includes(m)},this)&&this.onDrop(l.dataTransfer),b.trigger("block:content:dropped",this.blockID)}}},function(d,b,f){var c=f(2),e=f(33);d.exports={mixinName:"Fetchable",initializeFetchable:function(){this.withMixin(f(39))},fetch:function(h,k,g){var i=c.uniqueId(this.blockID+"_fetch"),j=e.ajax(h);return this.resetMessages(),this.addQueuedItem(i,j),c.isUndefined(k)||j.done(k.bind(this)),c.isUndefined(g)||j.fail(g.bind(this)),j.always(this.removeQueuedItem.bind(this,i)),j}}},function(f,c,h){var e=h(2),g=h(33),d=h(6),b=h(5);f.exports={mixinName:"Pastable",requireInputs:!0,initializePastable:function(){b.log("Adding pastable to block "+this.blockID),this.paste_options=Object.assign({},d.defaults.Block.paste_options,this.paste_options),this.$inputs.append(e.template(this.paste_options.html,this)),this.$(".st-paste-block").bind("click",function(){g(this).select()}).bind("paste",this._handleContentPaste).bind("submit",this._handleContentPaste)}}},function(f,c,h){var e=h(2),d=h(6),b=h(5),g=h(12);f.exports={mixinName:"Uploadable",uploadsCount:0,requireInputs:!0,initializeUploadable:function(){b.log("Adding uploadable to block "+this.blockID),this.withMixin(h(39)),this.upload_options=Object.assign({},d.defaults.Block.upload_options,this.upload_options),this.$inputs.append(e.template(this.upload_options.html,this))},uploader:function(j,k,i){return g(this,j,k,i)}}},function(d,b,f){var c=f(20),e=f(27);d.exports=c.extend({type:"text",title:function(){return i18n.t("blocks:text:title")},editorHTML:'<div class="st-required st-text-block" contenteditable="true"></div>',icon_name:"text",loadData:function(g){this.setTextBlockHTML(this.options.convertFromMarkdown&&!g.isHtml?e(g.text,this.type):g.text)}})},function(e,b,h){var c=h(2),d=h(20),g=h(27),f=c.template(['<blockquote class="st-required st-text-block" contenteditable="true"></blockquote>','<label class="st-input-label"> <%= i18n.t("blocks:quote:credit_field") %></label>','<input maxlength="140" name="cite" placeholder="<%= i18n.t("blocks:quote:credit_field") %>"',' class="st-input-string st-required js-cite-input" type="text" />'].join("\n"));e.exports=d.extend({type:"quote",title:function(){return i18n.t("blocks:quote:title")},icon_name:"quote",editorHTML:function(){return f(this)},loadData:function(i){this.setTextBlockHTML(this.options.convertFromMarkdown&&!i.isHtml?g(i.text,this.type):i.text),this.$(".js-cite-input").val(i.cite)}})},function(d,b,f){var e=f(33),c=f(20);d.exports=c.extend({type:"image",title:function(){return i18n.t("blocks:image:title")},droppable:!0,uploadable:!0,icon_name:"image",loadData:function(g){this.$editor.html(e("<img>",{src:g.file.url}))},onBlockRender:function(){this.$inputs.find("button").bind("click",function(g){g.preventDefault()}),this.$inputs.find("input").on("change",function(g){this.onDrop(g.currentTarget)}.bind(this))},onDrop:function(g){var h=g.files[0],i="undefined"!=typeof URL?URL:"undefined"!=typeof webkitURL?webkitURL:null;/image/.test(h.type)&&(this.loading(),this.$inputs.hide(),this.$editor.html(e("<img>",{src:i.createObjectURL(h)})).show(),this.uploader(h,function(j){this.setData(j),this.ready()},function(j){this.addMessage(i18n.t("blocks:image:upload_error")),this.ready()}))}})},function(d,b,f){var c=f(20),e=f(27);d.exports=c.extend({type:"Heading",title:function(){return i18n.t("blocks:heading:title")},editorHTML:'<div class="st-required st-text-block st-text-block--heading" contenteditable="true"></div>',scribeOptions:{allowBlockElements:!1},icon_name:"heading",loadData:function(g){this.setTextBlockHTML(this.options.convertFromMarkdown&&!g.isHtml?e(g.text,this.type):g.text)}})},function(e,b,h){var c=h(2),d=h(20),g=h(27),f='<div class="st-text-block st-required" contenteditable="true"><ul><li></li></ul></div>';e.exports=d.extend({type:"list",title:function(){return i18n.t("blocks:list:title")},icon_name:"list",editorHTML:function(){return c.template(f,this)},loadData:function(i){this.setTextBlockHTML(this.options.convertFromMarkdown&&!i.isHtml?"<ul>"+g(i.text,this.type)+"</ul>":i.text)},onBlockRender:function(){this.checkForList=this.checkForList.bind(this),this.getTextBlock().on("click keyup",this.checkForList),this.focus()},checkForList:function(){0===this.$("ul").length&&document.execCommand("insertUnorderedList",!1,!1)},toHTML:function(i){return i=i.replace(/^ - (.+)$/gm,"<li>$1</li>").replace(/\n/gm,"")},onContentPasted:function(i,j){this.$("ul").html(this.pastedMarkdownToHTML(j[0].innerHTML)),this.getTextBlock().caretToEnd()},isEmpty:function(){return c.isEmpty(this.getBlockData().text)}})},function(g,c,i){var e=i(2),h=i(33),b=i(5),f=i(20),d=e.template(["<blockquote class='twitter-tweet' align='center'>","<p><%= text %></p>","&mdash; <%= user.name %> (@<%= user.screen_name %>)","<a href='<%= status_url %>' data-datetime='<%= created_at %>'><%= created_at %></a>","</blockquote>",'<script src="//platform.twitter.com/widgets.js" charset="utf-8"><\/script>'].join("\n"));g.exports=f.extend({type:"tweet",droppable:!0,pastable:!0,fetchable:!0,drop_options:{re_render_on_reorder:!0},title:function(){return i18n.t("blocks:tweet:title")},fetchUrl:function(j){return"/tweets/?tweet_id="+j},icon_name:"twitter",loadData:function(j){e.isUndefined(j.status_url)&&(j.status_url=""),this.$inner.find("iframe").remove(),this.$inner.prepend(d(j))},onContentPasted:function(k){var j=h(k.target),l=j.val();this.handleTwitterDropPaste(l)},handleTwitterDropPaste:function(k){if(!this.validTweetUrl(k)){return void b.log("Invalid Tweet URL")}var l=k.match(/[^\/]+$/);if(!e.isEmpty(l)){this.loading(),l=l[0];var j={url:this.fetchUrl(l),dataType:"json"};this.fetch(j,this.onTweetSuccess,this.onTweetFail)}},validTweetUrl:function(j){return b.isURI(j)&&-1!==j.indexOf("twitter")&&-1!==j.indexOf("status")},onTweetSuccess:function(j){var k={user:{profile_image_url:j.user.profile_image_url,profile_image_url_https:j.user.profile_image_url_https,screen_name:j.user.screen_name,name:j.user.name},id:j.id_str,text:j.text,created_at:j.created_at,entities:j.entities,status_url:"https://twitter.com/"+j.user.screen_name+"/status/"+j.id_str};this.setAndLoadData(k),this.ready()},onTweetFail:function(){this.addMessage(i18n.t("blocks:tweet:fetch_error")),this.ready()},onDrop:function(j){var k=j.getData("text/plain");this.handleTwitterDropPaste(k)}})},function(f,c,g){var d=g(2),b=g(5),e=g(20);f.exports=e.extend({providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo.com\/(.+)/,html:'<iframe src="<%= protocol %>//player.vimeo.com/video/<%= remote_id %>?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/^.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,html:'<iframe src="<%= protocol %>//www.youtube.com/embed/<%= remote_id %>" width="580" height="320" frameborder="0" allowfullscreen></iframe>'}},type:"video",title:function(){return i18n.t("blocks:video:title")},droppable:!0,pastable:!0,icon_name:"video",loadData:function(i){if(this.providers.hasOwnProperty(i.source)){var h=this.providers[i.source],j="file:"===window.location.protocol?"http:":window.location.protocol,k=h.square?"with-square-media":"with-sixteen-by-nine-media";this.$editor.addClass("st-block__editor--"+k).html(d.template(h.html,{protocol:j,remote_id:i.remote_id,width:this.$editor.width()}))}},onContentPasted:function(h){this.handleDropPaste(h.target.value)},matchVideoProvider:function(k,j,i){var h=k.regex.exec(i);return null==h||d.isUndefined(h[1])?{}:{source:j,remote_id:h[1]}},handleDropPaste:function(h){if(b.isURI(h)){for(var i in this.providers){this.providers.hasOwnProperty(i)&&this.setAndLoadData(this.matchVideoProvider(this.providers[i],i,h))}}},onDrop:function(h){var i=h.getData("text/plain");this.handleDropPaste(i)}})},function(e,g,d){function i(q){var n=!0;if(!q){return n}var o=b.call(q),p=q.length;return o==k||o==h||o==l||o==f&&"number"==typeof p&&c(q.splice)?!p:(m(q,function(){return n=!1}),n)}var m=d(82),c=d(53),l="[object Arguments]",k="[object Array]",f="[object Object]",h="[object String]",j=Object.prototype,b=j.toString;e.exports=i},function(c,b,d){function e(f){return"function"==typeof f}c.exports=e},function(d,c,e){function b(g){return !(!g||!f[typeof g])}var f=e(83);d.exports=b},function(f,e,h){function d(i){return"string"==typeof i||i&&"object"==typeof i&&g.call(i)==c||!1}var c="[object String]",b=Object.prototype,g=b.toString;f.exports=d},function(d,c,e){function b(f){return"undefined"==typeof f}d.exports=b},function(d,c,e){function b(g,h){if(g){var i=g[h];return f(i)?g[h]():i}}var f=e(53);d.exports=b},function(f,i,e){function o(D,x,G){var u=l.imports._.templateSettings||l;D=String(D||""),G=h({},G,u);var C,s=h({},G.imports,u.imports),y=p(s),t=n(s),z=0,B=G.interpolate||k,r="__p += '",F=RegExp((G.escape||k).source+"|"+B.source+"|"+(B===m?c:k).source+"|"+(G.evaluate||k).source+"|$","g");D.replace(F,function(H,L,J,I,K,M){return J||(J=I),r+=D.slice(z,M).replace(d,q),L&&(r+="' +\n__e("+L+") +\n'"),K&&(C=!0,r+="';\n"+K+";\n__p += '"),J&&(r+="' +\n((__t = ("+J+")) == null ? '' : __t) +\n'"),z=M+H.length,H}),r+="';\n";var v=G.variable,w=v;w||(v="obj",r="with ("+v+") {\n"+r+"\n}\n"),r=(C?r.replace(b,""):r).replace(g,"$1").replace(j,"$1;"),r="function("+v+") {\n"+(w?"":v+" || ("+v+" = {});\n")+"var __t, __p = '', __e = _.escape"+(C?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+r+"return __p\n}";try{var E=Function(y,"return "+r).apply(void 0,t)}catch(A){throw A.source=r,A}return x?E(x):(E.source=r,E)}var h=e(84),q=(e(85),e(86)),p=e(87),m=e(88),l=e(89),n=e(90),b=/\b__p \+= '';/g,g=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,k=/($^)/,d=/['\n\r\t\u2028\u2029\\]/g;f.exports=o},function(d,c,e){function f(g){var h=++b;return String(null==g?"":g)+h}var b=0;d.exports=f},function(c,b,d){var e;!function(f,g){e=function(){return f.Eventable=g()}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))}(this,function(){function i(o){var n,p=2;return function(){return --p>0?n=o.apply(this,arguments):o=null,n}}function g(o,n){h[o]=function(r,p,t){var q=this._listeners||(this._listeners={}),s=r._listenerId||(r._listenerId=(new Date).getTime());return q[s]=r,"object"==typeof p&&(t=this),r[n](p,t,this),this}}var m=[],k=m.slice,h={on:function(n,q,p){if(!l(this,"on",n,[q,p])||!q){return this}this._events||(this._events={});var o=this._events[n]||(this._events[n]=[]);return o.push({callback:q,context:p,ctx:p||this}),this},once:function(o,r,p){if(!l(this,"once",o,[r,p])||!r){return this}var n=this,q=i(function(){n.off(o,q),r.apply(this,arguments)});return q._callback=r,this.on(o,q,p)},off:function(n,w,o){var u,v,x,t,s,p,r,q;if(!this._events||!l(this,"off",n,[w,o])){return this}if(!n&&!w&&!o){return this._events={},this}for(t=n?[n]:Object.keys(this._events),s=0,p=t.length;p>s;s++){if(n=t[s],x=this._events[n]){if(this._events[n]=u=[],w||o){for(r=0,q=x.length;q>r;r++){v=x[r],(w&&w!==v.callback&&w!==v.callback._callback||o&&o!==v.context)&&u.push(v)}}u.length||delete this._events[n]}}return this},trigger:function(p){if(!this._events){return this}var o=k.call(arguments,1);if(!l(this,"trigger",p,o)){return this}var q=this._events[p],n=this._events.all;return q&&j(q,o),n&&j(n,arguments),this},stopListening:function(q,n,s){var o=this._listeners;if(!o){return this}var p=!n&&!s;"object"==typeof n&&(s=this),q&&((o={})[q._listenerId]=q);for(var r in o){o[r].off(n,s,this),p&&delete this._listeners[r]}return this}},f=/\s+/,l=function(u,s,o,r){if(!o){return !0}if("object"==typeof o){for(var q in o){u[s].apply(u,[q,o[q]].concat(r))}return !1}if(f.test(o)){for(var t=o.split(f),p=0,n=t.length;n>p;p++){u[s].apply(u,[t[p]].concat(r))}return !1}return !0},j=function(s,q){var t,r=-1,p=s.length,o=q[0],n=q[1],u=q[2];switch(q.length){case 0:for(;++r<p;){(t=s[r]).callback.call(t.ctx)}return;case 1:for(;++r<p;){(t=s[r]).callback.call(t.ctx,o)}return;case 2:for(;++r<p;){(t=s[r]).callback.call(t.ctx,o,n)}return;case 3:for(;++r<p;){(t=s[r]).callback.call(t.ctx,o,n,u)}return;default:for(;++r<p;){(t=s[r]).callback.apply(t.ctx,q)}}};return g("listenTo","on"),g("listenToOnce","once"),h.bind=h.on,h.unbind=h.off,h})},function(d,c,e){var b,f;b=[e(73),e(74),e(78),e(79),e(80),e(81),e(75),e(76),e(77),e(66),e(67),e(68),e(69),e(70),e(71),e(97),e(72)],f=function(j,g,i,u,r,n,x,p,w,y,l,h,m,t,k,v,z){function o(E,D){m.call(this),this.el=E,this.commands={},this.options=z.checkOptions(D),this.commandPatches={},this._plainTextFormatterFactory=new s,this._htmlFormatterFactory=new q,this.api=new y(this),this.node=k,this.element=t,this.Immutable=v;var H=l(this);this.transactionManager=new H,this.undoManager=!1,this.options.undo.enabled&&(this.undoManager=this.options.undo.manager?this.options.undo.manager:new h(this.options.undo.limit,this.el),this._merge=!1,this._forceMerge=!1,this._mergeTimer=0,this._lastItem={content:""}),this.setHTML(this.getHTML()),this.el.setAttribute("contenteditable",!0),this.el.addEventListener("input",function(){this.transactionManager.run()}.bind(this),!1),this.allowsBlockElements()?(this.use(w()),this.use(u()),this.use(r())):this.use(x());var B=v.List.of(n,i),C=v.List.of(p.events),F=v.List(this.options.defaultCommandPatches).map(function(I){return p.commands[I]}),A=v.List.of("indent","insertList","outdent","redo","subscript","superscript","undo").map(function(I){return j[I]}),G=v.List().concat(B,C,F,A);G.forEach(function(I){this.use(I())}.bind(this)),this.use(g())}function s(){this.formatters=v.List()}function q(){this.formatters={sanitize:v.List(),normalize:v.List(),"export":v.List()}}return o.prototype=Object.create(m.prototype),o.prototype.use=function(A){return A(this),this},o.prototype.setHTML=function(A,B){this._lastItem.content=A,B&&(this._skipFormatters=!0),this.el.innerHTML!==A&&(this.el.innerHTML=A)},o.prototype.getHTML=function(){return this.el.innerHTML},o.prototype.getContent=function(){return this._htmlFormatterFactory.formatForExport(this.getHTML().replace(/<br>$/,""))},o.prototype.getTextContent=function(){return this.el.textContent},o.prototype.pushHistory=function(){var A=this;if(A.options.undo.enabled){var C=A._lastItem.content.replace(/<em class="scribe-marker">/g,"").replace(/<\/em>/g,"");if(A.getHTML()!==C){var D=new A.api.Selection;D.placeMarkers();var E=A.getHTML();D.removeMarkers();var B=A.undoManager.item(A.undoManager.position);return(A._merge||A._forceMerge)&&B&&A._lastItem==B[0]?A._lastItem.content=E:(A._lastItem={previousItem:A._lastItem,content:E,scribe:A,execute:function(){},undo:function(){this.scribe.restoreFromHistory(this.previousItem)},redo:function(){this.scribe.restoreFromHistory(this)}},A.undoManager.transact(A._lastItem,!1)),clearTimeout(A._mergeTimer),A._merge=!0,A._mergeTimer=setTimeout(function(){A._merge=!1},A.options.undo.interval),!0}}return !1},o.prototype.getCommand=function(A){return this.commands[A]||this.commandPatches[A]||new this.api.Command(A)},o.prototype.restoreFromHistory=function(B){this._lastItem=B,this.setHTML(B.content,!0);var A=new this.api.Selection;A.selectMarkers(),this.trigger("content-changed")},o.prototype.allowsBlockElements=function(){return this.options.allowBlockElements},o.prototype.setContent=function(A){this.allowsBlockElements()||(A+="<br>"),this.setHTML(A),this.trigger("content-changed")},o.prototype.insertPlainText=function(A){this.insertHTML("<p>"+this._plainTextFormatterFactory.format(A)+"</p>")},o.prototype.insertHTML=function(A){this.getCommand("insertHTML").execute(this._htmlFormatterFactory.format(A))},o.prototype.isDebugModeEnabled=function(){return this.options.debug},o.prototype.registerHTMLFormatter=function(A,B){this._htmlFormatterFactory.formatters[A]=this._htmlFormatterFactory.formatters[A].push(B)},o.prototype.registerPlainTextFormatter=function(A){this._plainTextFormatterFactory.formatters=this._plainTextFormatterFactory.formatters.push(A)},s.prototype.format=function(A){var B=this.formatters.reduce(function(C,D){return D(C)},A);return B},q.prototype=Object.create(s.prototype),q.prototype.constructor=q,q.prototype.format=function(B){var A=this.formatters.sanitize.concat(this.formatters.normalize),C=A.reduce(function(D,E){return E(D)},B);return C},q.prototype.formatForExport=function(A){return this.formatters["export"].reduce(function(B,C){return C(B)},A)},o}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){return function(){return function(f){f.registerPlainTextFormatter(function(g){return g.replace(/\n([ \t]*\n)+/g,"</p><p>").replace(/\n/g,"<br>")})}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.Command("createLink");g.nodeName="A",g.execute=function(){var o=new f.api.Selection,i=o.range,p=o.getContaining(function(q){return q.nodeName===this.nodeName}.bind(this)),l=p?p.href:"",m=window.prompt("Enter a link.",l);if(p&&(i.selectNode(p),o.selection.removeAllRanges(),o.selection.addRange(i)),m){var k=/^https?\:\/\//,j=/^mailto\:/;if(!k.test(m)&&!j.test(m)){if(/@/.test(m)){var n=window.confirm("The URL you entered appears to be an email address. Do you want to add the required mailto: prefix?");n&&(m="mailto:"+m)}else{var h=window.confirm("The URL you entered appears to be a link. Do you want to add the required http:// prefix?");h&&(m="http://"+m)}}f.api.SimpleCommand.prototype.execute.call(this,m)}},g.queryState=function(){var h=new f.api.Selection;return !!h.getContaining(function(i){return i.nodeName===this.nodeName}.bind(this))},f.commands.linkPrompt=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){!function(e,f){c.exports=f()}(this,function(){function k(t,w){var v,u=document.createElement(t||"div");for(v in w){u[v]=w[v]}return u}function l(u){for(var t=1,v=arguments.length;v>t;t++){u.appendChild(arguments[t])}return u}function f(x,t,y,C){var u=["opacity",t,~~(100*x),y,C].join("-"),v=0.01+y/C*100,B=Math.max(1-(1-x)/t*(100-v),x),A=q.substring(0,q.indexOf("Animation")).toLowerCase(),w=A&&"-"+A+"-"||"";return s[u]||(m.insertRule("@"+w+"keyframes "+u+"{0%{opacity:"+B+"}"+v+"%{opacity:"+x+"}"+(v+0.01)+"%{opacity:1}"+(v+t)%100+"%{opacity:"+x+"}100%{opacity:"+B+"}}",m.cssRules.length),s[u]=1),u}function p(w,x){var t,u,v=w.style;for(x=x.charAt(0).toUpperCase()+x.slice(1),u=0;u<i.length;u++){if(t=i[u]+x,void 0!==v[t]){return t}}return void 0!==v[x]?x:void 0}function j(t,v){for(var u in v){t.style[p(t,u)||u]=v[u]}return t}function n(v){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var w in u){void 0===v[w]&&(v[w]=u[w])}}return v}function r(u,t){return"string"==typeof u?u:u[t%u.length]}function g(t){this.opts=n(t||{},g.defaults,h)}function o(){function t(v,u){return k("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',u)}m.addRule(".spin-vml","behavior:url(#default#VML)"),g.prototype.lines=function(w,v){function B(){return j(t("group",{coordsize:C+" "+C,coordorigin:-u+" "+-u}),{width:C,height:C})}function y(E,D,F){l(A,l(j(B(),{rotation:360/v.lines*E+"deg",left:~~D}),l(j(t("roundrect",{arcsize:v.corners}),{width:u,height:v.width,left:v.radius,top:-v.width>>1,filter:F}),t("fill",{color:r(v.color,E),opacity:v.opacity}),t("stroke",{opacity:0}))))}var z,u=v.length+v.width,C=2*u,x=2*-(v.width+v.length)+"px",A=j(B(),{position:"absolute",top:x,left:x});if(v.shadow){for(z=1;z<=v.lines;z++){y(z,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(z=1;z<=v.lines;z++){y(z)}return l(w,A)},g.prototype.opacity=function(v,u,x,w){var y=v.firstChild;w=w.shadow&&w.lines||0,y&&u+w<y.childNodes.length&&(y=y.childNodes[u+w],y=y&&y.firstChild,y=y&&y.firstChild,y&&(y.opacity=x))}}var q,i=["webkit","Moz","ms","O"],s={},m=function(){var t=k("style",{type:"text/css"});return l(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",position:"absolute"};g.defaults={},n(g.prototype,{spin:function(C){this.stop();var E=this,u=E.opts,v=E.el=j(k(0,{className:u.className}),{position:u.position,width:0,zIndex:u.zIndex});if(j(v,{left:u.left,top:u.top}),C&&C.insertBefore(v,C.firstChild||null),v.setAttribute("role","progressbar"),E.lines(v,E.opts),!q){var y,z=0,t=(u.lines-1)*(1-u.direction)/2,w=u.fps,B=w/u.speed,A=(1-u.opacity)/(B*u.trail/100),D=B/u.lines;!function x(){z++;for(var F=0;F<u.lines;F++){y=Math.max(1-(z+(u.lines-F)*D)%B*A,u.opacity),E.opacity(v,F*u.direction+t,y,u)}E.timeout=E.el&&setTimeout(x,~~(1000/w))}()}return E},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(v,x){function w(z,A){return j(k(),{position:"absolute",width:x.length+x.width+"px",height:x.width+"px",background:z,boxShadow:A,transformOrigin:"left",transform:"rotate("+~~(360/x.lines*u+x.rotate)+"deg) translate("+x.radius+"px,0)",borderRadius:(x.corners*x.width>>1)+"px"})}for(var t,u=0,y=(x.lines-1)*(1-x.direction)/2;u<x.lines;u++){t=j(k(),{position:"absolute",top:1+~(x.width/2)+"px",transform:x.hwaccel?"translate3d(0,0,0)":"",opacity:x.opacity,animation:q&&f(x.opacity,x.trail,y+u*x.direction,x.lines)+" "+1/x.speed+"s linear infinite"}),x.shadow&&l(t,j(w("#000","0 0 4px #000"),{top:"2px"})),l(v,l(t,w(r(x.color,u),"0 0 1px rgba(0,0,0,.1)")))}return v},opacity:function(u,t,v){t<u.childNodes.length&&(u.childNodes[t].style.opacity=v)}});var e=j(k("group"),{behavior:"url(#default#VML)"});return !p(e,"transform")&&e.adj?o():q=p(e,"animation"),g})},function(c,f,b){var j=Object.prototype.hasOwnProperty,i=Object.prototype.toString,d=b(91),k=!{toString:null}.propertyIsEnumerable("toString"),h=function(){}.propertyIsEnumerable("prototype"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=function(q){var w=null!==q&&"object"==typeof q,n="[object Function]"===i.call(q),v=d(q),m=w&&"[object String]"===i.call(q),s=[];if(!w&&!n&&!v){throw new TypeError("Object.keys called on a non-object")}var x=h&&n;if(m&&q.length>0&&!j.call(q,0)){for(var t=0;t<q.length;++t){s.push(String(t))}}if(v&&q.length>0){for(var r=0;r<q.length;++r){s.push(String(r))}}else{for(var l in q){x&&"prototype"===l||!j.call(q,l)||s.push(String(l))}}if(k){for(var u=q.constructor,o=u&&u.prototype===q,p=0;p<e.length;++p){o&&"constructor"===e[p]||!j.call(q,e[p])||s.push(e[p])}}return s};g.shim=function(){return Object.keys||(Object.keys=g),Object.keys||g},c.exports=g},function(d,c,e){var b,f;b=[e(92),e(93),e(94),e(95),e(96)],f=function(k,j,i,g,h){return function(l){this.CommandPatch=k(l),this.Command=j(l),this.Node=i,this.Selection=g(l),this.SimpleCommand=h(this,l)}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(121)],f=function(g){return function(h){function i(){this.history=[]}return g(i.prototype,{start:function(){this.history.push(1)},end:function(){this.history.pop(),0===this.history.length&&(h.pushHistory(),h.trigger("content-changed"))},run:function(k,j){this.start();try{k&&k()}finally{h._forceMerge=j===!0,this.end(),h._forceMerge=!1}}}),i}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){function f(g,h){this._stack=[],this._limit=g,this._fireEvent="undefined"!=typeof CustomEvent&&h&&h.dispatchEvent,this._ush=h,this.position=0,this.length=0}return f.prototype.transact=function(g,h){if(arguments.length<2){throw new TypeError("Not enough arguments to UndoManager.transact.")}g.execute(),this._stack.splice(0,this.position),h&&this.length?this._stack[0].push(g):this._stack.unshift([g]),this.position=0,this.length=this._limit&&this._stack.length>this._limit?this._stack.length=this._limit:this._stack.length,this._fireEvent&&this._ush.dispatchEvent(new CustomEvent("DOMTransaction",{detail:{transactions:this._stack[0].slice()},bubbles:!0,cancelable:!1}))},f.prototype.undo=function(){if(this.position<this.length){for(var g=this._stack[this.position].length-1;g>=0;g--){this._stack[this.position][g].undo()}this.position++,this._fireEvent&&this._ush.dispatchEvent(new CustomEvent("undo",{detail:{transactions:this._stack[this.position-1].slice()},bubbles:!0,cancelable:!1}))}},f.prototype.redo=function(){if(this.position>0){for(var g=0,h=this._stack[this.position-1].length;h>g;g++){this._stack[this.position-1][g].redo()}this.position--,this._fireEvent&&this._ush.dispatchEvent(new CustomEvent("redo",{detail:{transactions:this._stack[this.position].slice()},bubbles:!0,cancelable:!1}))}},f.prototype.item=function(g){return g>=0&&g<this.length?this._stack[g].slice():null},f.prototype.clearUndo=function(){this._stack.length=this.length=this.position},f.prototype.clearRedo=function(){this._stack.splice(0,this.position),this.position=0,this.length=this._stack.length},f}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[e(123),e(97)],f=function(h,i){function g(){this._listeners={}}return g.prototype.on=function(j,l){var k=this._listeners[j]||i.Set();this._listeners[j]=k.add(l)},g.prototype.off=function(j,l){var k=this._listeners[j]||i.Set();k=l?k["delete"](l):k.clear()},g.prototype.trigger=function(j,k){for(var m=j.split(":");m.length;){var l=m.join(":"),n=this._listeners[l]||i.Set();n.forEach(function(o){o.apply(null,k)}),m.splice(m.length-1,1)}},g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(125)],f=function(i){function j(m){return i(k,m.nodeName)}function h(m){return m.nodeType===Node.ELEMENT_NODE&&"scribe-marker"===m.className}function l(m){return m.nodeType===Node.ELEMENT_NODE&&"caret-position"===m.className}function g(n,m){for(;m.childNodes.length>0;){n.insertBefore(m.childNodes[0],m)}n.removeChild(m)}var k=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","CANVAS","DD","DIV","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TD","TH","TFOOT","UL","VIDEO"];return{isBlockElement:j,isSelectionMarkerNode:h,isCaretPositionNode:l,unwrap:g}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function h(j){return j.nodeType===Node.TEXT_NODE&&""===j.textContent}function g(k,j){return j.parentNode.insertBefore(k,j.nextSibling)}function i(j){return j.parentNode.removeChild(j)}return{isEmptyTextNode:h,insertAfter:g,removeNode:i}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(122)],f=function(i){function h(k){var j=k||{};return Object.freeze(i(j,g))}var g={allowBlockElements:!0,debug:!1,undo:{manager:!1,enabled:!0,limit:100,interval:250},defaultCommandPatches:["bold","indent","insertHTML","insertList","outdent","createLink"]};return{defaultOptions:g,checkOptions:h}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(98),e(99),e(100),e(101),e(102),e(103),e(104)],f=function(g,k,m,i,j,l,h){return{indent:g,insertList:k,outdent:m,redo:i,subscript:j,superscript:l,undo:h}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(125),e(105)],f=function(g,h){return function(){return function(i){i.el.addEventListener("focus",function(){function o(q){var r=document.createTreeWalker(q,NodeFilter.SHOW_ALL,null,!1),p=r.currentNode;return r.firstChild()?"BR"===r.currentNode.nodeName?p:o(r.currentNode):r.currentNode}var n=new i.api.Selection;if(n.range){var m=i.allowsBlockElements()&&n.range.startContainer===i.el;if(m){var k=o(i.el.firstChild),l=n.range;l.setStart(k,0),l.setEnd(k,0),n.selection.removeAllRanges(),n.selection.addRange(l)}}}.bind(i));var j=function(){if(!i._skipFormatters){var l=new i.api.Selection,k=l.range,m=function(){k&&l.placeMarkers(),i.setHTML(i._htmlFormatterFactory.format(i.getHTML())),l.selectMarkers()}.bind(i);i.transactionManager.run(m)}delete i._skipFormatters}.bind(i);h(i.el,j),i.allowsBlockElements()&&i.el.addEventListener("keydown",function(n){if(13===n.keyCode){var m=new i.api.Selection,l=m.range,k=m.getContaining(function(q){return/^(H[1-6])$/.test(q.nodeName)});if(k&&l.collapsed){var p=l.cloneRange();p.setEndAfter(k,0);var o=p.cloneContents();""===o.firstChild.textContent&&(n.preventDefault(),i.transactionManager.run(function(){var q=document.createElement("p"),r=document.createElement("br");q.appendChild(r),k.parentNode.insertBefore(q,k.nextElementSibling),l.setStart(q,0),l.setEnd(q,0),m.selection.removeAllRanges(),m.selection.addRange(l)}))}}}),i.allowsBlockElements()&&i.el.addEventListener("keydown",function(n){if(13===n.keyCode||8===n.keyCode){var l=new i.api.Selection,k=l.range;if(k.collapsed){var o=l.getContaining(function(q){return"LI"===q.nodeName});if(o&&""===o.textContent.trim()){n.preventDefault();var m=l.getContaining(function(q){return"UL"===q.nodeName||"OL"===q.nodeName}),p=i.getCommand("OL"===m.nodeName?"insertOrderedList":"insertUnorderedList");p.execute()}}}}),i.el.addEventListener("paste",function(m){if(m.clipboardData){m.preventDefault(),g(m.clipboardData.types,"text/html")?i.insertHTML(m.clipboardData.getData("text/html")):i.insertPlainText(m.clipboardData.getData("text/plain"))}else{var l=new i.api.Selection;l.placeMarkers();var k=document.createElement("div");document.body.appendChild(k),k.setAttribute("contenteditable",!0),k.focus(),setTimeout(function(){var n=k.innerHTML;k.parentNode.removeChild(k),l.selectMarkers(),i.el.focus(),i.insertHTML(n)},1)}})}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){function f(g){for(var h=document.createTreeWalker(g,NodeFilter.SHOW_ALL,null,!1);h.nextNode();){if(h.currentNode&&(~["br"].indexOf(h.currentNode.nodeName.toLowerCase())||h.currentNode.length>0)){return !0}}return !1}return function(){return function(g){g.el.addEventListener("keydown",function(k){if(13===k.keyCode){var i=new g.api.Selection,h=i.range,j=i.getContaining(function(l){return"LI"===l.nodeName||/^(H[1-6])$/.test(l.nodeName)});j||(k.preventDefault(),g.transactionManager.run(function(){"BR"===g.el.lastChild.nodeName&&g.el.removeChild(g.el.lastChild);var p=document.createElement("br");h.insertNode(p),h.collapse(!1);var o=h.cloneRange();o.setEndAfter(g.el.lastChild,0);var n=o.cloneContents();if(!f(n)){var m=document.createElement("br");h.insertNode(m)}var l=h.cloneRange();l.setStartAfter(p,0),l.setEndAfter(p,0),i.selection.removeAllRanges(),i.selection.addRange(l)}))}}.bind(this)),""===g.getHTML().trim()&&g.setContent("")}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[e(106),e(107),e(108),e(109),e(110),e(111),e(112)],f=function(k,g,i,h,m,l,j){return{commands:{bold:k,indent:g,insertHTML:i,insertList:h,outdent:m,createLink:l},events:j}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){return function(){return function(f){""===f.getHTML().trim()&&f.setContent("<p><br></p>")}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=/(\s|&nbsp;)+/g;f.registerHTMLFormatter("export",function(h){return h.replace(g," ")})}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[e(124)],f=function(h){function g(l,k){var j=Array.prototype.reduce.call(k.childNodes,function(o,n){function p(){var s=[n];o.push(s)}var r=h(o);if(r){var q=l.element.isBlockElement(r[0]);q===l.element.isBlockElement(n)?r.push(n):p()}else{p()}return o},[]),m=j.filter(function(o){var n=l.element.isBlockElement(o[0]);return !n});m.forEach(function(o){var n=document.createElement("p");o[0].parentNode.insertBefore(n,o[0]),o.forEach(function(p){n.appendChild(p)})}),k._isWrapped=!0}function i(k,j){for(var m=document.createTreeWalker(j,NodeFilter.SHOW_ELEMENT,null,!1),l=m.firstChild();l;){if("BLOCKQUOTE"===l.nodeName&&!l._isWrapped){g(k,l),i(k,j);break}l=m.nextSibling()}}return function(){return function(j){j.registerHTMLFormatter("normalize",function(l){var k=document.createElement("div");return k.innerHTML=l,g(j,k),i(j,k),k.innerHTML})}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(70),e(125)],f=function(i,h){function k(l,m){return l.isCaretPositionNode(m)?!0:""===m.parentNode.textContent.trim()}function j(m,l){function o(p){return 0===p.children.length&&m.isBlockElement(p)||1===p.children.length&&m.isSelectionMarkerNode(p.children[0])?!0:m.isBlockElement(p)||0!==p.children.length?!1:k(m,p)}for(var n=l.firstElementChild;n;){m.isSelectionMarkerNode(n)||(o(n)&&""===n.textContent.trim()&&!h(g,n.nodeName)?n.appendChild(document.createElement("br")):n.children.length>0&&j(m,n)),n=n.nextElementSibling}}var g=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];return function(){return function(l){l.registerHTMLFormatter("normalize",function(n){var m=document.createElement("div");return m.innerHTML=n,j(l.element,m),m.innerHTML})}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(126)],f=function(g){return function(){return function(h){h.registerPlainTextFormatter(g)}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(e,c,g){var d=g(113),f=g(114),h=g(115),b=function(k,p,n){var l,j=k,q=j;if(!j){return q}if(!h[typeof j]){return q}p=p&&"undefined"==typeof n?p:d(p,n,3);for(var m=-1,o=h[typeof j]&&f(j),i=o?o.length:0;++m<i;){if(l=o[m],p(j[l],l,k)===!1){return q}}return q};e.exports=b},function(c,b,d){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};c.exports=e},function(c,b,f){var d=f(87),g=f(116),e=function(l,h,o){var n,k=l,s=k;if(!k){return s}for(var q=arguments,i=0,m="number"==typeof o?2:q.length;++i<m;){if(k=q[i],k&&g[typeof k]){for(var p=-1,r=g[typeof k]&&d(k),j=r?r.length:0;++p<j;){n=r[p],"undefined"==typeof s[n]&&(s[n]=k[n])}}}return s};c.exports=e},function(d,c,g){function e(h){return null==h?"":String(h).replace(f,b)}var b=g(117),f=(g(87),g(118));d.exports=e},function(c,b,d){function f(g){return"\\"+e[g]}var e={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};c.exports=f},function(g,f,i){var e=i(119),c=i(54),d=i(120),b=e(b=Object.keys)&&b,h=b?function(j){return c(j)?b(j):[]}:d;g.exports=h},function(d,c,e){var b=/<%=([\s\S]+?)%>/g;d.exports=b},function(d,c,f){var e=f(85),b=f(88),g={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:{escape:e}}};d.exports=g},function(d,c,f){function b(i){for(var h=-1,j=e(i),k=j.length,g=Array(k);++h<k;){g[h]=i[j[h]]}return g}var e=f(87);d.exports=b},function(c,b,e){var d=Object.prototype.toString;c.exports=function(g){var h=d.call(g),f="[object Arguments]"===h;return f||(f="[object Array]"!==h&&null!==g&&"object"==typeof g&&"number"==typeof g.length&&g.length>=0&&"[object Function]"===d.call(g.callee)),f}},function(c,b,d){var e;e=function(){return function(f){function g(h){this.commandName=h}return g.prototype.execute=function(h){f.transactionManager.run(function(){document.execCommand(this.commandName,!1,h||null)}.bind(this))},g.prototype.queryState=function(){return document.queryCommandState(this.commandName)},g.prototype.queryEnabled=function(){return document.queryCommandEnabled(this.commandName)},g}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(f){function g(h){this.commandName=h,this.patch=f.commandPatches[this.commandName]}return g.prototype.execute=function(h){this.patch?this.patch.execute(h):f.transactionManager.run(function(){document.execCommand(this.commandName,!1,h||null)}.bind(this))},g.prototype.queryState=function(){return this.patch?this.patch.queryState():document.queryCommandState(this.commandName)},g.prototype.queryEnabled=function(){return this.patch?this.patch.queryEnabled():document.queryCommandEnabled(this.commandName)},g}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){function f(g){this.node=g}return f.prototype.getAncestor=function(g,h){var j=function(k){return g===k};if(!j(this.node)){for(var i=this.node.parentNode;i&&!j(i);){if(h(i)){return i}i=i.parentNode}}},f.prototype.nextAll=function(){for(var h=[],g=this.node.nextSibling;g;){h.push(g),g=g.nextSibling}return h},f}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[e(70)],f=function(g){return function(h){function i(){for(var l=document,k=h.el.parentNode;k&&k.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&k.nodeType!==Node.DOCUMENT_NODE;){k=k.parentNode}if(k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&k.getSelection&&(l=k),this.selection=l.getSelection(),this.selection.rangeCount&&this.selection.anchorNode){this.range=document.createRange();var j=document.createRange();this.range.setStart(this.selection.anchorNode,this.selection.anchorOffset),j.setStart(this.selection.focusNode,this.selection.focusOffset),this.range.compareBoundaryPoints(Range.START_TO_START,j)<=0?this.range.setEnd(this.selection.focusNode,this.selection.focusOffset):(this.range=j,this.range.setEnd(this.selection.anchorNode,this.selection.anchorOffset))}}return i.prototype.getContaining=function(j){var k=this.range;if(k){var l=new h.api.Node(this.range.commonAncestorContainer),m=l.node&&h.el===l.node;return !m&&j(l.node)?l.node:l.getAncestor(h.el,j)}},i.prototype.placeMarkers=function(){var k=this.range;if(k&&h.el.offsetParent){var j=document.createRange();j.selectNodeContents(h.el);var q=this.range.compareBoundaryPoints(Range.START_TO_START,j)>=0,p=this.range.compareBoundaryPoints(Range.END_TO_END,j)<=0;if(q&&p){var l=document.createElement("em");l.classList.add("scribe-marker");var m=document.createElement("em");m.classList.add("scribe-marker");var o=this.range.cloneRange();if(o.collapse(!1),o.insertNode(m),m.nextSibling&&m.nextSibling.nodeType===Node.TEXT_NODE&&""===m.nextSibling.data&&m.parentNode.removeChild(m.nextSibling),m.previousSibling&&m.previousSibling.nodeType===Node.TEXT_NODE&&""===m.previousSibling.data&&m.parentNode.removeChild(m.previousSibling),!this.range.collapsed){var n=this.range.cloneRange();n.collapse(!0),n.insertNode(l),l.nextSibling&&l.nextSibling.nodeType===Node.TEXT_NODE&&""===l.nextSibling.data&&l.parentNode.removeChild(l.nextSibling),l.previousSibling&&l.previousSibling.nodeType===Node.TEXT_NODE&&""===l.previousSibling.data&&l.parentNode.removeChild(l.previousSibling)}this.selection.removeAllRanges(),this.selection.addRange(this.range)}}},i.prototype.getMarkers=function(){return h.el.querySelectorAll("em.scribe-marker")},i.prototype.removeMarkers=function(){var j=this.getMarkers();Array.prototype.forEach.call(j,function(k){k.parentNode.removeChild(k)})},i.prototype.selectMarkers=function(k){var l=this.getMarkers();if(l.length){var j=document.createRange();j.setStartBefore(l[0]),j.setEndAfter(l.length>=2?l[1]:l[0]),k||this.removeMarkers(),this.selection.removeAllRanges(),this.selection.addRange(j)}},i.prototype.isCaretOnNewLine=function(){function k(m){for(var o=document.createTreeWalker(m,NodeFilter.SHOW_ELEMENT,null,!1),l=o.root;l;){var n=l.childNodes.length;if(n>1||1===n&&""!==l.textContent.trim()){return !1}if(0===n){return""===l.textContent.trim()}l=o.nextNode()}}var j=this.getContaining(function(l){return"P"===l.nodeName});return j?k(j):!1},i}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){return function(g,f){function h(i,j){f.api.Command.call(this,i),this._nodeName=j}return h.prototype=Object.create(g.Command.prototype),h.prototype.constructor=h,h.prototype.queryState=function(){var i=new f.api.Selection;return f.api.Command.prototype.queryState.call(this)&&!!i.getContaining(function(j){return j.nodeName===this._nodeName}.bind(this))},h}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){!function(f,e){c.exports=e()}(this,function(){function g(cY,cX){cX&&(cY.prototype=Object.create(cX.prototype)),cY.prototype.constructor=cY}function ce(cX){return cX.value=!1,cX}function cp(cX){cX&&(cX.value=!0)}function bD(){}function bV(cY,c1){c1=c1||0;for(var cX=Math.max(0,cY.length-c1),c0=new Array(cX),cZ=0;cX>cZ;cZ++){c0[cZ]=cY[cZ+c1]}return c0}function t(cX){return void 0===cX.size&&(cX.size=cX.__iterate(aa)),cX.size}function bI(cX,cY){return cY>=0?+cY:t(cX)+ +cY}function aa(){return !0}function cR(cZ,cX,cY){return(0===cZ||void 0!==cY&&-cY>=cZ)&&(void 0===cX||void 0!==cY&&cX>=cY)}function bg(cY,cX){return al(cY,cX,0)}function a3(cX,cY){return al(cX,cY,cY)}function al(cX,cY,cZ){return void 0===cX?cZ:0>cX?Math.max(0,cY+cX):void 0===cY?cX:Math.min(cY,cX)}function aD(cX){return R(cX)?cX:Z(cX)}function S(cX){return e(cX)?cX:cC(cX)}function bH(cX){return bR(cX)?cX:V(cX)}function bq(cX){return R(cX)&&!Q(cX)?cX:ad(cX)}function R(cX){return !(!cX||!cX[y])}function e(cX){return !(!cX||!cX[aj])}function bR(cX){return !(!cX||!cX[cP])}function Q(cX){return e(cX)||bR(cX)}function bv(cX){return !(!cX||!cX[bc])}function aO(cX){this.next=cX}function bk(c0,cZ,cY,cX){var c1=0===c0?cZ:1===c0?cY:[cZ,cY];return cX?cX.value=c1:cX={value:c1,done:!1},cX}function cx(){return{value:void 0,done:!0}}function o(cX){return !!bn(cX)}function cf(cX){return cX&&"function"==typeof cX.next}function bY(cY){var cX=bn(cY);return cX&&cX.call(cY)}function bn(cY){var cX=cY&&(aX&&cY[aX]||cY[cj]);return"function"==typeof cX?cX:void 0}function a1(cX){return cX&&"number"==typeof cX.length}function Z(cX){return null===cX||void 0===cX?cU():R(cX)?cX.toSeq():aG(cX)}function cC(cX){return null===cX||void 0===cX?cU().toKeyedSeq():R(cX)?e(cX)?cX.toSeq():cX.fromEntrySeq():a2(cX)}function V(cX){return null===cX||void 0===cX?cU():R(cX)?e(cX)?cX.entrySeq():cX.toIndexedSeq():G(cX)}function ad(cX){return(null===cX||void 0===cX?cU():R(cX)?e(cX)?cX.entrySeq():cX:G(cX)).toSetSeq()}function bd(cX){this._array=cX,this.size=cX.length}function ar(cX){var cY=Object.keys(cX);this._object=cX,this._keys=cY,this.size=cY.length}function w(cX){this._iterable=cX,this.size=cX.length||cX.size}function cc(cX){this._iterator=cX,this._iteratorCache=[]}function bx(cX){return !(!cX||!cX[bz])}function cU(){return cL||(cL=new bd([]))}function a2(cY){var cX=Array.isArray(cY)?new bd(cY).fromEntrySeq():cf(cY)?new cc(cY).fromEntrySeq():o(cY)?new w(cY).fromEntrySeq():"object"==typeof cY?new ar(cY):void 0;if(!cX){throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+cY)}return cX}function G(cY){var cX=f(cY);if(!cX){throw new TypeError("Expected Array or iterable object of values: "+cY)}return cX}function aG(cY){var cX=f(cY)||"object"==typeof cY&&new ar(cY);if(!cX){throw new TypeError("Expected Array or iterable object of values, or keyed object: "+cY)}return cX}function f(cX){return a1(cX)?new bd(cX):cf(cX)?new cc(cX):o(cX)?new w(cX):void 0}function ci(cZ,c3,c0,cX){var cY=cZ._cache;if(cY){for(var c1=cY.length-1,c2=0;c1>=c2;c2++){var c4=cY[c0?c1-c2:c2];if(c3(c4[1],cX?c4[0]:c2,cZ)===!1){return c2+1}}return c2}return cZ.__iterateUncached(c3,c0)}function by(cZ,c3,c0,cX){var cY=cZ._cache;if(cY){var c1=cY.length-1,c2=0;return new aO(function(){var c4=cY[c0?c1-c2:c2];return c2++>c1?cx():bk(c3,cX?c4[0]:c2-1,c4[1])})}return cZ.__iteratorUncached(c3,c0)}function aC(){throw TypeError("Abstract")}function b8(){}function cM(){}function b7(){}function N(cY,cX){return cY===cX||cY!==cY&&cX!==cX?!0:cY&&cX?("function"==typeof cY.valueOf&&"function"==typeof cX.valueOf&&(cY=cY.valueOf(),cX=cX.valueOf()),"function"==typeof cY.equals&&"function"==typeof cX.equals?cY.equals(cX):cY===cX||cY!==cY&&cX!==cX):!1}function bb(cX,cY){return cY?bM(cY,cX,"",{"":cX}):cD(cX)}function bM(cZ,cY,cX,c0){return Array.isArray(cY)?cZ.call(c0,cX,V(cY).map(function(c2,c1){return bM(cZ,c2,c1,cY)})):ak(cY)?cZ.call(c0,cX,cC(cY).map(function(c2,c1){return bM(cZ,c2,c1,cY)})):cY}function cD(cX){return Array.isArray(cX)?V(cX).map(cD).toList():ak(cX)?cC(cX).map(cD).toMap():cX}function ak(cX){return cX&&(cX.constructor===Object||void 0===cX.constructor)}function az(cX){return cX>>>1&1073741824|3221225471&cX}function bt(cZ){if(cZ===!1||null===cZ||void 0===cZ){return 0}if("function"==typeof cZ.valueOf&&(cZ=cZ.valueOf(),cZ===!1||null===cZ||void 0===cZ)){return 0}if(cZ===!0){return 1}var cY=typeof cZ;if("number"===cY){var cX=0|cZ;for(cX!==cZ&&(cX^=4294967295*cZ);cZ>4294967295;){cZ/=4294967295,cX^=cZ}return az(cX)}return"string"===cY?cZ.length>bC?cl(cZ):cG(cZ):"function"==typeof cZ.hashCode?cZ.hashCode():cH(cZ)}function cl(cX){var cY=bw[cX];return void 0===cY&&(cY=cG(cX),bl===bh&&(bl=0,bw={}),bl++,bw[cX]=cY),cY}function cG(cX){for(var cZ=0,cY=0;cY<cX.length;cY++){cZ=31*cZ+cX.charCodeAt(cY)|0}return az(cZ)}function cH(cY){var cX=cs&&cs.get(cY);if(cX){return cX}if(cX=cY[cK]){return cX}if(!a4){if(cX=cY.propertyIsEnumerable&&cY.propertyIsEnumerable[cK]){return cX}if(cX=i(cY)){return cX}}if(Object.isExtensible&&!Object.isExtensible(cY)){throw new Error("Non-extensible objects are not allowed as keys.")}if(cX=++cN,1073741824&cN&&(cN=0),cs){cs.set(cY,cX)}else{if(a4){Object.defineProperty(cY,cK,{enumerable:!1,configurable:!1,writable:!1,value:cX})}else{if(cY.propertyIsEnumerable&&cY.propertyIsEnumerable===cY.constructor.prototype.propertyIsEnumerable){cY.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},cY.propertyIsEnumerable[cK]=cX}else{if(!cY.nodeType){throw new Error("Unable to set a non-enumerable property on object.")}cY[cK]=cX}}}return cX}function i(cX){if(cX&&cX.nodeType>0){switch(cX.nodeType){case 1:return cX.uniqueID;case 9:return cX.documentElement&&cX.documentElement.uniqueID}}}function bF(cY,cX){if(!cY){throw new Error(cX)}}function z(cX){bF(cX!==1/0,"Cannot perform this action with an infinite size.")}function af(cY,cX){this._iter=cY,this._useKeys=cX,this.size=cY.size}function x(cX){this._iter=cX,this.size=cX.size}function Y(cX){this._iter=cX,this.size=cX.size}function M(cX){this._iter=cX,this.size=cX.size}function u(cX){var cY=bZ(cX);return cY._iter=cX,cY.size=cX.size,cY.flip=function(){return cX},cY.reverse=function(){var cZ=cX.reverse.apply(this);return cZ.flip=function(){return cX.reverse()},cZ},cY.has=function(cZ){return cX.contains(cZ)},cY.contains=function(cZ){return cX.has(cZ)},cY.cacheResult=au,cY.__iterateUncached=function(c1,c0){var cZ=this;return cX.__iterate(function(c3,c2){return c1(c2,c3,cZ)!==!1},c0)},cY.__iteratorUncached=function(c1,cZ){if(c1===an){var c0=cX.__iterator(c1,cZ);return new aO(function(){var c3=c0.next();if(!c3.done){var c2=c3.value[0];c3.value[0]=c3.value[1],c3.value[1]=c2}return c3})}return cX.__iterator(c1===aF?aI:aF,cZ)},cY}function b1(cY,c0,cX){var cZ=bZ(cY);return cZ.size=cY.size,cZ.has=function(c1){return cY.has(c1)},cZ.get=function(c3,c2){var c1=cY.get(c3,aY);return c1===aY?c2:c0.call(cX,c1,c3,cY)},cZ.__iterateUncached=function(c3,c2){var c1=this;return cY.__iterate(function(c5,c4,c6){return c3(c0.call(cX,c5,c4,c6),c4,c1)!==!1},c2)},cZ.__iteratorUncached=function(c3,c1){var c2=cY.__iterator(an,c1);return new aO(function(){var c6=c2.next();if(c6.done){return c6}var c5=c6.value,c4=c5[0];return bk(c3,c4,c0.call(cX,c5[1],c4,cY),c6)})},cZ}function P(cZ,cX){var cY=bZ(cZ);return cY._iter=cZ,cY.size=cZ.size,cY.reverse=function(){return cZ},cZ.flip&&(cY.flip=function(){var c0=u(cZ);return c0.reverse=function(){return cZ.flip()},c0}),cY.get=function(c1,c0){return cZ.get(cX?c1:-1-c1,c0)},cY.has=function(c0){return cZ.has(cX?c0:-1-c0)},cY.contains=function(c0){return cZ.contains(c0)},cY.cacheResult=au,cY.__iterate=function(c2,c1){var c0=this;return cZ.__iterate(function(c4,c3){return c2(c4,c3,c0)},!c1)},cY.__iterator=function(c1,c0){return cZ.__iterator(c1,!c0)},cY}function aq(c0,cX,cZ,cY){var c1=bZ(c0);return cY&&(c1.has=function(c3){var c2=c0.get(c3,aY);return c2!==aY&&!!cX.call(cZ,c2,c3,c0)},c1.get=function(c4,c3){var c2=c0.get(c4,aY);return c2!==aY&&cX.call(cZ,c2,c4,c0)?c2:c3}),c1.__iterateUncached=function(c4,c3){var c2=this,c5=0;return c0.__iterate(function(c7,c6,c8){return cX.call(cZ,c7,c6,c8)?(c5++,c4(c7,cY?c6:c5-1,c2)):void 0},c3),c5},c1.__iteratorUncached=function(c4,c2){var c3=c0.__iterator(an,c2),c5=0;return new aO(function(){for(;;){var c8=c3.next();if(c8.done){return c8}var c7=c8.value,c6=c7[0],c9=c7[1];if(cX.call(cZ,c9,c6,c0)){return bk(c4,cY?c6:c5++,c9,c8)}}})},c1}function at(c0,cY,cZ){var cX=bj().asMutable();return c0.__iterate(function(c2,c1){cX.update(cY.call(cZ,c2,c1,c0),0,function(c3){return c3+1})}),cX.asImmutable()}function b4(c2,cY,cZ){var c1=e(c2),cX=(bv(c2)?cV():bj()).asMutable();c2.__iterate(function(c4,c3){cX.update(cY.call(cZ,c4,c3,c2),function(c5){return c5=c5||[],c5.push(c1?[c3,c4]:c4),c5})});var c0=ah(c2);return cX.map(function(c3){return b5(c2,c0(c3))})}function bQ(cX,c0,c2,cY){var c4=cX.size;if(cR(c0,c2,c4)){return cX}var c3=bg(c0,c4),c5=a3(c2,c4);if(c3!==c3||c5!==c5){return bQ(cX.toSeq().cacheResult(),c0,c2,cY)}var c1=c5-c3;0>c1&&(c1=0);var cZ=bZ(cX);return cZ.size=0===c1?c1:cX.size&&c1||void 0,!cY&&bx(cX)&&c1>=0&&(cZ.get=function(c7,c6){return c7=bI(this,c7),c7>=0&&c1>c7?cX.get(c7+c3,c6):c6}),cZ.__iterateUncached=function(c9,c8){var c6=this;if(0===c1){return 0}if(c8){return this.cacheResult().__iterate(c9,c8)}var c7=0,db=!0,da=0;return cX.__iterate(function(dd,dc){return db&&(db=c7++<c3)?void 0:(da++,c9(dd,cY?dc:da-1,c6)!==!1&&da!==c1)}),da},cZ.__iteratorUncached=function(c9,c7){if(c1&&c7){return this.cacheResult().__iterator(c9,c7)}var c8=c1&&cX.__iterator(c9,c7),c6=0,da=0;return new aO(function(){for(;c6++!==c3;){c8.next()}if(++da>c1){return cx()}var db=c8.next();return cY||c9===aF?db:c9===aI?bk(c9,da-1,void 0,db):bk(c9,da-1,db.value[1],db)})},cZ}function H(c0,cX,cY){var cZ=bZ(c0);return cZ.__iterateUncached=function(c3,c2){var c1=this;if(c2){return this.cacheResult().__iterate(c3,c2)}var c4=0;return c0.__iterate(function(c6,c5,c7){return cX.call(cY,c6,c5,c7)&&++c4&&c3(c6,c5,c1)}),c4},cZ.__iteratorUncached=function(c5,c3){var c2=this;if(c3){return this.cacheResult().__iterator(c5,c3)}var c4=c0.__iterator(an,c3),c1=!0;return new aO(function(){if(!c1){return cx()}var c9=c4.next();if(c9.done){return c9}var c8=c9.value,c7=c8[0],c6=c8[1];return cX.call(cY,c6,c7,c2)?c5===an?c9:bk(c5,c7,c6,c9):(c1=!1,cx())})},cZ}function bB(c1,cX,c0,cY){var cZ=bZ(c1);return cZ.__iterateUncached=function(c4,c3){var c2=this;if(c3){return this.cacheResult().__iterate(c4,c3)}var c6=!0,c5=0;return c1.__iterate(function(c8,c7,c9){return c6&&(c6=cX.call(c0,c8,c7,c9))?void 0:(c5++,c4(c8,cY?c7:c5-1,c2))}),c5},cZ.__iteratorUncached=function(c6,c4){var c3=this;if(c4){return this.cacheResult().__iterator(c6,c4)}var c5=c1.__iterator(an,c4),c2=!0,c7=0;return new aO(function(){var db,c9,c8;do{if(db=c5.next(),db.done){return cY||c6===aF?db:c6===aI?bk(c6,c7++,void 0,db):bk(c6,c7++,db.value[1],db)}var da=db.value;c9=da[0],c8=da[1],c2&&(c2=cX.call(c0,c8,c9,c3))}while(c2);return c6===an?db:bk(c6,c9,c8,db)})},cZ}function bG(c2,cZ){var cY=e(c2),cX=[c2].concat(cZ).map(function(c3){return R(c3)?cY&&(c3=S(c3)):c3=cY?a2(c3):G(Array.isArray(c3)?c3:[c3]),c3}).filter(function(c3){return 0!==c3.size});if(0===cX.length){return c2}if(1===cX.length){var c1=cX[0];if(c1===c2||cY&&e(c1)||bR(c2)&&bR(c1)){return c1}}var c0=new bd(cX);return cY?c0=c0.toKeyedSeq():bR(c2)||(c0=c0.toSetSeq()),c0=c0.flatten(!0),c0.size=cX.reduce(function(c5,c3){if(void 0!==c5){var c4=c3.size;if(void 0!==c4){return c5+c4}}},0),c0}function aw(cY,c0,cX){var cZ=bZ(cY);return cZ.__iterateUncached=function(c2,c1){function c4(c7,c8){var c6=this;c7.__iterate(function(da,c9){return(!c0||c0>c8)&&R(da)?c4(da,c8+1):c2(da,cX?c9:c3++,c6)===!1&&(c5=!0),!c5},c1)}var c3=0,c5=!1;return c4(cY,0),c3},cZ.__iteratorUncached=function(c4,c2){var c3=cY.__iterator(c4,c2),c1=[],c5=0;return new aO(function(){for(;c3;){var c7=c3.next();if(c7.done===!1){var c6=c7.value;if(c4===an&&(c6=c6[1]),c0&&!(c1.length<c0)||!R(c6)){return cX?c7:bk(c4,c5++,c6,c7)}c1.push(c3),c3=c6.__iterator(c4,c2)}else{c3=c1.pop()}}return cx()})},cZ}function b9(cZ,c0,cX){var cY=ah(cZ);return cZ.toSeq().map(function(c2,c1){return cY(c0.call(cX,c2,c1,cZ))}).flatten(!0)}function cF(cY,cZ){var cX=bZ(cY);return cX.size=cY.size&&2*cY.size-1,cX.__iterateUncached=function(c2,c1){var c0=this,c3=0;return cY.__iterate(function(c5,c4){return(!c3||c2(cZ,c3++,c0)!==!1)&&c2(c5,c3++,c0)!==!1},c1),c3},cX.__iteratorUncached=function(c2,c0){var c4,c1=cY.__iterator(aF,c0),c3=0;return new aO(function(){return(!c4||c3%2)&&(c4=c1.next(),c4.done)?c4:c3%2?bk(c2,c3++,cZ):bk(c2,c3++,c4.value,c4)})},cX}function be(c1,cZ,c2){cZ||(cZ=a6);var cY=e(c1),c0=0,cX=c1.toSeq().map(function(c4,c3){return[c3,c4,c0++,c2?c2(c4,c3,c1):c4]}).toArray();return cX.sort(function(c4,c3){return cZ(c4[3],c3[3])||c4[2]-c3[2]}).forEach(cY?function(c3,c4){cX[c4].length=2}:function(c3,c4){cX[c4]=c3[1]}),cY?cC(cX):bR(c1)?V(cX):ad(cX)}function n(cZ,cX,c0){if(cX||(cX=a6),c0){var cY=cZ.toSeq().map(function(c2,c1){return[c2,c0(c2,c1,cZ)]}).reduce(function(c2,c1){return ai(cX,c2[1],c1[1])?c1:c2});return cY&&cY[0]}return cZ.reduce(function(c2,c1){return ai(cX,c2,c1)?c1:c2})}function ai(cZ,cY,cX){var c0=cZ(cX,cY);return 0===c0&&cX!==cY&&(void 0===cX||null===cX||cX!==cX)||c0>0}function bT(cZ,cX,cY){var c0=bZ(cZ);return c0.size=new bd(cY).map(function(c1){return c1.size}).min(),c0.__iterate=function(c3,c1){for(var c5,c2=this.__iterator(aF,c1),c4=0;!(c5=c2.next()).done&&c3(c5.value,c4++,this)!==!1;){}return c4},c0.__iteratorUncached=function(c4,c2){var c3=cY.map(function(c6){return c6=aD(c6),bY(c2?c6.reverse():c6)}),c5=0,c1=!1;return new aO(function(){var c6;return c1||(c6=c3.map(function(c7){return c7.next()}),c1=c6.some(function(c7){return c7.done})),c1?cx():bk(c4,c5++,cX.apply(null,c6.map(function(c7){return c7.value})))})},c0}function b5(cX,cY){return bx(cX)?cY:cX.constructor(cY)}function A(cX){if(cX!==Object(cX)){throw new TypeError("Expected [K, V] tuple: "+cX)}}function bE(cX){return z(cX.size),t(cX)}function ah(cX){return e(cX)?S:bR(cX)?bH:bq}function bZ(cX){return Object.create((e(cX)?cC:bR(cX)?V:ad).prototype)}function au(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Z.prototype.cacheResult.call(this)}function a6(cY,cX){return cY>cX?1:cX>cY?-1:0}function bs(cY){var cX=bY(cY);if(!cX){if(!a1(cY)){throw new TypeError("Expected iterable or array-like: "+cY)}cX=bY(aD(cY))}return cX}function bj(cX){return null===cX||void 0===cX?cO():cS(cX)?cX:cO().withMutations(function(cZ){var cY=S(cX);z(cY.size),cY.forEach(function(c1,c0){return cZ.set(c0,c1)})})}function cS(cX){return !(!cX||!cX[cm])}function bP(cY,cX){this.ownerID=cY,this.entries=cX}function cd(cZ,cY,cX){this.ownerID=cZ,this.bitmap=cY,this.nodes=cX}function L(cZ,cY,cX){this.ownerID=cZ,this.count=cY,this.nodes=cX}function av(cZ,cY,cX){this.ownerID=cZ,this.keyHash=cY,this.entries=cX}function a5(cZ,cY,cX){this.ownerID=cZ,this.keyHash=cY,this.entry=cX}function cJ(cZ,cY,cX){this._type=cY,this._reverse=cX,this._stack=cZ._root&&b0(cZ._root)}function X(cX,cY){return bk(cX,cY[0],cY[1])}function b0(cY,cX){return{node:cY,index:0,__prev:cX}}function cB(cY,cX,c1,c0){var cZ=Object.create(cw);return cZ.size=cY,cZ._root=cX,cZ.__ownerID=c1,cZ.__hash=c0,cZ.__altered=!1,cZ}function cO(){return am||(am=cB(0))}function ax(c2,c0,cZ){var c3,cY;if(c2._root){var cX=ce(aA),c1=ce(bK);if(c3=a7(c2._root,c2.__ownerID,0,void 0,c0,cZ,cX,c1),!c1.value){return c2}cY=c2.size+(cX.value?cZ===aY?-1:1:0)}else{if(cZ===aY){return c2}cY=1,c3=new bP(c2.__ownerID,[[c0,cZ]])}return c2.__ownerID?(c2.size=cY,c2._root=c3,c2.__hash=void 0,c2.__altered=!0,c2):c3?cB(cY,c3):cO()}function a7(c1,c4,cY,c3,c0,c2,cX,cZ){return c1?c1.update(c4,cY,c3,c0,c2,cX,cZ):c2===aY?c1:(cp(cZ),cp(cX),new a5(c4,c3,[c0,c2]))}function ca(cX){return cX.constructor===a5||cX.constructor===av}function ae(c1,cZ,cY,c0,c4){if(c1.keyHash===c0){return new av(cZ,c0,[c1.entry,c4])}var c5,c3=(0===cY?c1.keyHash:c1.keyHash>>>cY)&bU,c2=(0===cY?c0:c0>>>cY)&bU,cX=c3===c2?[ae(c1,cZ,cY+F,c0,c4)]:(c5=new a5(cZ,c0,c4),c2>c3?[c1,c5]:[c5,c1]);return new cd(cZ,1<<c3|1<<c2,cX)}function I(c3,cX,cY,c2){c3||(c3=new bD);for(var c1=new a5(c3,bt(cY),[cY,c2]),cZ=0;cZ<cX.length;cZ++){var c0=cX[cZ];c1=c1.update(c3,0,void 0,c0[0],c0[1])}return c1}function b3(cZ,cX,c2,c5){for(var c6=0,c0=0,c3=new Array(c2),c7=0,c4=1,c1=cX.length;c1>c7;c7++,c4<<=1){var cY=cX[c7];void 0!==cY&&c7!==c5&&(c6|=c4,c3[c0++]=cY)}return new cd(cZ,c6,c3)}function aK(c4,cX,c3,c0,c2){for(var c1=0,cY=new Array(aB),cZ=0;0!==c3;cZ++,c3>>>=1){cY[cZ]=1&c3?cX[c1++]:void 0}return cY[c0]=c2,new L(c4,c1+1,cY)}function T(c3,c2,cZ){for(var cY=[],c0=0;c0<cZ.length;c0++){var c1=cZ[c0],cX=S(c1);R(c1)||(cX=cX.map(function(c4){return bb(c4)})),cY.push(cX)}return aM(c3,c2,cY)}function cn(cX){return function(cY,cZ){return cY&&cY.mergeDeepWith&&R(cZ)?cY.mergeDeepWith(cX,cZ):cX?cX(cY,cZ):cZ}}function aM(cZ,cY,cX){return cX=cX.filter(function(c0){return 0!==c0.size}),0===cX.length?cZ:0===cZ.size&&1===cX.length?cZ.constructor(cX[0]):cZ.withMutations(function(c2){for(var c0=cY?function(c4,c3){c2.update(c3,aY,function(c5){return c5===aY?c4:cY(c5,c4)})}:function(c4,c3){c2.set(c3,c4)},c1=0;c1<cX.length;c1++){cX[c1].forEach(c0)}})}function ag(cY,c2,c7,c4){var c1=cY===aY,c0=c2.next();if(c0.done){var c5=c1?c7:cY,cX=c4(c5);return cX===c5?cY:cX}bF(c1||cY&&cY.set,"invalid keyPath");var c3=c0.value,cZ=c1?aY:cY.get(c3,aY),c6=ag(cZ,c2,c7,c4);return c6===cZ?cY:c6===aY?cY.remove(c3):(c1?cO():cY).set(c3,c6)}function aU(cX){return cX-=cX>>1&1431655765,cX=(858993459&cX)+(cX>>2&858993459),cX=cX+(cX>>4)&252645135,cX+=cX>>8,cX+=cX>>16,127&cX}function O(c1,cY,c0,cZ){var cX=cZ?c1:bV(c1);return cX[cY]=c0,cX}function s(c4,cY,c3,cZ){var c1=c4.length+1;if(cZ&&cY+1===c1){return c4[cY]=c3,c4}for(var cX=new Array(c1),c2=0,c0=0;c1>c0;c0++){c0===cY?(cX[c0]=c3,c2=-1):cX[c0]=c4[c0+c2]}return cX}function cb(c3,cY,cZ){var c1=c3.length-1;if(cZ&&cY===c1){return c3.pop(),c3}for(var cX=new Array(c1),c2=0,c0=0;c1>c0;c0++){c0===cY&&(c2=1),cX[c0]=c3[c0+c2]}return cX}function aP(c0){var cZ=ap();if(null===c0||void 0===c0){return cZ}if(j(c0)){return c0}var cX=bH(c0),cY=cX.size;return 0===cY?cZ:(z(cY),cY>0&&aB>cY?m(0,cY,F,null,new ch(cX.toArray())):cZ.withMutations(function(c1){c1.setSize(cY),cX.forEach(function(c2,c3){return c1.set(c3,c2)})}))}function j(cX){return !(!cX||!cX[cT])}function ch(cY,cX){this.array=cY,this.ownerID=cX}function a8(c2,c3){function cZ(c6,c8,c7){return 0===c8?c4(c6,c7):c0(c6,c8,c7)}function c4(c6,c7){var da=c7===cX?c1&&c1.array:c6&&c6.array,c9=c7>cY?0:cY-c7,c8=c5-c7;return c8>aB&&(c8=aB),function(){if(c9===c8){return h}var db=c3?--c8:c9++;return da&&da[db]}}function c0(c7,dc,c8){var c6,db=c7&&c7.array,da=c8>cY?0:cY-c8>>dc,c9=(c5-c8>>dc)+1;return c9>aB&&(c9=aB),function(){for(;;){if(c6){var de=c6();if(de!==h){return de}c6=null}if(da===c9){return h}var dd=c3?--c9:da++;c6=cZ(db&&db[dd],dc-F,c8+(dd<<dc))}}}var cY=c2._origin,c5=c2._capacity,cX=J(c5),c1=c2._tail;return cZ(c2._root,c2._level,0)}function m(cZ,cY,c4,cX,c0,c3,c2){var c1=Object.create(cy);return c1.size=cY-cZ,c1._origin=cZ,c1._capacity=cY,c1._level=c4,c1._root=cX,c1._tail=c0,c1.__ownerID=c3,c1.__hash=c2,c1.__altered=!1,c1}function ap(){return bN||(bN=m(0,0,F))}function cr(c1,cZ,c0){if(cZ=bI(c1,cZ),cZ>=c1.size||0>cZ){return c1.withMutations(function(c3){0>cZ?aV(c3,cZ).set(0,c0):aV(c3,0,cZ+1).set(cZ,c0)})}cZ+=c1._origin;var cX=c1._tail,c2=c1._root,cY=ce(bK);return cZ>=J(c1._capacity)?cX=D(cX,c1.__ownerID,0,cZ,c0,cY):c2=D(c2,c1.__ownerID,c1._level,cZ,c0,cY),cY.value?c1.__ownerID?(c1._root=c2,c1._tail=cX,c1.__hash=void 0,c1.__altered=!0,c1):m(c1._origin,c1._capacity,c1._level,c2,cX):c1}function D(cZ,cY,cX,c1,c3,c5){var c4=c1>>>cX&bU,c0=cZ&&c4<cZ.array.length;if(!c0&&void 0===c3){return cZ}var c2;if(cX>0){var c7=cZ&&cZ.array[c4],c6=D(c7,cY,cX-F,c1,c3,c5);return c6===c7?cZ:(c2=bi(cZ,cY),c2.array[c4]=c6,c2)}return c0&&cZ.array[c4]===c3?cZ:(cp(c5),c2=bi(cZ,cY),void 0===c3&&c4===c2.array.length-1?c2.array.pop():c2.array[c4]=c3,c2)}function bi(cX,cY){return cY&&cX&&cY===cX.ownerID?cX:new ch(cX?cX.array.slice():[],cY)}function b6(cZ,cX){if(cX>=J(cZ._capacity)){return cZ._tail}if(cX<1<<cZ._level+F){for(var cY=cZ._root,c0=cZ._level;cY&&c0>0;){cY=cY.array[cX>>>c0&bU],c0-=F}return cY}}function aV(dc,df,c2){var cX=dc.__ownerID||new bD,c9=dc._origin,c0=dc._capacity,cZ=c9+df,c8=void 0===c2?c0:0>c2?c0+c2:c9+c2;if(cZ===c9&&c8===c0){return dc}if(cZ>=c8){return dc.clear()}for(var dd=dc._level,c1=dc._root,da=0;0>cZ+da;){c1=new ch(c1&&c1.array.length?[void 0,c1]:[],cX),dd+=F,da+=1<<dd}da&&(cZ+=da,c9+=da,c8+=da,c0+=da);for(var c7=J(c0),c3=J(c8);c3>=1<<dd+F;){c1=new ch(c1&&c1.array.length?[c1]:[],cX),dd+=F}var c4=dc._tail,db=c7>c3?b6(dc,c8-1):c3>c7?new ch([],cX):c4;if(c4&&c3>c7&&c0>cZ&&c4.array.length){c1=bi(c1,cX);for(var c6=c1,cY=dd;cY>F;cY-=F){var c5=c7>>>cY&bU;c6=c6.array[c5]=bi(c6.array[c5],cX)}c6.array[c7>>>F&bU]=c4}if(c0>c8&&(db=db&&db.removeAfter(cX,0,c8)),cZ>=c3){cZ-=c3,c8-=c3,dd=F,c1=null,db=db&&db.removeBefore(cX,0,cZ)}else{if(cZ>c9||c7>c3){for(da=0;c1;){var de=cZ>>>dd&bU;if(de!==c3>>>dd&bU){break}de&&(da+=(1<<dd)*de),dd-=F,c1=c1.array[de]}c1&&cZ>c9&&(c1=c1.removeBefore(cX,dd,cZ-da)),c1&&c7>c3&&(c1=c1.removeAfter(cX,dd,c3-da)),da&&(cZ-=da,c8-=da)}}return dc.__ownerID?(dc.size=c8-cZ,dc._origin=cZ,dc._capacity=c8,dc._level=dd,dc._root=c1,dc._tail=db,dc.__hash=void 0,dc.__altered=!0,dc):m(cZ,c8,dd,c1,db)}function aW(c2,c3,cZ){for(var cY=[],c4=0,c0=0;c0<cZ.length;c0++){var c1=cZ[c0],cX=bH(c1);cX.size>c4&&(c4=cX.size),R(c1)||(cX=cX.map(function(c5){return bb(c5)})),cY.push(cX)}return c4>c2.size&&(c2=c2.setSize(c4)),aM(c2,c3,cY)}function J(cX){return aB>cX?0:cX-1>>>F<<F}function cV(cX){return null===cX||void 0===cX?aJ():bp(cX)?cX:aJ().withMutations(function(cZ){var cY=S(cX);z(cY.size),cY.forEach(function(c1,c0){return cZ.set(c0,c1)})})}function bp(cX){return cS(cX)&&bv(cX)}function bO(c0,cY,c1,cZ){var cX=Object.create(cV.prototype);return cX.size=c0?c0.size:0,cX._map=c0,cX._list=cY,cX.__ownerID=c1,cX.__hash=cZ,cX}function aJ(){return bJ||(bJ=bO(cO(),ap()))}function B(cZ,c1,c5){var cX,c0,cY=cZ._map,c3=cZ._list,c2=cY.get(c1),c4=void 0!==c2;if(c5===aY){if(!c4){return cZ}c3.size>=aB&&c3.size>=2*cY.size?(c0=c3.filter(function(c7,c6){return void 0!==c7&&c2!==c6}),cX=c0.toKeyedSeq().map(function(c6){return c6[0]}).flip().toMap(),cZ.__ownerID&&(cX.__ownerID=c0.__ownerID=cZ.__ownerID)):(cX=cY.remove(c1),c0=c2===c3.size-1?c3.pop():c3.set(c2,void 0))}else{if(c4){if(c5===c3.get(c2)[1]){return cZ}cX=cY,c0=c3.set(c2,[c1,c5])}else{cX=cY.set(c1,c3.size),c0=c3.set(c3.size,[c1,c5])}}return cZ.__ownerID?(cZ.size=cX.size,cZ._map=cX,cZ._list=c0,cZ.__hash=void 0,cZ):bO(cX,c0)}function l(cX){return null===cX||void 0===cX?cu():aE(cX)?cX:cu().unshiftAll(cX)}function aE(cX){return !(!cX||!cX[aN])}function aH(cY,cX,c1,c0){var cZ=Object.create(aR);return cZ.size=cY,cZ._head=cX,cZ.__ownerID=c1,cZ.__hash=c0,cZ.__altered=!1,cZ}function cu(){return ct||(ct=aH(0))}function cv(cX){return null===cX||void 0===cX?br():bu(cX)?cX:br().withMutations(function(cZ){var cY=bq(cX);z(cY.size),cY.forEach(function(c0){return cZ.add(c0)})})}function bu(cX){return !(!cX||!cX[cz])}function cQ(cY,cX){return cY.__ownerID?(cY.size=cX.size,cY._map=cX,cY):cX===cY._map?cY:0===cX.size?cY.__empty():cY.__make(cX)}function bf(cX,cZ){var cY=Object.create(cE);return cY.size=cX?cX.size:0,cY._map=cX,cY.__ownerID=cZ,cY}function br(){return cI||(cI=bf(cO()))}function bA(cX){return null===cX||void 0===cX?cW():K(cX)?cX:cW().withMutations(function(cZ){var cY=bq(cX);z(cY.size),cY.forEach(function(c0){return cZ.add(c0)})})}function K(cX){return bu(cX)&&bv(cX)}function ab(cX,cZ){var cY=Object.create(bW);return cY.size=cX?cX.size:0,cY._map=cX,cY.__ownerID=cZ,cY}function cW(){return U||(U=ab(aJ()))}function p(c2,cY){var c0=function(c3){return this instanceof c0?void (this._map=bj(c3)):new c0(c3)},cZ=Object.keys(c2),c1=c0.prototype=Object.create(bo);c1.constructor=c0,cY&&(c1._name=cY),c1._defaultValues=c2,c1._keys=cZ,c1.size=cZ.length;try{cZ.forEach(function(c3){Object.defineProperty(c0.prototype,c3,{get:function(){return this.get(c3)},set:function(c4){bF(this.__ownerID,"Cannot set on an immutable record."),this.set(c3,c4)}})})}catch(cX){}return c0}function aQ(cZ,cY,c0){var cX=Object.create(Object.getPrototypeOf(cZ));return cX._map=cY,cX.__ownerID=c0,cX}function r(cX){return cX._name||cX.constructor.name}function cq(cZ,cY){if(cZ===cY){return !0}if(!R(cY)||void 0!==cZ.size&&void 0!==cY.size&&cZ.size!==cY.size||void 0!==cZ.__hash&&void 0!==cY.__hash&&cZ.__hash!==cY.__hash||e(cZ)!==e(cY)||bR(cZ)!==bR(cY)||bv(cZ)!==bv(cY)){return !1}if(0===cZ.size&&0===cY.size){return !0}var c0=!Q(cZ);if(bv(cZ)){var cX=cZ.entries();return cY.every(function(c6,c5){var c7=cX.next().value;return c7&&N(c7[1],c6)&&(c0||N(c7[0],c5))})&&cX.next().done}var c4=!1;if(void 0===cZ.size){if(void 0===cY.size){cZ.cacheResult()}else{c4=!0;var c1=cZ;cZ=cY,cY=c1}}var c3=!0,c2=cY.__iterate(function(c6,c5){return(c0?cZ.has(c6):c4?N(c6,cZ.get(c5,aY)):N(cZ.get(c5,aY),c6))?void 0:(c3=!1,!1)});return c3&&cZ.size===c2}function ac(cZ,cX,cY){if(!(this instanceof ac)){return new ac(cZ,cX,cY)}if(bF(0!==cY,"Cannot step a Range by 0"),cZ=cZ||0,void 0===cX&&(cX=1/0),cY=void 0===cY?1:Math.abs(cY),cZ>cX&&(cY=-cY),this._start=cZ,this._end=cX,this._step=cY,this.size=Math.max(0,Math.ceil((cX-cZ)/cY-1)+1),0===this.size){if(q){return q}q=this}}function ao(cX,cY){if(!(this instanceof ao)){return new ao(cX,cY)}if(this._value=cX,this.size=void 0===cY?1/0:Math.max(0,cY),0===this.size){if(bS){return bS}bS=this}}function C(cY,cX){var cZ=function(c0){cY.prototype[c0]=cX[c0]};return Object.keys(cX).forEach(cZ),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(cX).forEach(cZ),cY}function co(cY,cX){return cX}function ay(cY,cX){return[cX,cY]}function b2(cX){return function(){return !cX.apply(this,arguments)}}function bm(cX){return function(){return -cX.apply(this,arguments)}}function cA(cX){return"string"==typeof cX?JSON.stringify(cX):cX}function aL(){return bV(arguments)}function a0(cY,cX){return cX>cY?1:cY>cX?-1:0}function aZ(c1){if(c1.size===1/0){return 0}var cY=bv(c1),cX=e(c1),c0=cY?1:0,cZ=c1.__iterate(cX?cY?function(c3,c2){c0=31*c0+cg(bt(c3),bt(c2))|0}:function(c3,c2){c0=c0+cg(bt(c3),bt(c2))|0}:cY?function(c2){c0=31*c0+bt(c2)|0}:function(c2){c0=c0+bt(c2)|0});return aT(cZ,c0)}function aT(cX,cY){return cY=ck(cY,3432918353),cY=ck(cY<<15|cY>>>-15,461845907),cY=ck(cY<<13|cY>>>-13,5),cY=(cY+3864292196|0)^cX,cY=ck(cY^cY>>>16,2246822507),cY=ck(cY^cY>>>13,3266489909),cY=az(cY^cY>>>16)}function cg(cY,cX){return cY^cX+2654435769+(cY<<6)+(cY>>2)|0}var a9=Array.prototype.slice,ba="delete",F=5,aB=1<<F,bU=aB-1,aY={},aA={value:!1},bK={value:!1};g(S,aD),g(bH,aD),g(bq,aD),aD.isIterable=R,aD.isKeyed=e,aD.isIndexed=bR,aD.isAssociative=Q,aD.isOrdered=bv,aD.Keyed=S,aD.Indexed=bH,aD.Set=bq;var y="@@__IMMUTABLE_ITERABLE__@@",aj="@@__IMMUTABLE_KEYED__@@",cP="@@__IMMUTABLE_INDEXED__@@",bc="@@__IMMUTABLE_ORDERED__@@",aI=0,aF=1,an=2,aX="function"==typeof Symbol&&Symbol.iterator,cj="@@iterator",bL=aX||cj;aO.prototype.toString=function(){return"[Iterator]"},aO.KEYS=aI,aO.VALUES=aF,aO.ENTRIES=an,aO.prototype.inspect=aO.prototype.toSource=function(){return this.toString()},aO.prototype[bL]=function(){return this},g(Z,aD),Z.of=function(){return Z(arguments)},Z.prototype.toSeq=function(){return this},Z.prototype.toString=function(){return this.__toString("Seq {","}")},Z.prototype.cacheResult=function(){return !this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Z.prototype.__iterate=function(cY,cX){return ci(this,cY,cX,!0)},Z.prototype.__iterator=function(cY,cX){return by(this,cY,cX,!0)},g(cC,Z),cC.prototype.toKeyedSeq=function(){return this},g(V,Z),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(cY,cX){return ci(this,cY,cX,!1)},V.prototype.__iterator=function(cY,cX){return by(this,cY,cX,!1)},g(ad,Z),ad.of=function(){return ad(arguments)},ad.prototype.toSetSeq=function(){return this},Z.isSeq=bx,Z.Keyed=cC,Z.Set=ad,Z.Indexed=V;var bz="@@__IMMUTABLE_SEQ__@@";Z.prototype[bz]=!0,g(bd,V),bd.prototype.get=function(cY,cX){return this.has(cY)?this._array[bI(this,cY)]:cX},bd.prototype.__iterate=function(c0,cX){for(var c1=this._array,cY=c1.length-1,cZ=0;cY>=cZ;cZ++){if(c0(c1[cX?cY-cZ:cZ],cZ,this)===!1){return cZ+1}}return cZ},bd.prototype.__iterator=function(c0,cX){var c1=this._array,cY=c1.length-1,cZ=0;return new aO(function(){return cZ>cY?cx():bk(c0,cZ,c1[cX?cY-cZ++:cZ++])})},g(ar,cC),ar.prototype.get=function(cY,cX){return void 0===cX||this.has(cY)?this._object[cY]:cX},ar.prototype.has=function(cX){return this._object.hasOwnProperty(cX)},ar.prototype.__iterate=function(c2,cY){for(var cX=this._object,c3=this._keys,c0=c3.length-1,c1=0;c0>=c1;c1++){var cZ=c3[cY?c0-c1:c1];if(c2(cX[cZ],cZ,this)===!1){return c1+1}}return c1},ar.prototype.__iterator=function(c1,cY){var cX=this._object,c2=this._keys,cZ=c2.length-1,c0=0;return new aO(function(){var c3=c2[cY?cZ-c0:c0];return c0++>cZ?cx():bk(c1,c3,cX[c3])})},ar.prototype[bc]=!0,g(w,V),w.prototype.__iterateUncached=function(cZ,cX){if(cX){return this.cacheResult().__iterate(cZ,cX)}var c2=this._iterable,cY=bY(c2),c1=0;if(cf(cY)){for(var c0;!(c0=cY.next()).done&&cZ(c0.value,c1++,this)!==!1;){}}return c1},w.prototype.__iteratorUncached=function(cZ,cX){if(cX){return this.cacheResult().__iterator(cZ,cX)}var c1=this._iterable,cY=bY(c1);if(!cf(cY)){return new aO(cx)}var c0=0;return new aO(function(){var c2=cY.next();return c2.done?c2:bk(cZ,c0++,c2.value)})},g(cc,V),cc.prototype.__iterateUncached=function(c0,cY){if(cY){return this.cacheResult().__iterate(c0,cY)}for(var cZ=this._iterator,cX=this._iteratorCache,c2=0;c2<cX.length;){if(c0(cX[c2],c2++,this)===!1){return c2}}for(var c1;!(c1=cZ.next()).done;){var c3=c1.value;if(cX[c2]=c3,c0(c3,c2++,this)===!1){break}}return c2},cc.prototype.__iteratorUncached=function(c0,cY){if(cY){return this.cacheResult().__iterator(c0,cY)}var cZ=this._iterator,cX=this._iteratorCache,c1=0;return new aO(function(){if(c1>=cX.length){var c2=cZ.next();if(c2.done){return c2}cX[c1]=c2.value}return bk(c0,c1,cX[c1++])})};var cL;g(aC,aD),g(b8,aC),g(cM,aC),g(b7,aC),aC.Keyed=b8,aC.Indexed=cM,aC.Set=b7;var ck="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(cY,cX){cY=0|cY,cX=0|cX;var c0=65535&cY,cZ=65535&cX;return c0*cZ+((cY>>>16)*cZ+c0*(cX>>>16)<<16>>>0)|0},a4=function(){try{return Object.defineProperty({},"@",{}),!0}catch(cX){return !1}}(),cs="function"==typeof WeakMap&&new WeakMap,cN=0,cK="__immutablehash__";"function"==typeof Symbol&&(cK=Symbol(cK));var bC=16,bh=255,bl=0,bw={};g(af,cC),af.prototype.get=function(cY,cX){return this._iter.get(cY,cX)},af.prototype.has=function(cX){return this._iter.has(cX)},af.prototype.valueSeq=function(){return this._iter.valueSeq()},af.prototype.reverse=function(){var cX=this,cY=P(this,!0);return this._useKeys||(cY.valueSeq=function(){return cX._iter.toSeq().reverse()}),cY},af.prototype.map=function(c0,cY){var cX=this,cZ=b1(this,c0,cY);return this._useKeys||(cZ.valueSeq=function(){return cX._iter.toSeq().map(c0,cY)}),cZ},af.prototype.__iterate=function(c0,cY){var cZ,cX=this;return this._iter.__iterate(this._useKeys?function(c2,c1){return c0(c2,c1,cX)}:(cZ=cY?bE(this):0,function(c1){return c0(c1,cY?--cZ:cZ++,cX)}),cY)},af.prototype.__iterator=function(c0,cX){if(this._useKeys){return this._iter.__iterator(c0,cX)}var cZ=this._iter.__iterator(aF,cX),cY=cX?bE(this):0;return new aO(function(){var c1=cZ.next();return c1.done?c1:bk(c0,cX?--cY:cY++,c1.value,c1)})},af.prototype[bc]=!0,g(x,V),x.prototype.contains=function(cX){return this._iter.contains(cX)},x.prototype.__iterate=function(cZ,cY){var cX=this,c0=0;return this._iter.__iterate(function(c1){return cZ(c1,c0++,cX)},cY)},x.prototype.__iterator=function(cZ,cX){var cY=this._iter.__iterator(aF,cX),c0=0;return new aO(function(){var c1=cY.next();return c1.done?c1:bk(cZ,c0++,c1.value,c1)})},g(Y,ad),Y.prototype.has=function(cX){return this._iter.contains(cX)},Y.prototype.__iterate=function(cZ,cY){var cX=this;return this._iter.__iterate(function(c0){return cZ(c0,c0,cX)},cY)},Y.prototype.__iterator=function(cZ,cX){var cY=this._iter.__iterator(aF,cX);return new aO(function(){var c0=cY.next();return c0.done?c0:bk(cZ,c0.value,c0.value,c0)})},g(M,cC),M.prototype.entrySeq=function(){return this._iter.toSeq()},M.prototype.__iterate=function(cZ,cY){var cX=this;return this._iter.__iterate(function(c0){return c0?(A(c0),cZ(c0[1],c0[0],cX)):void 0},cY)},M.prototype.__iterator=function(cZ,cX){var cY=this._iter.__iterator(aF,cX);return new aO(function(){for(;;){var c1=cY.next();if(c1.done){return c1}var c0=c1.value;if(c0){return A(c0),cZ===an?c1:bk(cZ,c0[0],c0[1],c1)}}})},x.prototype.cacheResult=af.prototype.cacheResult=Y.prototype.cacheResult=M.prototype.cacheResult=au,g(bj,b8),bj.prototype.toString=function(){return this.__toString("Map {","}")},bj.prototype.get=function(cY,cX){return this._root?this._root.get(0,void 0,cY,cX):cX},bj.prototype.set=function(cY,cX){return ax(this,cY,cX)},bj.prototype.setIn=function(cY,cX){return this.updateIn(cY,aY,function(){return cX})},bj.prototype.remove=function(cX){return ax(this,cX,aY)},bj.prototype.deleteIn=function(cX){return this.updateIn(cX,function(){return aY})},bj.prototype.update=function(cY,cX,cZ){return 1===arguments.length?cY(this):this.updateIn([cY],cX,cZ)},bj.prototype.updateIn=function(c0,cX,cZ){cZ||(cZ=cX,cX=void 0);var cY=ag(this,bs(c0),cX,cZ);return cY===aY?void 0:cY},bj.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):cO()},bj.prototype.merge=function(){return T(this,void 0,arguments)},bj.prototype.mergeWith=function(cY){var cX=a9.call(arguments,1);return T(this,cY,cX)},bj.prototype.mergeIn=function(cY){var cX=a9.call(arguments,1);return this.updateIn(cY,cO(),function(cZ){return cZ.merge.apply(cZ,cX)})},bj.prototype.mergeDeep=function(){return T(this,cn(void 0),arguments)},bj.prototype.mergeDeepWith=function(cY){var cX=a9.call(arguments,1);return T(this,cn(cY),cX)},bj.prototype.mergeDeepIn=function(cY){var cX=a9.call(arguments,1);return this.updateIn(cY,cO(),function(cZ){return cZ.mergeDeep.apply(cZ,cX)})},bj.prototype.sort=function(cX){return cV(be(this,cX))},bj.prototype.sortBy=function(cY,cX){return cV(be(this,cX,cY))},bj.prototype.withMutations=function(cY){var cX=this.asMutable();return cY(cX),cX.wasAltered()?cX.__ensureOwner(this.__ownerID):this},bj.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new bD)},bj.prototype.asImmutable=function(){return this.__ensureOwner()},bj.prototype.wasAltered=function(){return this.__altered},bj.prototype.__iterator=function(cY,cX){return new cJ(this,cY,cX)},bj.prototype.__iterate=function(cZ,cY){var cX=this,c0=0;return this._root&&this._root.iterate(function(c1){return c0++,cZ(c1[1],c1[0],cX)},cY),c0},bj.prototype.__ensureOwner=function(cX){return cX===this.__ownerID?this:cX?cB(this.size,this._root,cX,this.__hash):(this.__ownerID=cX,this.__altered=!1,this)},bj.isMap=cS;var cm="@@__IMMUTABLE_MAP__@@",cw=bj.prototype;cw[cm]=!0,cw[ba]=cw.remove,cw.removeIn=cw.deleteIn,bP.prototype.get=function(cZ,c3,c1,c0){for(var cY=this.entries,c2=0,cX=cY.length;cX>c2;c2++){if(N(c1,cY[c2][0])){return cY[c2][1]}}return c0},bP.prototype.update=function(cY,cX,cZ,c7,c6,c9,c8){for(var c3=c6===aY,c0=this.entries,c5=0,c2=c0.length;c2>c5&&!N(c7,c0[c5][0]);c5++){}var c4=c2>c5;if(c4?c0[c5][1]===c6:c3){return this}if(cp(c8),(c3||!c4)&&cp(c9),!c3||1!==c0.length){if(!c4&&!c3&&c0.length>=W){return I(cY,c0,c7,c6)}var da=cY&&cY===this.ownerID,c1=da?c0:bV(c0);return c4?c3?c5===c2-1?c1.pop():c1[c5]=c1.pop():c1[c5]=[c7,c6]:c1.push([c7,c6]),da?(this.entries=c1,this):new bP(cY,c1)}},cd.prototype.get=function(cX,c2,cZ,cY){void 0===c2&&(c2=bt(cZ));var c1=1<<((0===cX?c2:c2>>>cX)&bU),c0=this.bitmap;return 0===(c0&c1)?cY:this.nodes[aU(c0&c1-1)].get(cX+F,c2,cZ,cY)},cd.prototype.update=function(dc,db,c1,de,c7,cY,da){void 0===c1&&(c1=bt(de));var c0=(0===db?c1:c1>>>db)&bU,c4=1<<c0,dd=this.bitmap,c8=0!==(dd&c4);if(!c8&&c7===aY){return this}var c5=aU(dd&c4-1),c6=this.nodes,c9=c8?c6[c5]:void 0,cZ=a7(c9,dc,db+F,c1,de,c7,cY,da);if(cZ===c9){return this}if(!c8&&cZ&&c6.length>=aS){return aK(dc,c6,dd,c0,cZ)}if(c8&&!cZ&&2===c6.length&&ca(c6[1^c5])){return c6[1^c5]}if(c8&&cZ&&1===c6.length&&ca(cZ)){return cZ}var c3=dc&&dc===this.ownerID,cX=c8?cZ?dd:dd^c4:dd|c4,c2=c8?cZ?O(c6,c5,cZ,c3):cb(c6,c5,c3):s(c6,c5,cZ,c3);return c3?(this.bitmap=cX,this.nodes=c2,this):new cd(dc,cX,c2)},L.prototype.get=function(cY,c2,c0,cZ){void 0===c2&&(c2=bt(c0));var cX=(0===cY?c2:c2>>>cY)&bU,c1=this.nodes[cX];return c1?c1.get(cY+F,c2,c0,cZ):cZ},L.prototype.update=function(c0,cY,c1,c8,c5,da,c9){void 0===c1&&(c1=bt(c8));var c6=(0===cY?c1:c1>>>cY)&bU,c3=c5===aY,cX=this.nodes,cZ=cX[c6];if(c3&&!cZ){return this}var c4=a7(cZ,c0,cY+F,c1,c8,c5,da,c9);if(c4===cZ){return this}var c7=this.count;if(cZ){if(!c4&&(c7--,k>c7)){return b3(c0,cX,c7,c6)}}else{c7++}var db=c0&&c0===this.ownerID,c2=O(cX,c6,c4,db);return db?(this.count=c7,this.nodes=c2,this):new L(c0,c7,c2)},av.prototype.get=function(cZ,c3,c1,c0){for(var cY=this.entries,c2=0,cX=cY.length;cX>c2;c2++){if(N(c1,cY[c2][0])){return cY[c2][1]}}return c0},av.prototype.update=function(cY,cX,cZ,c7,c6,c9,c8){void 0===cZ&&(cZ=bt(c7));var c3=c6===aY;if(cZ!==this.keyHash){return c3?this:(cp(c8),cp(c9),ae(this,cY,cX,cZ,[c7,c6]))}for(var c0=this.entries,c5=0,c2=c0.length;c2>c5&&!N(c7,c0[c5][0]);c5++){}var c4=c2>c5;if(c4?c0[c5][1]===c6:c3){return this}if(cp(c8),(c3||!c4)&&cp(c9),c3&&2===c2){return new a5(cY,this.keyHash,c0[1^c5])}var da=cY&&cY===this.ownerID,c1=da?c0:bV(c0);return c4?c3?c5===c2-1?c1.pop():c1[c5]=c1.pop():c1[c5]=[c7,c6]:c1.push([c7,c6]),da?(this.entries=c1,this):new av(cY,this.keyHash,c1)},a5.prototype.get=function(cX,c0,cZ,cY){return N(cZ,this.entry[0])?this.entry[1]:cY},a5.prototype.update=function(cZ,cY,c0,c3,c2,c5,c4){var c1=c2===aY,cX=N(c3,this.entry[0]);return(cX?c2===this.entry[1]:c1)?this:(cp(c4),c1?void cp(c5):cX?cZ&&cZ===this.ownerID?(this.entry[1]=c2,this):new a5(cZ,this.keyHash,[c3,c2]):(cp(c5),ae(this,cZ,cY,bt(c3),[c3,c2])))},bP.prototype.iterate=av.prototype.iterate=function(c1,cY){for(var cX=this.entries,c0=0,cZ=cX.length-1;cZ>=c0;c0++){if(c1(cX[cY?cZ-c0:c0])===!1){return !1}}},cd.prototype.iterate=L.prototype.iterate=function(c1,cY){for(var cX=this.nodes,c0=0,cZ=cX.length-1;cZ>=c0;c0++){var c2=cX[cY?cZ-c0:c0];if(c2&&c2.iterate(c1,cY)===!1){return !1}}},a5.prototype.iterate=function(cY,cX){return cY(this.entry)},g(cJ,aO),cJ.prototype.next=function(){for(var c0=this._type,cX=this._stack;cX;){var cZ,c1=cX.node,cY=cX.index++;if(c1.entry){if(0===cY){return X(c0,c1.entry)}}else{if(c1.entries){if(cZ=c1.entries.length-1,cZ>=cY){return X(c0,c1.entries[this._reverse?cZ-cY:cY])}}else{if(cZ=c1.nodes.length-1,cZ>=cY){var c2=c1.nodes[this._reverse?cZ-cY:cY];if(c2){if(c2.entry){return X(c0,c2.entry)}cX=this._stack=b0(c2,cX)}continue}}}cX=this._stack=this._stack.__prev}return cx()};var am,W=aB/4,aS=aB/2,k=aB/4;g(aP,cM),aP.of=function(){return this(arguments)},aP.prototype.toString=function(){return this.__toString("List [","]")},aP.prototype.get=function(cY,cX){if(cY=bI(this,cY),0>cY||cY>=this.size){return cX}cY+=this._origin;var cZ=b6(this,cY);return cZ&&cZ.array[cY&bU]},aP.prototype.set=function(cX,cY){return cr(this,cX,cY)},aP.prototype.remove=function(cX){return this.has(cX)?0===cX?this.shift():cX===this.size-1?this.pop():this.splice(cX,1):this},aP.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=F,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ap()},aP.prototype.push=function(){var cX=arguments,cY=this.size;return this.withMutations(function(c0){aV(c0,0,cY+cX.length);for(var cZ=0;cZ<cX.length;cZ++){c0.set(cY+cZ,cX[cZ])}})},aP.prototype.pop=function(){return aV(this,0,-1)},aP.prototype.unshift=function(){var cX=arguments;return this.withMutations(function(cZ){aV(cZ,-cX.length);for(var cY=0;cY<cX.length;cY++){cZ.set(cY,cX[cY])}})},aP.prototype.shift=function(){return aV(this,1)},aP.prototype.merge=function(){return aW(this,void 0,arguments)},aP.prototype.mergeWith=function(cY){var cX=a9.call(arguments,1);return aW(this,cY,cX)},aP.prototype.mergeDeep=function(){return aW(this,cn(void 0),arguments)},aP.prototype.mergeDeepWith=function(cY){var cX=a9.call(arguments,1);return aW(this,cn(cY),cX)},aP.prototype.setSize=function(cX){return aV(this,0,cX)},aP.prototype.slice=function(cZ,cX){var cY=this.size;return cR(cZ,cX,cY)?this:aV(this,bg(cZ,cY),a3(cX,cY))},aP.prototype.__iterator=function(c0,cZ){var cY=0,cX=a8(this,cZ);return new aO(function(){var c1=cX();return c1===h?cx():bk(c0,cY++,c1)})},aP.prototype.__iterate=function(c0,cZ){for(var c1,cY=0,cX=a8(this,cZ);(c1=cX())!==h&&c0(c1,cY++,this)!==!1;){}return cY},aP.prototype.__ensureOwner=function(cX){return cX===this.__ownerID?this:cX?m(this._origin,this._capacity,this._level,this._root,this._tail,cX,this.__hash):(this.__ownerID=cX,this)},aP.isList=j;var cT="@@__IMMUTABLE_LIST__@@",cy=aP.prototype;cy[cT]=!0,cy[ba]=cy.remove,cy.setIn=cw.setIn,cy.deleteIn=cy.removeIn=cw.removeIn,cy.update=cw.update,cy.updateIn=cw.updateIn,cy.mergeIn=cw.mergeIn,cy.mergeDeepIn=cw.mergeDeepIn,cy.withMutations=cw.withMutations,cy.asMutable=cw.asMutable,cy.asImmutable=cw.asImmutable,cy.wasAltered=cw.wasAltered,ch.prototype.removeBefore=function(cZ,cX,c2){if(c2===cX?1<<cX:0||0===this.array.length){return this}var c4=c2>>>cX&bU;if(c4>=this.array.length){return new ch([],cZ)}var c1,c3=0===c4;if(cX>0){var c0=this.array[c4];if(c1=c0&&c0.removeBefore(cZ,cX-F,c2),c1===c0&&c3){return this}}if(c3&&!c1){return this}var cY=bi(this,cZ);if(!c3){for(var c5=0;c4>c5;c5++){cY.array[c5]=void 0}}return c1&&(cY.array[c4]=c1),cY},ch.prototype.removeAfter=function(c4,c3,cZ){if(cZ===c3?1<<c3:0||0===this.array.length){return this}var c1=cZ-1>>>c3&bU;if(c1>=this.array.length){return this}var cY,cX=c1===this.array.length-1;if(c3>0){var c2=this.array[c1];if(cY=c2&&c2.removeAfter(c4,c3-F,cZ),cY===c2&&cX){return this}}if(cX&&!cY){return this}var c0=bi(this,c4);return cX||c0.array.pop(),cY&&(c0.array[c1]=cY),c0};var bN,h={};g(cV,bj),cV.of=function(){return this(arguments)},cV.prototype.toString=function(){return this.__toString("OrderedMap {","}")},cV.prototype.get=function(cY,cX){var cZ=this._map.get(cY);return void 0!==cZ?this._list.get(cZ)[1]:cX},cV.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):aJ()},cV.prototype.set=function(cY,cX){return B(this,cY,cX)},cV.prototype.remove=function(cX){return B(this,cX,aY)},cV.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},cV.prototype.__iterate=function(cZ,cY){var cX=this;return this._list.__iterate(function(c0){return c0&&cZ(c0[1],c0[0],cX)},cY)},cV.prototype.__iterator=function(cY,cX){return this._list.fromEntrySeq().__iterator(cY,cX)},cV.prototype.__ensureOwner=function(cZ){if(cZ===this.__ownerID){return this}var cX=this._map.__ensureOwner(cZ),cY=this._list.__ensureOwner(cZ);return cZ?bO(cX,cY,cZ,this.__hash):(this.__ownerID=cZ,this._map=cX,this._list=cY,this)},cV.isOrderedMap=bp,cV.prototype[bc]=!0,cV.prototype[ba]=cV.prototype.remove;var bJ;g(l,cM),l.of=function(){return this(arguments)},l.prototype.toString=function(){return this.__toString("Stack [","]")},l.prototype.get=function(cY,cX){var cZ=this._head;for(cY=bI(this,cY);cZ&&cY--;){cZ=cZ.next}return cZ?cZ.value:cX},l.prototype.peek=function(){return this._head&&this._head.value},l.prototype.push=function(){if(0===arguments.length){return this}for(var cX=this.size+arguments.length,cY=this._head,cZ=arguments.length-1;cZ>=0;cZ--){cY={value:arguments[cZ],next:cY}}return this.__ownerID?(this.size=cX,this._head=cY,this.__hash=void 0,this.__altered=!0,this):aH(cX,cY)},l.prototype.pushAll=function(cX){if(cX=bH(cX),0===cX.size){return this}z(cX.size);var cY=this.size,cZ=this._head;return cX.reverse().forEach(function(c0){cY++,cZ={value:c0,next:cZ}}),this.__ownerID?(this.size=cY,this._head=cZ,this.__hash=void 0,this.__altered=!0,this):aH(cY,cZ)},l.prototype.pop=function(){return this.slice(1)},l.prototype.unshift=function(){return this.push.apply(this,arguments)},l.prototype.unshiftAll=function(cX){return this.pushAll(cX)},l.prototype.shift=function(){return this.pop.apply(this,arguments)},l.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):cu()},l.prototype.slice=function(c0,cX){if(cR(c0,cX,this.size)){return this}var c2=bg(c0,this.size),c1=a3(cX,this.size);if(c1!==this.size){return cM.prototype.slice.call(this,c0,cX)}for(var cY=this.size-c2,cZ=this._head;c2--;){cZ=cZ.next}return this.__ownerID?(this.size=cY,this._head=cZ,this.__hash=void 0,this.__altered=!0,this):aH(cY,cZ)},l.prototype.__ensureOwner=function(cX){return cX===this.__ownerID?this:cX?aH(this.size,this._head,cX,this.__hash):(this.__ownerID=cX,this.__altered=!1,this)},l.prototype.__iterate=function(cY,cX){if(cX){return this.reverse().__iterate(cY)}for(var c0=0,cZ=this._head;cZ&&cY(cZ.value,c0++,this)!==!1;){cZ=cZ.next}return c0},l.prototype.__iterator=function(cY,cX){if(cX){return this.reverse().__iterator(cY)}var c0=0,cZ=this._head;return new aO(function(){if(cZ){var c1=cZ.value;return cZ=cZ.next,bk(cY,c0++,c1)}return cx()})},l.isStack=aE;var aN="@@__IMMUTABLE_STACK__@@",aR=l.prototype;aR[aN]=!0,aR.withMutations=cw.withMutations,aR.asMutable=cw.asMutable,aR.asImmutable=cw.asImmutable,aR.wasAltered=cw.wasAltered;var ct;g(cv,b7),cv.of=function(){return this(arguments)},cv.fromKeys=function(cX){return this(S(cX).keySeq())},cv.prototype.toString=function(){return this.__toString("Set {","}")},cv.prototype.has=function(cX){return this._map.has(cX)},cv.prototype.add=function(cX){return cQ(this,this._map.set(cX,!0))},cv.prototype.remove=function(cX){return cQ(this,this._map.remove(cX))},cv.prototype.clear=function(){return cQ(this,this._map.clear())},cv.prototype.union=function(){var cX=a9.call(arguments,0);return cX=cX.filter(function(cY){return 0!==cY.size}),0===cX.length?this:0===this.size&&1===cX.length?this.constructor(cX[0]):this.withMutations(function(cZ){for(var cY=0;cY<cX.length;cY++){bq(cX[cY]).forEach(function(c0){return cZ.add(c0)})}})},cv.prototype.intersect=function(){var cY=a9.call(arguments,0);if(0===cY.length){return this}cY=cY.map(function(cZ){return bq(cZ)});var cX=this;return this.withMutations(function(cZ){cX.forEach(function(c0){cY.every(function(c1){return c1.contains(c0)})||cZ.remove(c0)})})},cv.prototype.subtract=function(){var cY=a9.call(arguments,0);if(0===cY.length){return this}cY=cY.map(function(cZ){return bq(cZ)});var cX=this;return this.withMutations(function(cZ){cX.forEach(function(c0){cY.some(function(c1){return c1.contains(c0)})&&cZ.remove(c0)})})},cv.prototype.merge=function(){return this.union.apply(this,arguments)},cv.prototype.mergeWith=function(cY){var cX=a9.call(arguments,1);return this.union.apply(this,cX)},cv.prototype.sort=function(cX){return bA(be(this,cX))},cv.prototype.sortBy=function(cY,cX){return bA(be(this,cX,cY))},cv.prototype.wasAltered=function(){return this._map.wasAltered()},cv.prototype.__iterate=function(cZ,cY){var cX=this;return this._map.__iterate(function(c1,c0){return cZ(c0,c0,cX)},cY)},cv.prototype.__iterator=function(cY,cX){return this._map.map(function(c0,cZ){return cZ}).__iterator(cY,cX)},cv.prototype.__ensureOwner=function(cY){if(cY===this.__ownerID){return this}var cX=this._map.__ensureOwner(cY);return cY?this.__make(cX,cY):(this.__ownerID=cY,this._map=cX,this)},cv.isSet=bu;var cz="@@__IMMUTABLE_SET__@@",cE=cv.prototype;cE[cz]=!0,cE[ba]=cE.remove,cE.mergeDeep=cE.merge,cE.mergeDeepWith=cE.mergeWith,cE.withMutations=cw.withMutations,cE.asMutable=cw.asMutable,cE.asImmutable=cw.asImmutable,cE.__empty=br,cE.__make=bf;var cI;g(bA,cv),bA.of=function(){return this(arguments)},bA.fromKeys=function(cX){return this(S(cX).keySeq())},bA.prototype.toString=function(){return this.__toString("OrderedSet {","}")},bA.isOrderedSet=K;var bW=bA.prototype;bW[bc]=!0,bW.__empty=cW,bW.__make=ab;var U;g(p,b8),p.prototype.toString=function(){return this.__toString(r(this)+" {","}")},p.prototype.has=function(cX){return this._defaultValues.hasOwnProperty(cX)},p.prototype.get=function(cY,cX){if(!this.has(cY)){return cX}var cZ=this._defaultValues[cY];return this._map?this._map.get(cY,cZ):cZ},p.prototype.clear=function(){if(this.__ownerID){return this._map&&this._map.clear(),this}var cX=Object.getPrototypeOf(this).constructor;return cX._empty||(cX._empty=aQ(this,cO()))},p.prototype.set=function(cZ,cY){if(!this.has(cZ)){throw new Error('Cannot set unknown key "'+cZ+'" on '+r(this))}var cX=this._map&&this._map.set(cZ,cY);return this.__ownerID||cX===this._map?this:aQ(this,cX)},p.prototype.remove=function(cY){if(!this.has(cY)){return this}var cX=this._map&&this._map.remove(cY);return this.__ownerID||cX===this._map?this:aQ(this,cX)},p.prototype.wasAltered=function(){return this._map.wasAltered()},p.prototype.__iterator=function(cZ,cY){var cX=this;return S(this._defaultValues).map(function(c1,c0){return cX.get(c0)}).__iterator(cZ,cY)},p.prototype.__iterate=function(cZ,cY){var cX=this;return S(this._defaultValues).map(function(c1,c0){return cX.get(c0)}).__iterate(cZ,cY)},p.prototype.__ensureOwner=function(cY){if(cY===this.__ownerID){return this}var cX=this._map&&this._map.__ensureOwner(cY);return cY?aQ(this,cX,cY):(this.__ownerID=cY,this._map=cX,this)};var bo=p.prototype;bo[ba]=bo.remove,bo.deleteIn=bo.removeIn=cw.removeIn,bo.merge=cw.merge,bo.mergeWith=cw.mergeWith,bo.mergeIn=cw.mergeIn,bo.mergeDeep=cw.mergeDeep,bo.mergeDeepWith=cw.mergeDeepWith,bo.mergeDeepIn=cw.mergeDeepIn,bo.setIn=cw.setIn,bo.update=cw.update,bo.updateIn=cw.updateIn,bo.withMutations=cw.withMutations,bo.asMutable=cw.asMutable,bo.asImmutable=cw.asImmutable,g(ac,V),ac.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ac.prototype.get=function(cY,cX){return this.has(cY)?this._start+bI(this,cY)*this._step:cX},ac.prototype.contains=function(cY){var cX=(cY-this._start)/this._step;return cX>=0&&cX<this.size&&cX===Math.floor(cX)},ac.prototype.slice=function(cY,cX){return cR(cY,cX,this.size)?this:(cY=bg(cY,this.size),cX=a3(cX,this.size),cY>=cX?new ac(0,0):new ac(this.get(cY,this._end),this.get(cX,this._end),this._step))},ac.prototype.indexOf=function(cZ){var cY=cZ-this._start;if(cY%this._step===0){var cX=cY/this._step;if(cX>=0&&cX<this.size){return cX}}return -1},ac.prototype.lastIndexOf=function(cX){return this.indexOf(cX)},ac.prototype.__iterate=function(c0,cX){for(var cY=this.size-1,c1=this._step,c2=cX?this._start+cY*c1:this._start,cZ=0;cY>=cZ;cZ++){if(c0(c2,cZ,this)===!1){return cZ+1}c2+=cX?-c1:c1}return cZ},ac.prototype.__iterator=function(c0,cX){var cY=this.size-1,c1=this._step,c2=cX?this._start+cY*c1:this._start,cZ=0;return new aO(function(){var c3=c2;return c2+=cX?-c1:c1,cZ>cY?cx():bk(c0,cZ++,c3)})},ac.prototype.equals=function(cX){return cX instanceof ac?this._start===cX._start&&this._end===cX._end&&this._step===cX._step:cq(this,cX)};var q;g(ao,V),ao.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ao.prototype.get=function(cY,cX){return this.has(cY)?this._value:cX},ao.prototype.contains=function(cX){return N(this._value,cX)},ao.prototype.slice=function(cZ,cX){var cY=this.size;return cR(cZ,cX,cY)?this:new ao(this._value,a3(cX,cY)-bg(cZ,cY))},ao.prototype.reverse=function(){return this},ao.prototype.indexOf=function(cX){return N(this._value,cX)?0:-1},ao.prototype.lastIndexOf=function(cX){return N(this._value,cX)?this.size:-1},ao.prototype.__iterate=function(cZ,cX){for(var cY=0;cY<this.size;cY++){if(cZ(this._value,cY,this)===!1){return cY+1}}return cY},ao.prototype.__iterator=function(c0,cY){var cX=this,cZ=0;return new aO(function(){return cZ<cX.size?bk(c0,cZ++,cX._value):cx()})},ao.prototype.equals=function(cX){return cX instanceof ao?N(this._value,cX._value):cq(cX)};var bS;aD.Iterator=aO,C(aD,{toArray:function(){z(this.size);var cX=new Array(this.size||0);return this.valueSeq().__iterate(function(cY,cZ){cX[cZ]=cY}),cX},toIndexedSeq:function(){return new x(this)},toJS:function(){return this.toSeq().map(function(cX){return cX&&"function"==typeof cX.toJS?cX.toJS():cX}).__toJS()},toJSON:function(){return this.toSeq().map(function(cX){return cX&&"function"==typeof cX.toJSON?cX.toJSON():cX}).__toJS()},toKeyedSeq:function(){return new af(this,!0)},toMap:function(){return bj(this.toKeyedSeq())},toObject:function(){z(this.size);var cX={};return this.__iterate(function(cZ,cY){cX[cY]=cZ}),cX},toOrderedMap:function(){return cV(this.toKeyedSeq())},toOrderedSet:function(){return bA(e(this)?this.valueSeq():this)},toSet:function(){return cv(e(this)?this.valueSeq():this)},toSetSeq:function(){return new Y(this)},toSeq:function(){return bR(this)?this.toIndexedSeq():e(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return l(e(this)?this.valueSeq():this)},toList:function(){return aP(e(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(cY,cX){return 0===this.size?cY+cX:cY+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+cX},concat:function(){var cX=a9.call(arguments,0);return b5(this,bG(this,cX))},contains:function(cX){return this.some(function(cY){return N(cY,cX)})},entries:function(){return this.__iterator(an)},every:function(cX,cY){z(this.size);var cZ=!0;return this.__iterate(function(c1,c0,c2){return cX.call(cY,c1,c0,c2)?void 0:(cZ=!1,!1)}),cZ},filter:function(cX,cY){return b5(this,aq(this,cX,cY,!0))},find:function(cX,cZ,cY){var c0=this.findEntry(cX,cZ);return c0?c0[1]:cY},findEntry:function(cX,cY){var cZ;return this.__iterate(function(c1,c0,c2){return cX.call(cY,c1,c0,c2)?(cZ=[c0,c1],!1):void 0}),cZ},findLastEntry:function(cX,cY){return this.toSeq().reverse().findEntry(cX,cY)},forEach:function(cY,cX){return z(this.size),this.__iterate(cX?cY.bind(cX):cY)},join:function(cZ){z(this.size),cZ=void 0!==cZ?""+cZ:",";var cY="",cX=!0;return this.__iterate(function(c0){cX?cX=!1:cY+=cZ,cY+=null!==c0&&void 0!==c0?c0.toString():""}),cY},keys:function(){return this.__iterator(aI)},map:function(cY,cX){return b5(this,b1(this,cY,cX))},reduce:function(c0,cX,cY){z(this.size);var c1,cZ;return arguments.length<2?cZ=!0:c1=cX,this.__iterate(function(c3,c2,c4){cZ?(cZ=!1,c1=c3):c1=c0.call(cY,c1,c3,c2,c4)}),c1},reduceRight:function(c0,cX,cY){var cZ=this.toKeyedSeq().reverse();return cZ.reduce.apply(cZ,arguments)},reverse:function(){return b5(this,P(this,!0))},slice:function(cY,cX){return b5(this,bQ(this,cY,cX,!0))},some:function(cX,cY){return !this.every(b2(cX),cY)},sort:function(cX){return b5(this,be(this,cX))},values:function(){return this.__iterator(aF)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return !0})},count:function(cX,cY){return t(cX?this.toSeq().filter(cX,cY):this)},countBy:function(cX,cY){return at(this,cX,cY)},equals:function(cX){return cq(this,cX)},entrySeq:function(){var cY=this;if(cY._cache){return new bd(cY._cache)}var cX=cY.toSeq().map(ay).toIndexedSeq();return cX.fromEntrySeq=function(){return cY.toSeq()},cX},filterNot:function(cX,cY){return this.filter(b2(cX),cY)},findLast:function(cX,cZ,cY){return this.toKeyedSeq().reverse().find(cX,cZ,cY)},first:function(){return this.find(aa)},flatMap:function(cY,cX){return b5(this,b9(this,cY,cX))},flatten:function(cX){return b5(this,aw(this,cX,!0))},fromEntrySeq:function(){return new M(this)},get:function(cY,cX){return this.find(function(cZ,c0){return N(c0,cY)},void 0,cX)},getIn:function(cX,cZ){for(var c1,c2=this,cY=bs(cX);!(c1=cY.next()).done;){var c0=c1.value;if(c2=c2&&c2.get?c2.get(c0,aY):aY,c2===aY){return cZ}}return c2},groupBy:function(cX,cY){return b4(this,cX,cY)},has:function(cX){return this.get(cX,aY)!==aY},hasIn:function(cX){return this.getIn(cX,aY)!==aY},isSubset:function(cX){return cX="function"==typeof cX.contains?cX:aD(cX),this.every(function(cY){return cX.contains(cY)})},isSuperset:function(cX){return cX.isSubset(this)},keySeq:function(){return this.toSeq().map(co).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(cX){return n(this,cX)},maxBy:function(cY,cX){return n(this,cX,cY)},min:function(cX){return n(this,cX?bm(cX):a0)},minBy:function(cY,cX){return n(this,cX?bm(cX):a0,cY)},rest:function(){return this.slice(1)},skip:function(cX){return this.slice(Math.max(0,cX))},skipLast:function(cX){return b5(this,this.toSeq().reverse().skip(cX).reverse())},skipWhile:function(cX,cY){return b5(this,bB(this,cX,cY,!0))},skipUntil:function(cX,cY){return this.skipWhile(b2(cX),cY)},sortBy:function(cY,cX){return b5(this,be(this,cX,cY))},take:function(cX){return this.slice(0,Math.max(0,cX))},takeLast:function(cX){return b5(this,this.toSeq().reverse().take(cX).reverse())},takeWhile:function(cX,cY){return b5(this,H(this,cX,cY))},takeUntil:function(cX,cY){return this.takeWhile(b2(cX),cY)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=aZ(this))}});var E=aD.prototype;E[y]=!0,E[bL]=E.values,E.__toJS=E.toArray,E.__toStringMapper=cA,E.inspect=E.toSource=function(){return this.toString()},E.chain=E.flatMap,function(){try{Object.defineProperty(E,"length",{get:function(){if(!aD.noLengthWarning){var cY;try{throw new Error}catch(cZ){cY=cZ.stack}if(-1===cY.indexOf("_wrapObject")){return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+cY),this.size}}}})}catch(cX){}}(),C(S,{flip:function(){return b5(this,u(this))},findKey:function(cX,cY){var cZ=this.findEntry(cX,cY);return cZ&&cZ[0]},findLastKey:function(cX,cY){return this.toSeq().reverse().findKey(cX,cY)},keyOf:function(cX){return this.findKey(function(cY){return N(cY,cX)})},lastKeyOf:function(cX){return this.findLastKey(function(cY){return N(cY,cX)})},mapEntries:function(c0,cY){var cX=this,cZ=0;return b5(this,this.toSeq().map(function(c2,c1){return c0.call(cY,[c1,c2],cZ++,cX)}).fromEntrySeq())},mapKeys:function(cZ,cY){var cX=this;return b5(this,this.toSeq().flip().map(function(c1,c0){return cZ.call(cY,c1,c0,cX)}).flip())}});var v=S.prototype;v[aj]=!0,v[bL]=E.entries,v.__toJS=E.toObject,v.__toStringMapper=function(cY,cX){return cX+": "+cA(cY)},C(bH,{toKeyedSeq:function(){return new af(this,!1)},filter:function(cX,cY){return b5(this,aq(this,cX,cY,!1))},findIndex:function(cX,cY){var cZ=this.findEntry(cX,cY);return cZ?cZ[0]:-1},indexOf:function(cY){var cX=this.toKeyedSeq().keyOf(cY);return void 0===cX?-1:cX},lastIndexOf:function(cX){return this.toSeq().reverse().indexOf(cX)},reverse:function(){return b5(this,P(this,!1))},slice:function(cY,cX){return b5(this,bQ(this,cY,cX,!1))},splice:function(cZ,cY){var c0=arguments.length;if(cY=Math.max(0|cY,0),0===c0||2===c0&&!cY){return this}cZ=bg(cZ,this.size);var cX=this.slice(0,cZ);return b5(this,1===c0?cX:cX.concat(bV(arguments,2),this.slice(cZ+cY)))},findLastIndex:function(cX,cZ){var cY=this.toKeyedSeq().findLastKey(cX,cZ);return void 0===cY?-1:cY},first:function(){return this.get(0)},flatten:function(cX){return b5(this,aw(this,cX,!1))},get:function(cY,cX){return cY=bI(this,cY),0>cY||this.size===1/0||void 0!==this.size&&cY>this.size?cX:this.find(function(cZ,c0){return c0===cY},void 0,cX)},has:function(cX){return cX=bI(this,cX),cX>=0&&(void 0!==this.size?this.size===1/0||cX<this.size:-1!==this.indexOf(cX))},interpose:function(cX){return b5(this,cF(this,cX))},interleave:function(){var cX=[this].concat(bV(arguments)),cY=bT(this.toSeq(),V.of,cX),cZ=cY.flatten(!0);return cY.size&&(cZ.size=cY.size*cX.length),b5(this,cZ)},last:function(){return this.get(-1)},skipWhile:function(cX,cY){return b5(this,bB(this,cX,cY,!1))},zip:function(){var cX=[this].concat(bV(arguments));return b5(this,bT(this,aL,cX))},zipWith:function(cX){var cY=bV(arguments);return cY[0]=this,b5(this,bT(this,cX,cY))}}),bH.prototype[cP]=!0,bH.prototype[bc]=!0,C(bq,{get:function(cY,cX){return this.has(cY)?cY:cX},contains:function(cX){return this.has(cX)},keySeq:function(){return this.valueSeq()}}),bq.prototype.has=E.contains,C(cC,S.prototype),C(V,bH.prototype),C(ad,bq.prototype),C(b8,S.prototype),C(cM,bH.prototype),C(b7,bq.prototype);var bX={Iterable:aD,Seq:Z,Collection:aC,Map:bj,OrderedMap:cV,List:aP,Stack:l,Set:cv,OrderedSet:bA,Record:p,Range:ac,Repeat:ao,is:N,fromJS:bb};return bX})},function(c,b,d){var e;e=function(){return function(){return function(g){var f=new g.api.Command("indent");f.queryEnabled=function(){var i=new g.api.Selection,h=i.getContaining(function(j){return"UL"===j.nodeName||"OL"===j.nodeName});return g.api.Command.prototype.queryEnabled.call(this)&&g.allowsBlockElements()&&!h},g.commands.indent=f}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=function(h){f.api.Command.call(this,h)};g.prototype=Object.create(f.api.Command.prototype),g.prototype.constructor=g,g.prototype.execute=function(l){function h(o){if(o.length>0){var n=document.createElement(k.nodeName);o.forEach(function(p){n.appendChild(p)}),k.parentNode.insertBefore(n,k.nextElementSibling)}}if(this.queryState()){var j=new f.api.Selection,i=j.range,k=j.getContaining(function(n){return"OL"===n.nodeName||"UL"===n.nodeName}),m=j.getContaining(function(n){return"LI"===n.nodeName});f.transactionManager.run(function(){if(m){var s=new f.api.Node(m).nextAll();h(s),j.placeMarkers();var p=document.createElement("p");p.innerHTML=m.innerHTML,k.parentNode.insertBefore(p,k.nextElementSibling),m.parentNode.removeChild(m)}else{var n=Array.prototype.map.call(k.querySelectorAll("li"),function(t){return i.intersectsNode(t)&&t}).filter(function(t){return t}),r=n.slice(-1)[0],q=new f.api.Node(r).nextAll();h(q),j.placeMarkers();var o=document.createDocumentFragment();n.forEach(function(u){var t=document.createElement("p");t.innerHTML=u.innerHTML,o.appendChild(t)}),k.parentNode.insertBefore(o,k.nextElementSibling),n.forEach(function(t){t.parentNode.removeChild(t)})}0===k.childNodes.length&&k.parentNode.removeChild(k),j.selectMarkers()}.bind(this))}else{f.api.Command.prototype.execute.call(this,l)}},g.prototype.queryEnabled=function(){return f.api.Command.prototype.queryEnabled.call(this)&&f.allowsBlockElements()},f.commands.insertOrderedList=new g("insertOrderedList"),f.commands.insertUnorderedList=new g("insertUnorderedList")}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.Command("outdent");g.queryEnabled=function(){var i=new f.api.Selection,h=i.getContaining(function(j){return"UL"===j.nodeName||"OL"===j.nodeName});return f.api.Command.prototype.queryEnabled.call(this)&&f.allowsBlockElements()&&!h},f.commands.outdent=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.Command("redo");g.execute=function(){f.undoManager.redo()},g.queryEnabled=function(){return f.undoManager.position>0},f.commands.redo=g,f.options.undo.enabled&&f.el.addEventListener("keydown",function(h){h.shiftKey&&(h.metaKey||h.ctrlKey)&&90===h.keyCode&&(h.preventDefault(),g.execute())})}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.Command("subscript");f.commands.subscript=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.Command("superscript");f.commands.superscript=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.Command("undo");g.execute=function(){f.undoManager.undo()},g.queryEnabled=function(){return f.undoManager.position<f.undoManager.length},f.commands.undo=g,f.options.undo.enabled&&f.el.addEventListener("keydown",function(h){h.shiftKey||!h.metaKey&&!h.ctrlKey||90!==h.keyCode||(h.preventDefault(),g.execute())})}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[e(127),e(128),e(70),e(71)],f=function(k,h,j,g){function i(n,q){function p(r){var t=k(r.map(function(u){var v=h(u.addedNodes),w=h(u.removedNodes);return v.concat(w)})),s=t.filter(function(u){return !g.isEmptyTextNode(u)}).filter(function(u){return !j.isSelectionMarkerNode(u)});return s.length>0}var o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,m=!1,l=new o(function(r){if(!m&&p(r)){m=!0;try{q()}catch(s){throw s}finally{setTimeout(function(){m=!1},0)}}});return l.observe(n,{attributes:!0,childList:!0,subtree:!0}),l}return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.CommandPatch("bold");g.queryEnabled=function(){var i=new f.api.Selection,h=i.getContaining(function(j){return/^(H[1-6])$/.test(j.nodeName)});return f.api.CommandPatch.prototype.queryEnabled.apply(this,arguments)&&!h},f.commandPatches.bold=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){var f="\ufeff";return function(){return function(h){var g=new h.api.CommandPatch("indent");g.execute=function(i){h.transactionManager.run(function(){var k=new h.api.Selection,j=k.range,l="P"===j.commonAncestorContainer.nodeName&&"<br>"===j.commonAncestorContainer.innerHTML;if(l){var n=document.createTextNode(f);j.insertNode(n),j.setStart(n,0),j.setEnd(n,0),k.selection.removeAllRanges(),k.selection.addRange(j)}h.api.CommandPatch.prototype.execute.call(this,i),k=new h.api.Selection;var m=k.getContaining(function(o){return"BLOCKQUOTE"===o.nodeName});m&&m.removeAttribute("style")}.bind(this))},h.commandPatches.indent=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[],f=function(){return function(){return function(g){var h=new g.api.CommandPatch("insertHTML"),i=g.element;h.execute=function(j){g.transactionManager.run(function(){function k(l){var n=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,null,!1),m=n.firstChild();if(m){do{"SPAN"===m.nodeName?i.unwrap(l,m):(m.style.lineHeight=null,""===m.getAttribute("style")&&m.removeAttribute("style")),k(m)}while(m=n.nextSibling())}}g.api.CommandPatch.prototype.execute.call(this,j),k(g.el)}.bind(this))},g.commandPatches.insertHTML=h}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){return function(){return function(g){var j=g.element,h=g.node,i=function(k){g.api.CommandPatch.call(this,k)};i.prototype=Object.create(g.api.CommandPatch.prototype),i.prototype.constructor=i,i.prototype.execute=function(k){g.transactionManager.run(function(){if(g.api.CommandPatch.prototype.execute.call(this,k),this.queryState()){var o=new g.api.Selection,n=o.getContaining(function(p){return"OL"===p.nodeName||"UL"===p.nodeName});if(n.nextElementSibling&&0===n.nextElementSibling.childNodes.length&&h.removeNode(n.nextElementSibling),n){var m=n.parentNode;m&&/^(H[1-6]|P)$/.test(m.nodeName)&&(o.placeMarkers(),h.insertAfter(n,m),o.selectMarkers(),2===m.childNodes.length&&h.isEmptyTextNode(m.firstChild)&&h.removeNode(m),0===m.childNodes.length&&h.removeNode(m))}var l=Array.prototype.slice.call(n.childNodes);l.forEach(function(p){var q=Array.prototype.slice.call(p.childNodes);q.forEach(function(s){if("SPAN"===s.nodeName){var r=s;j.unwrap(p,r)}else{s.nodeType===Node.ELEMENT_NODE&&(s.style.lineHeight=null,""===s.getAttribute("style")&&s.removeAttribute("style"))}})})}}.bind(this))},g.commandPatches.insertOrderedList=new i("insertOrderedList"),g.commandPatches.insertUnorderedList=new i("insertUnorderedList")}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.CommandPatch("outdent");g.execute=function(){f.transactionManager.run(function(){var j=new f.api.Selection,h=j.range,m=j.getContaining(function(o){return"BLOCKQUOTE"===o.nodeName});if("BLOCKQUOTE"===h.commonAncestorContainer.nodeName){j.placeMarkers(),j.selectMarkers(!0);var n=h.cloneContents();m.parentNode.insertBefore(n,m),h.deleteContents(),j.selectMarkers(),""===m.textContent&&m.parentNode.removeChild(m)}else{var i=j.getContaining(function(o){return"P"===o.nodeName});if(i){var k=new f.api.Node(i).nextAll();if(k.length){var l=document.createElement(m.nodeName);k.forEach(function(o){l.appendChild(o)}),m.parentNode.insertBefore(l,m.nextElementSibling)}j.placeMarkers(),m.parentNode.insertBefore(i,m.nextElementSibling),j.selectMarkers(),""===m.innerHTML&&m.parentNode.removeChild(m)}else{f.api.CommandPatch.prototype.execute.call(this)}}}.bind(this))},f.commandPatches.outdent=g}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(c,b,d){var e;e=function(){return function(){return function(f){var g=new f.api.CommandPatch("createLink");f.commandPatches.createLink=g,g.execute=function(j){var i=new f.api.Selection;if(i.range.collapsed){var k=document.createElement("a");k.setAttribute("href",j),k.textContent=j,i.range.insertNode(k);var h=document.createRange();h.setStartBefore(k),h.setEndAfter(k),i.selection.removeAllRanges(),i.selection.addRange(h)}else{f.api.CommandPatch.prototype.execute.call(this,j)}}}}}.call(b,d,b,c),!(void 0!==e&&(c.exports=e))},function(d,c,e){var b,f;b=[],f=function(){return function(){return function(g){var h=g.element;g.allowsBlockElements()&&g.el.addEventListener("keyup",function(k){if(8===k.keyCode||46===k.keyCode){var j=new g.api.Selection,i=j.getContaining(function(l){return"P"===l.nodeName});i&&g.transactionManager.run(function(){j.placeMarkers();var l=Array.prototype.slice.call(i.childNodes);l.forEach(function(m){if("SPAN"===m.nodeName){var n=m;h.unwrap(i,n)}else{m.nodeType===Node.ELEMENT_NODE&&(m.style.lineHeight=null,""===m.getAttribute("style")&&m.removeAttribute("style"))}}),j.selectMarkers()},!0)}})}}}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(e,h,d){function b(n,m,q){if("function"!=typeof n){return k}if("undefined"==typeof m||!("prototype" in n)){return n}var p=n.__bindData__;if("undefined"==typeof p&&(l.funcNames&&(p=!n.name),p=p||!l.funcDecomp,!p)){var o=g.call(n);l.funcNames||(p=!c.test(o)),p||(p=f.test(o),i(n,p))}if(p===!1||p!==!0&&1&p[1]){return n}switch(q){case 1:return function(r){return n.call(m,r)};case 2:return function(s,r){return n.call(m,s,r)};case 3:return function(s,r,t){return n.call(m,s,r,t)};case 4:return function(r,t,s,u){return n.call(m,r,t,s,u)}}return j(n,m)}var j=d(143),k=d(144),i=d(145),l=d(146),c=/^\s*function[ \n\r\t]+\w/,f=/\bthis\b/,g=Function.prototype.toString;e.exports=b},function(g,f,i){var e=i(147),c=i(54),d=i(148),b=e(b=Object.keys)&&b,h=b?function(j){return c(j)?b(j):[]}:d;g.exports=h},function(c,b,d){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};c.exports=e},function(c,b,d){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};c.exports=e},function(d,c,f){function b(g){return e[g]}var e=f(149);d.exports=b},function(c,b,g){var f=g(150),d=g(87),e=RegExp("["+d(f).join("")+"]","g");c.exports=e},function(f,d,h){function c(i){return"function"==typeof i&&e.test(i)}var b=Object.prototype,g=b.toString,e=RegExp("^"+String(g).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");f.exports=c},function(e,d,g){var h=g(151),b=Object.prototype,f=b.hasOwnProperty,c=function(k){var j,l=k,i=[];if(!l){return i}if(!h[typeof k]){return i}for(j in l){f.call(l,j)&&i.push(j)}return i};e.exports=c},function(d,c,e){var b,f;b=[e(129),e(130),e(131)],f=function(h,i,j){var g=function(o,k,r){var q,n=o,w=n;if(!n){return w}var t=arguments,l=0,p="number"==typeof r?2:t.length;if(p>3&&"function"==typeof t[p-2]){var v=h(t[--p-1],t[p--],2)}else{p>2&&"function"==typeof t[p-1]&&(v=t[--p])}for(;++l<p;){if(n=t[l],n&&j[typeof n]){for(var s=-1,u=j[typeof n]&&i(n),m=u?u.length:0;++s<m;){q=u[s],w[q]=v?v(w[q],n[q]):n[q]}}}return w};return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(130),e(131)],f=function(g,i){var h=function(n,j,q){var p,m=n,u=m;if(!m){return u}for(var s=arguments,k=0,o="number"==typeof q?2:s.length;++k<o;){if(m=s[k],m&&i[typeof m]){for(var r=-1,t=i[typeof m]&&g(m),l=t?t.length:0;++r<l;){p=t[r],"undefined"==typeof u[p]&&(u[p]=m[p])}}}return u};return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(p){for(var l=arguments,j=0,n=l.length,m=p?p.length:0;++j<n;){for(var k=-1,o=l[j];++k<m;){p[k]===o&&(h.call(p,k--,1),m--)}}return p}var i=[],h=i.splice;return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(132),e(133)],f=function(g,k){function h(r,q,l){var p=0,o=r?r.length:0;if("number"!=typeof q&&null!=q){var m=o;for(q=g(q,l,3);m--&&q(r[m],m,r);){p++}}else{if(p=q,null==p||l){return r?r[o-1]:j}}return k(r,i(0,o-p))}var j,i=Math.max;return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(134),e(135),e(136),e(137)],f=function(k,i,h,g){function j(s,r,p){var n=-1,o=k,q=s?s.length:0,m=!1;return p=(0>p?l(0,q+p):p)||0,h(s)?m=o(s,r,p)>-1:"number"==typeof q?m=(g(s)?s.indexOf(r,p):o(s,r,p))>-1:i(s,function(t){return ++n>=p?!(m=t===r):void 0}),m}var l=Math.max;return j}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(138),e(130),e(139)],f=function(g,i,j){function h(k){return null==k?"":String(k).replace(j,g)}return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(140),e(141)],f=function(i,g){function h(m,j,l,k){return"boolean"!=typeof j&&null!=j&&(k=l,l="function"!=typeof j&&k&&k[j]===m?null:j,j=!1),null!=l&&(m=g(m,l,k)),i(m,j)}return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(137),e(133),e(142)],f=function(g,j,h){function i(k){return k&&"number"==typeof k.length?j(k):h(k)}return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(152),e(153),e(154),e(155)],f=function(n,h,m,j){function i(p,o,s){if("function"!=typeof p){return h}if("undefined"==typeof o||!("prototype" in p)){return p}var r=p.__bindData__;if("undefined"==typeof r&&(j.funcNames&&(r=!p.name),r=r||!j.funcDecomp,!r)){var q=k.call(p);j.funcNames||(r=!g.test(q)),r||(r=l.test(q),m(p,r))}if(r===!1||r!==!0&&1&r[1]){return p}switch(s){case 1:return function(t){return p.call(o,t)};case 2:return function(u,t){return p.call(o,u,t)};case 3:return function(u,t,v){return p.call(o,u,t,v)};case 4:return function(t,v,u,w){return p.call(o,t,v,u,w)}}return n(p,o)}var g=/^\s*function[ \n\r\t]+\w/,l=/\bthis\b/,k=Function.prototype.toString;return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(156),e(157),e(158)],f=function(j,h,i){var g=j(g=Object.keys)&&g,k=g?function(l){return h(l)?g(l):[]}:i;return k}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){var g={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(129),e(159),e(157),e(130),e(160)],f=function(i,l,g,j,k){function h(r,n,s){var q=typeof r;if(null==r||"function"==q){return i(r,n,s)}if("object"!=q){return k(r)}var p=j(r),o=p[0],m=r[o];return 1!=p.length||m!==m||g(m)?function(u){for(var v=p.length,t=!1;v--&&(t=l(u[p[v]],r[p[v]],null,!0));){}return t}:function(u){var t=u[o];return m===t&&(0!==m||1/m==1/t)}}return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(m,l,i){l||(l=0),"undefined"==typeof i&&(i=m?m.length:0);for(var j=-1,k=i-l||0,h=Array(0>k?0:k);++j<k;){h[j]=m[l+j]}return h}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(l,k,i){for(var h=(i||0)-1,j=l?l.length:0;++h<j;){if(l[h]===k){return h}}return -1}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(129),e(130),e(131)],f=function(h,i,j){var g=function(m,r,p){var n,l=m,s=l;if(!l){return s}if(!j[typeof l]){return s}r=r&&"undefined"==typeof p?r:h(r,p,3);for(var o=-1,q=j[typeof l]&&i(l),k=q?q.length:0;++o<k;){if(n=q[o],r(l[n],n,m)===!1){return s}}return s};return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(156)],f=function(i){var j="[object Array]",g=Object.prototype,l=g.toString,k=i(k=Array.isArray)&&k,h=k||function(m){return m&&"object"==typeof m&&"number"==typeof m.length&&l.call(m)==j||!1};return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function i(k){return"string"==typeof k||k&&"object"==typeof k&&j.call(k)==h||!1}var h="[object String]",g=Object.prototype,j=g.toString;return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(161)],f=function(h){function g(i){return h[i]}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(161),e(130)],f=function(i,g){var h=RegExp("["+g(i).join("")+"]","g");return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(162),e(136)],f=function(h,g){function i(m,o,k,p){for(var l=(p||0)-1,j=m?m.length:0,t=[];++l<j;){var q=m[l];if(q&&"object"==typeof q&&"number"==typeof q.length&&(g(q)||h(q))){o||(q=i(q,o,k));var s=-1,n=q.length,r=t.length;for(t.length+=n;++s<n;){t[r++]=q[s]}}else{k||t.push(q)}}return t}return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(132),e(135)],f=function(g,h){function i(n,o,k){var l=-1,m=n?n.length:0;if(o=g(o,k,3),"number"==typeof m){for(var j=Array(m);++l<m;){j[l]=o(n[l],l,n)}}else{j=[],h(n,function(q,p,r){j[++l]=o(q,p,r)})}return j}return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(130)],f=function(h){function g(k){for(var j=-1,l=h(k),m=l.length,i=Array(m);++j<m;){i[j]=k[l[j]]}return i}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){function g(i,h){return arguments.length>2?b(i,17,f(arguments,2),null,h):b(i,1,null,null,h)}var b=e(169),f=e(170);d.exports=g},function(d,c,e){function b(f){return f}d.exports=b},function(e,d,h){var c=h(171),f=h(172),g={configurable:!1,enumerable:!1,value:null,writable:!1},b=function(){try{var m={},k=c(k=Object.defineProperty)&&k,j=k(m,m,m)&&k}catch(l){}return j}(),i=b?function(j,k){g.value=k,b(j,"__bindData__",g)}:f;e.exports=i},function(c,b,d){(function(g){var e=d(173),h=/\bthis\b/,f={};f.funcDecomp=!e(g.WinRTError)&&h.test(function(){return this}),f.funcNames="string"==typeof Function.name,c.exports=f}).call(b,function(){return this}())},function(f,d,h){function c(i){return"function"==typeof i&&e.test(i)}var b=Object.prototype,g=b.toString,e=RegExp("^"+String(g).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");f.exports=c},function(e,d,g){var h=g(115),b=Object.prototype,f=b.hasOwnProperty,c=function(k){var j,l=k,i=[];if(!l){return i}if(!h[typeof k]){return i}for(j in l){f.call(l,j)&&i.push(j)}return i};e.exports=c},function(c,b,e){var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};c.exports=d},function(c,b,e){var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};c.exports=d},function(c,b,d){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};c.exports=e},function(d,c,e){var b,f;b=[e(163),e(133)],f=function(g,h){function i(k,j){return arguments.length>2?g(k,17,h(arguments,2),null,j):g(k,1,null,null,j)}return i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(h){return h}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(156),e(164)],f=function(h,i){var j={configurable:!1,enumerable:!1,value:null,writable:!1},g=function(){try{var p={},m=h(m=Object.defineProperty)&&m,l=m(p,p,p)&&m}catch(n){}return l}(),k=g?function(l,m){j.value=m,g(l,"__bindData__",j)}:i;return k}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(156)],f=function(g){var i=/\bthis\b/,h={};return h.funcDecomp=!g(window.WinRTError)&&i.test(function(){return this}),h.funcNames="string"==typeof Function.name,h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function h(k){return"function"==typeof k&&i.test(k)}var g=Object.prototype,j=g.toString,i=RegExp("^"+String(j).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(131)],f=function(h){function g(i){return !(!i||!h[typeof i])}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(131)],f=function(j){var g=Object.prototype,i=g.hasOwnProperty,h=function(m){var l,n=m,k=[];if(!n){return k}if(!j[typeof m]){return k}for(l in n){i.call(n,l)&&k.push(l)}return k};return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(165),e(166),e(167),e(131),e(168)],f=function(u,i,h,q,w){function l(P,O,E,L,R,Q){if(E){var J=E(P,O);if("undefined"!=typeof J){return !!J}}if(P===O){return 0!==P||1/P==1/O}var D=typeof P,B=typeof O;if(!(P!==P||P&&q[D]||O&&q[B])){return !1}if(null==P||null==O){return P===O}var y=g.call(P),H=g.call(O);if(y==v&&(y=k),H==v&&(H=k),y!=H){return !1}switch(y){case t:case s:return +P==+O;case r:return P!=+P?O!=+O:0==P?1/P==1/O:P==+O;case o:case m:return P==String(O)}var F=y==p;if(!F){var K=j.call(P,"__wrapped__"),x=j.call(O,"__wrapped__");if(K||x){return l(K?P.__wrapped__:P,x?O.__wrapped__:O,E,L,R,Q)}if(y!=k){return !1}var C=P.constructor,z=O.constructor;if(C!=z&&!(h(C)&&C instanceof C&&h(z)&&z instanceof z)&&"constructor" in P&&"constructor" in O){return !1}}var I=!R;R||(R=i()),Q||(Q=i());for(var A=R.length;A--;){if(R[A]==P){return Q[A]==O}}var M=0;if(J=!0,R.push(P),Q.push(O),F){if(A=P.length,M=O.length,J=M==A,J||L){for(;M--;){var G=A,N=O[M];if(L){for(;G--&&!(J=l(P[G],N,E,L,R,Q));){}}else{if(!(J=l(P[M],N,E,L,R,Q))){break}}}}}else{u(O,function(U,T,S){return j.call(S,T)?(M++,J=j.call(P,T)&&l(P[T],U,E,L,R,Q)):void 0}),J&&!L&&u(P,function(U,T,S){return j.call(S,T)?J=--M>-1:void 0})}return R.pop(),Q.pop(),I&&(w(R),w(Q)),J}var v="[object Arguments]",p="[object Array]",t="[object Boolean]",s="[object Date]",r="[object Number]",k="[object Object]",o="[object RegExp]",m="[object String]",n=Object.prototype,g=n.toString,j=n.hasOwnProperty;return l}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(h){return function(i){return i[h]}}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function j(k){return k&&"object"==typeof k&&"number"==typeof k.length&&i.call(k)==h||!1}var h="[object Arguments]",g=Object.prototype,i=g.toString;return j}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(174),e(175),e(167),e(133)],f=function(i,h,m,l){function g(u,r,v,q,z,o){var t=1&r,A=2&r,x=4&r,p=16&r,w=32&r;if(!A&&!m(u)){throw new TypeError}p&&!v.length&&(r&=-17,p=v=!1),w&&!q.length&&(r&=-33,w=q=!1);var s=u&&u.__bindData__;if(s&&s!==!0){return s=l(s),s[2]&&(s[2]=l(s[2])),s[3]&&(s[3]=l(s[3])),!t||1&s[1]||(s[4]=z),!t&&1&s[1]&&(r|=8),!x||4&s[1]||(s[5]=o),p&&k.apply(s[2]||(s[2]=[]),v),w&&j.apply(s[3]||(s[3]=[]),q),s[1]|=r,g.apply(null,s)}var y=1==r||17===r?i:h;return y([u,r,v,q,z,o])}var n=[],k=n.push,j=n.unshift;return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(){}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(129),e(131)],f=function(h,i){var g=function(n,o,k){var l,m=n,j=m;if(!m){return j}if(!i[typeof m]){return j}o=o&&"undefined"==typeof k?o:h(o,k,3);for(l in m){if(o(m[l],l,n)===!1){return j}}return j};return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(176)],f=function(h){function g(){return h.pop()||[]}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){function g(h){return"function"==typeof h}return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(176),e(177)],f=function(i,g){function h(j){j.length=0,i.length<g&&i.push(j)}return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(e,g,d){function l(s,p,t,o,x,m){var r=1&p,y=2&p,v=4&p,n=16&p,u=32&p;if(!y&&!c(s)){throw new TypeError}n&&!t.length&&(p&=-17,n=t=!1),u&&!o.length&&(p&=-33,u=o=!1);var q=s&&s.__bindData__;if(q&&q!==!0){return q=k(q),q[2]&&(q[2]=k(q[2])),q[3]&&(q[3]=k(q[3])),!r||1&q[1]||(q[4]=x),!r&&1&q[1]&&(p|=8),!v||4&q[1]||(q[5]=m),n&&i.apply(q[2]||(q[2]=[]),t),u&&f.apply(q[3]||(q[3]=[]),o),q[1]|=p,l.apply(null,q)}var w=1==p||17===p?h:b;return w([s,p,t,o,x,m])}var h=d(178),b=d(179),c=d(53),k=d(170),j=[],i=j.push,f=j.unshift;e.exports=l},function(c,b,d){function e(k,j,g){j||(j=0),"undefined"==typeof g&&(g=k?k.length:0);for(var h=-1,i=g-j||0,f=Array(0>i?0:i);++h<i;){f[h]=k[j+h]}return f}c.exports=e},function(f,d,h){function c(i){return"function"==typeof i&&e.test(i)}var b=Object.prototype,g=b.toString,e=RegExp("^"+String(g).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");f.exports=c},function(c,b,e){function d(){}c.exports=d},function(f,d,h){function c(i){return"function"==typeof i&&e.test(i)}var b=Object.prototype,g=b.toString,e=RegExp("^"+String(g).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");f.exports=c},function(d,c,e){var b,f;b=[e(180),e(157),e(154),e(133)],f=function(j,g,m,k){function h(r){function p(){if(o){var u=k(o);i.apply(u,arguments)}if(this instanceof p){var t=j(q.prototype),s=q.apply(t,u||arguments);return g(s)?s:t}return q.apply(n,u||arguments)}var q=r[0],o=r[2],n=r[4];return m(p,r),p}var l=[],i=l.push;return h}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[e(180),e(157),e(154),e(133)],f=function(j,h,m,k){function g(r){function t(){var B=q?x:this;if(u){var C=k(u);i.apply(C,arguments)}if((o||w)&&(C||(C=k(arguments)),o&&i.apply(C,o),w&&C.length<n)){return p|=16,g([s,v?p:-4&p,C,null,x,n])}if(C||(C=arguments),z&&(s=B[y]),this instanceof t){B=j(s.prototype);var A=s.apply(B,C);return h(A)?A:B}return s.apply(B,C)}var s=r[0],p=r[1],u=r[2],o=r[3],x=r[4],n=r[5],q=1&p,z=2&p,w=4&p,v=8&p,y=s;return m(t,r),t}var l=[],i=l.push;return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){var g=[];return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(d,c,e){var b,f;b=[],f=function(){var g=40;return g}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,d,b){function f(p){function n(){if(m){var s=i(m);g.apply(s,arguments)}if(this instanceof n){var r=k(o.prototype),q=o.apply(r,s||arguments);return j(q)?q:r}return o.apply(l,s||arguments)}var o=p[0],m=p[2],l=p[4];return e(n,p),n}var k=b(181),j=b(54),e=b(145),i=b(170),h=[],g=h.push;c.exports=f},function(d,e,c){function b(p){function r(){var z=o?v:this;if(s){var A=i(s);g.apply(A,arguments)}if((m||u)&&(A||(A=i(arguments)),m&&g.apply(A,m),u&&A.length<l)){return n|=16,b([q,t?n:-4&n,A,null,v,l])}if(A||(A=arguments),x&&(q=z[w]),this instanceof r){z=k(q.prototype);var y=q.apply(z,A);return j(y)?y:z}return q.apply(z,A)}var q=p[0],n=p[1],s=p[2],m=p[3],v=p[4],l=p[5],o=1&n,x=2&n,u=4&n,t=8&n,w=q;return f(r,p),r}var k=c(182),j=c(54),f=c(145),i=c(170),h=[],g=h.push;d.exports=b},function(d,c,e){var b,f;b=[e(156),e(157),e(164)],f=function(h,g,j){function i(l,m){return g(l)?k(l):{}}var k=h(k=Object.create)&&k;return k||(i=function(){function l(){}return function(n){if(g(n)){l.prototype=n;var m=new l;l.prototype=null}return m||window.Object()}}()),i}.apply(c,b),!(void 0!==f&&(d.exports=f))},function(c,b,d){(function(h){function g(j,k){return e(j)?i(j):{}}var f=d(185),e=d(54),i=(d(186),f(i=Object.create)&&i);i||(g=function(){function j(){}return function(l){if(e(l)){j.prototype=l;var k=new j;j.prototype=null}return k||h.Object()}}()),c.exports=g}).call(b,function(){return this}())},function(c,b,d){(function(h){function g(j,k){return e(j)?i(j):{}}var f=d(183),e=d(54),i=(d(184),f(i=Object.create)&&i);i||(g=function(){function j(){}return function(l){if(e(l)){j.prototype=l;var k=new j;j.prototype=null}return k||h.Object()}}()),c.exports=g}).call(b,function(){return this}())},function(f,d,h){function c(i){return"function"==typeof i&&e.test(i)}var b=Object.prototype,g=b.toString,e=RegExp("^"+String(g).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");f.exports=c},function(c,b,e){function d(){}c.exports=d},function(f,d,h){function c(i){return"function"==typeof i&&e.test(i)}var b=Object.prototype,g=b.toString,e=RegExp("^"+String(g).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");f.exports=c},function(c,b,e){function d(){}c.exports=d}])});